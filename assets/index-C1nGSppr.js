(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&u(_)}).observe(document,{childList:!0,subtree:!0});function o(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(d){if(d.ep)return;d.ep=!0;const p=o(d);fetch(d.href,p)}})();function sf(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var kh={exports:{}},Bo={};var hp;function qg(){if(hp)return Bo;hp=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(u,d,p){var _=null;if(p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),"key"in d){p={};for(var w in d)w!=="key"&&(p[w]=d[w])}else p=d;return d=p.ref,{$$typeof:l,type:u,key:_,ref:d!==void 0?d:null,props:p}}return Bo.Fragment=a,Bo.jsx=o,Bo.jsxs=o,Bo}var fp;function Zg(){return fp||(fp=1,kh.exports=qg()),kh.exports}var B=Zg(),Lh={exports:{}},jt={};var dp;function Ig(){if(dp)return jt;dp=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,it={};function ut(x,j,K){this.props=x,this.context=j,this.refs=it,this.updater=K||Z}ut.prototype.isReactComponent={},ut.prototype.setState=function(x,j){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,j,"setState")},ut.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function at(){}at.prototype=ut.prototype;function Q(x,j,K){this.props=x,this.context=j,this.refs=it,this.updater=K||Z}var mt=Q.prototype=new at;mt.constructor=Q,N(mt,ut.prototype),mt.isPureReactComponent=!0;var zt=Array.isArray;function gt(){}var rt={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function C(x,j,K){var nt=K.ref;return{$$typeof:l,type:x,key:j,ref:nt!==void 0?nt:null,props:K}}function W(x,j){return C(x.type,j,x.props)}function ht(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function ot(x){var j={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(K){return j[K]})}var At=/\/+/g;function Dt(x,j){return typeof x=="object"&&x!==null&&x.key!=null?ot(""+x.key):j.toString(36)}function ue(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(gt,gt):(x.status="pending",x.then(function(j){x.status==="pending"&&(x.status="fulfilled",x.value=j)},function(j){x.status==="pending"&&(x.status="rejected",x.reason=j)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function V(x,j,K,nt,st){var lt=typeof x;(lt==="undefined"||lt==="boolean")&&(x=null);var St=!1;if(x===null)St=!0;else switch(lt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(x.$$typeof){case l:case a:St=!0;break;case A:return St=x._init,V(St(x._payload),j,K,nt,st)}}if(St)return st=st(x),St=nt===""?"."+Dt(x,0):nt,zt(st)?(K="",St!=null&&(K=St.replace(At,"$&/")+"/"),V(st,j,K,"",function(Qt){return Qt})):st!=null&&(ht(st)&&(st=W(st,K+(st.key==null||x&&x.key===st.key?"":(""+st.key).replace(At,"$&/")+"/")+St)),j.push(st)),1;St=0;var _t=nt===""?".":nt+":";if(zt(x))for(var bt=0;bt<x.length;bt++)nt=x[bt],lt=_t+Dt(nt,bt),St+=V(nt,j,K,lt,st);else if(bt=P(x),typeof bt=="function")for(x=bt.call(x),bt=0;!(nt=x.next()).done;)nt=nt.value,lt=_t+Dt(nt,bt++),St+=V(nt,j,K,lt,st);else if(lt==="object"){if(typeof x.then=="function")return V(ue(x),j,K,nt,st);throw j=String(x),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return St}function X(x,j,K){if(x==null)return x;var nt=[],st=0;return V(x,nt,"","",function(lt){return j.call(K,lt,st++)}),nt}function F(x){if(x._status===-1){var j=x._result;j=j(),j.then(function(K){(x._status===0||x._status===-1)&&(x._status=1,x._result=K)},function(K){(x._status===0||x._status===-1)&&(x._status=2,x._result=K)}),x._status===-1&&(x._status=0,x._result=j)}if(x._status===1)return x._result.default;throw x._result}var dt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ct={map:X,forEach:function(x,j,K){X(x,function(){j.apply(this,arguments)},K)},count:function(x){var j=0;return X(x,function(){j++}),j},toArray:function(x){return X(x,function(j){return j})||[]},only:function(x){if(!ht(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return jt.Activity=R,jt.Children=ct,jt.Component=ut,jt.Fragment=o,jt.Profiler=d,jt.PureComponent=Q,jt.StrictMode=u,jt.Suspense=y,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,jt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return rt.H.useMemoCache(x)}},jt.cache=function(x){return function(){return x.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(x,j,K){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var nt=N({},x.props),st=x.key;if(j!=null)for(lt in j.key!==void 0&&(st=""+j.key),j)!z.call(j,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&j.ref===void 0||(nt[lt]=j[lt]);var lt=arguments.length-2;if(lt===1)nt.children=K;else if(1<lt){for(var St=Array(lt),_t=0;_t<lt;_t++)St[_t]=arguments[_t+2];nt.children=St}return C(x.type,st,nt)},jt.createContext=function(x){return x={$$typeof:_,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:p,_context:x},x},jt.createElement=function(x,j,K){var nt,st={},lt=null;if(j!=null)for(nt in j.key!==void 0&&(lt=""+j.key),j)z.call(j,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(st[nt]=j[nt]);var St=arguments.length-2;if(St===1)st.children=K;else if(1<St){for(var _t=Array(St),bt=0;bt<St;bt++)_t[bt]=arguments[bt+2];st.children=_t}if(x&&x.defaultProps)for(nt in St=x.defaultProps,St)st[nt]===void 0&&(st[nt]=St[nt]);return C(x,lt,st)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(x){return{$$typeof:w,render:x}},jt.isValidElement=ht,jt.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:F}},jt.memo=function(x,j){return{$$typeof:b,type:x,compare:j===void 0?null:j}},jt.startTransition=function(x){var j=rt.T,K={};rt.T=K;try{var nt=x(),st=rt.S;st!==null&&st(K,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(gt,dt)}catch(lt){dt(lt)}finally{j!==null&&K.types!==null&&(j.types=K.types),rt.T=j}},jt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},jt.use=function(x){return rt.H.use(x)},jt.useActionState=function(x,j,K){return rt.H.useActionState(x,j,K)},jt.useCallback=function(x,j){return rt.H.useCallback(x,j)},jt.useContext=function(x){return rt.H.useContext(x)},jt.useDebugValue=function(){},jt.useDeferredValue=function(x,j){return rt.H.useDeferredValue(x,j)},jt.useEffect=function(x,j){return rt.H.useEffect(x,j)},jt.useEffectEvent=function(x){return rt.H.useEffectEvent(x)},jt.useId=function(){return rt.H.useId()},jt.useImperativeHandle=function(x,j,K){return rt.H.useImperativeHandle(x,j,K)},jt.useInsertionEffect=function(x,j){return rt.H.useInsertionEffect(x,j)},jt.useLayoutEffect=function(x,j){return rt.H.useLayoutEffect(x,j)},jt.useMemo=function(x,j){return rt.H.useMemo(x,j)},jt.useOptimistic=function(x,j){return rt.H.useOptimistic(x,j)},jt.useReducer=function(x,j,K){return rt.H.useReducer(x,j,K)},jt.useRef=function(x){return rt.H.useRef(x)},jt.useState=function(x){return rt.H.useState(x)},jt.useSyncExternalStore=function(x,j,K){return rt.H.useSyncExternalStore(x,j,K)},jt.useTransition=function(){return rt.H.useTransition()},jt.version="19.2.3",jt}var mp;function rf(){return mp||(mp=1,Lh.exports=Ig()),Lh.exports}var Et=rf();const Li=sf(Et);var zh={exports:{}},Po={},Mh={exports:{}},Nh={};var pp;function Gg(){return pp||(pp=1,(function(l){function a(V,X){var F=V.length;V.push(X);t:for(;0<F;){var dt=F-1>>>1,ct=V[dt];if(0<d(ct,X))V[dt]=X,V[F]=ct,F=dt;else break t}}function o(V){return V.length===0?null:V[0]}function u(V){if(V.length===0)return null;var X=V[0],F=V.pop();if(F!==X){V[0]=F;t:for(var dt=0,ct=V.length,x=ct>>>1;dt<x;){var j=2*(dt+1)-1,K=V[j],nt=j+1,st=V[nt];if(0>d(K,F))nt<ct&&0>d(st,K)?(V[dt]=st,V[nt]=F,dt=nt):(V[dt]=K,V[j]=F,dt=j);else if(nt<ct&&0>d(st,F))V[dt]=st,V[nt]=F,dt=nt;else break t}}return X}function d(V,X){var F=V.sortIndex-X.sortIndex;return F!==0?F:V.id-X.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var _=Date,w=_.now();l.unstable_now=function(){return _.now()-w}}var y=[],b=[],A=1,R=null,M=3,P=!1,Z=!1,N=!1,it=!1,ut=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function mt(V){for(var X=o(b);X!==null;){if(X.callback===null)u(b);else if(X.startTime<=V)u(b),X.sortIndex=X.expirationTime,a(y,X);else break;X=o(b)}}function zt(V){if(N=!1,mt(V),!Z)if(o(y)!==null)Z=!0,gt||(gt=!0,ot());else{var X=o(b);X!==null&&ue(zt,X.startTime-V)}}var gt=!1,rt=-1,z=5,C=-1;function W(){return it?!0:!(l.unstable_now()-C<z)}function ht(){if(it=!1,gt){var V=l.unstable_now();C=V;var X=!0;try{t:{Z=!1,N&&(N=!1,at(rt),rt=-1),P=!0;var F=M;try{e:{for(mt(V),R=o(y);R!==null&&!(R.expirationTime>V&&W());){var dt=R.callback;if(typeof dt=="function"){R.callback=null,M=R.priorityLevel;var ct=dt(R.expirationTime<=V);if(V=l.unstable_now(),typeof ct=="function"){R.callback=ct,mt(V),X=!0;break e}R===o(y)&&u(y),mt(V)}else u(y);R=o(y)}if(R!==null)X=!0;else{var x=o(b);x!==null&&ue(zt,x.startTime-V),X=!1}}break t}finally{R=null,M=F,P=!1}X=void 0}}finally{X?ot():gt=!1}}}var ot;if(typeof Q=="function")ot=function(){Q(ht)};else if(typeof MessageChannel<"u"){var At=new MessageChannel,Dt=At.port2;At.port1.onmessage=ht,ot=function(){Dt.postMessage(null)}}else ot=function(){ut(ht,0)};function ue(V,X){rt=ut(function(){V(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(V){V.callback=null},l.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<V?Math.floor(1e3/V):5},l.unstable_getCurrentPriorityLevel=function(){return M},l.unstable_next=function(V){switch(M){case 1:case 2:case 3:var X=3;break;default:X=M}var F=M;M=X;try{return V()}finally{M=F}},l.unstable_requestPaint=function(){it=!0},l.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=M;M=V;try{return X()}finally{M=F}},l.unstable_scheduleCallback=function(V,X,F){var dt=l.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?dt+F:dt):F=dt,V){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=F+ct,V={id:A++,callback:X,priorityLevel:V,startTime:F,expirationTime:ct,sortIndex:-1},F>dt?(V.sortIndex=F,a(b,V),o(y)===null&&V===o(b)&&(N?(at(rt),rt=-1):N=!0,ue(zt,F-dt))):(V.sortIndex=ct,a(y,V),Z||P||(Z=!0,gt||(gt=!0,ot()))),V},l.unstable_shouldYield=W,l.unstable_wrapCallback=function(V){var X=M;return function(){var F=M;M=X;try{return V.apply(this,arguments)}finally{M=F}}}})(Nh)),Nh}var _p;function Vg(){return _p||(_p=1,Mh.exports=Gg()),Mh.exports}var jh={exports:{}},rn={};var gp;function Kg(){if(gp)return rn;gp=1;var l=rf();function a(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)b+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var u={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(y,b,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:R==null?null:""+R,children:y,containerInfo:b,implementation:A}}var _=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,rn.createPortal=function(y,b){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(a(299));return p(y,b,null,A)},rn.flushSync=function(y){var b=_.T,A=u.p;try{if(_.T=null,u.p=2,y)return y()}finally{_.T=b,u.p=A,u.d.f()}},rn.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,u.d.C(y,b))},rn.prefetchDNS=function(y){typeof y=="string"&&u.d.D(y)},rn.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var A=b.as,R=w(A,b.crossOrigin),M=typeof b.integrity=="string"?b.integrity:void 0,P=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;A==="style"?u.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:R,integrity:M,fetchPriority:P}):A==="script"&&u.d.X(y,{crossOrigin:R,integrity:M,fetchPriority:P,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},rn.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var A=w(b.as,b.crossOrigin);u.d.M(y,{crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&u.d.M(y)},rn.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var A=b.as,R=w(A,b.crossOrigin);u.d.L(y,A,{crossOrigin:R,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},rn.preloadModule=function(y,b){if(typeof y=="string")if(b){var A=w(b.as,b.crossOrigin);u.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else u.d.m(y)},rn.requestFormReset=function(y){u.d.r(y)},rn.unstable_batchedUpdates=function(y,b){return y(b)},rn.useFormState=function(y,b,A){return _.H.useFormState(y,b,A)},rn.useFormStatus=function(){return _.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var vp;function t_(){if(vp)return jh.exports;vp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),jh.exports=Kg(),jh.exports}var yp;function Yg(){if(yp)return Po;yp=1;var l=Vg(),a=rf(),o=t_();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function _(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(p(t)!==t)throw Error(u(188))}function b(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,r=e;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(r=h.return,r!==null){i=r;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return y(h),t;if(f===r)return y(h),e;f=f.sibling}throw Error(u(188))}if(i.return!==r.return)i=h,r=f;else{for(var v=!1,T=h.child;T;){if(T===i){v=!0,i=h,r=f;break}if(T===r){v=!0,r=h,i=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===i){v=!0,i=f,r=h;break}if(T===r){v=!0,r=f,i=h;break}T=T.sibling}if(!v)throw Error(u(189))}}if(i.alternate!==r)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function A(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A(t),e!==null)return e;t=t.sibling}return null}var R=Object.assign,M=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),rt=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function ot(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var At=Symbol.for("react.client.reference");function Dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===At?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case ut:return"Profiler";case it:return"StrictMode";case zt:return"Suspense";case gt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case Q:return t.displayName||"Context";case at:return(t._context.displayName||"Context")+".Consumer";case mt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rt:return e=t.displayName||null,e!==null?e:Dt(t.type)||"Memo";case z:e=t._payload,t=t._init;try{return Dt(t(e))}catch{}}return null}var ue=Array.isArray,V=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},dt=[],ct=-1;function x(t){return{current:t}}function j(t){0>ct||(t.current=dt[ct],dt[ct]=null,ct--)}function K(t,e){ct++,dt[ct]=t.current,t.current=e}var nt=x(null),st=x(null),lt=x(null),St=x(null);function _t(t,e){switch(K(lt,e),K(st,t),K(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Nm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Nm(e),t=jm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(nt),K(nt,t)}function bt(){j(nt),j(st),j(lt)}function Qt(t){t.memoizedState!==null&&K(St,t);var e=nt.current,i=jm(e,t.type);e!==i&&(K(st,t),K(nt,i))}function kt(t){st.current===t&&(j(nt),j(st)),St.current===t&&(j(St),No._currentValue=F)}var Zt,Ut;function Yt(t){if(Zt===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Zt=e&&e[1]||"",Ut=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+t+Ut}var Wt=!1;function Mt(t,e){if(!t||Wt)return"";Wt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Y){var G=Y}Reflect.construct(t,[],et)}else{try{et.call()}catch(Y){G=Y}t.call(et.prototype)}}else{try{throw Error()}catch(Y){G=Y}(et=t())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var O=v.split(`
`),q=T.split(`
`);for(h=r=0;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(r===O.length||h===q.length)for(r=O.length-1,h=q.length-1;1<=r&&0<=h&&O[r]!==q[h];)h--;for(;1<=r&&0<=h;r--,h--)if(O[r]!==q[h]){if(r!==1||h!==1)do if(r--,h--,0>h||O[r]!==q[h]){var $=`
`+O[r].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=r&&0<=h);break}}}finally{Wt=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Yt(i):""}function Ee(t,e){switch(t.tag){case 26:case 27:case 5:return Yt(t.type);case 16:return Yt("Lazy");case 13:return t.child!==e&&e!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return Mt(t.type,!1);case 11:return Mt(t.type.render,!1);case 1:return Mt(t.type,!0);case 31:return Yt("Activity");default:return""}}function qt(t){try{var e="",i=null;do e+=Ee(t,i),i=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var se=Object.prototype.hasOwnProperty,_e=l.unstable_scheduleCallback,dn=l.unstable_cancelCallback,ln=l.unstable_shouldYield,mi=l.unstable_requestPaint,Ft=l.unstable_now,mn=l.unstable_getCurrentPriorityLevel,ve=l.unstable_ImmediatePriority,Me=l.unstable_UserBlockingPriority,Je=l.unstable_NormalPriority,Ga=l.unstable_LowPriority,aa=l.unstable_IdlePriority,Fn=l.log,pn=l.unstable_setDisableYieldValue,_n=null,Ne=null;function ti(t){if(typeof Fn=="function"&&pn(t),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(_n,t)}catch{}}var un=Math.clz32?Math.clz32:Du,Va=Math.log,ju=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Va(t)/ju|0)|0}var Ka=256,Ya=262144,$a=4194304;function zi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Us(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~f,r!==0?h=zi(r):(v&=T,v!==0?h=zi(v):i||(i=T&~t,i!==0&&(h=zi(i))))):(T=r&~f,T!==0?h=zi(T):v!==0?h=zi(v):i||(i=r&~t,i!==0&&(h=zi(i)))),h===0?0:e!==0&&e!==h&&(e&f)===0&&(f=h&-h,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:h}function Xa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Uu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var t=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),t}function jr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Mi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bu(t,e,i,r,h,f){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(i=v&~i;0<i;){var $=31-un(i),et=1<<$;T[$]=0,O[$]=-1;var G=q[$];if(G!==null)for(q[$]=null,$=0;$<G.length;$++){var Y=G[$];Y!==null&&(Y.lane&=-536870913)}i&=~et}r!==0&&tl(t,r,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~e))}function tl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-un(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&261930}function el(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-un(i),h=1<<r;h&e|t[r]&e&&(t[r]|=e),i&=~h}}function nl(t,e){var i=e&-e;return i=(i&42)!==0?1:gn(i),(i&(t.suspendedLanes|e))!==0?0:i}function gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Dr(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:ap(t.type))}function Ur(t,e){var i=X.p;try{return X.p=t,e()}finally{X.p=i}}var ei=Math.random().toString(36).slice(2),je="__reactFiber$"+ei,Ke="__reactProps$"+ei,Ni="__reactContainer$"+ei,pi="__reactEvents$"+ei,il="__reactListeners$"+ei,Pu="__reactHandles$"+ei,al="__reactResources$"+ei,Ja="__reactMarker$"+ei;function Br(t){delete t[je],delete t[Ke],delete t[pi],delete t[il],delete t[Pu]}function ji(t){var e=t[je];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ni]||i[je]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Zm(t);t!==null;){if(i=t[je])return i;t=Zm(t)}return e}t=i,i=t.parentNode}return null}function sa(t){if(t=t[je]||t[Ni]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function _i(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function ra(t){var e=t[al];return e||(e=t[al]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function De(t){t[Ja]=!0}var sl=new Set,rl={};function Di(t,e){gi(t,e),gi(t+"Capture",e)}function gi(t,e){for(rl[t]=e,t=0;t<e.length;t++)sl.add(e[t])}var Qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},Hr={};function Wa(t){return se.call(Hr,t)?!0:se.call(Pr,t)?!1:Qa.test(t)?Hr[t]=!0:(Pr[t]=!0,!1)}function It(t,e,i){if(Wa(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function ce(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function vn(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ui(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qr(t,e,i){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nt(t){if(!t._valueTracker){var e=Ui(t)?"checked":"value";t._valueTracker=qr(t,e,""+t[e])}}function we(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=Ui(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function ye(t){return t.replace(Bs,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Zr(t,e,i,r,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ze(e)):t.value!==""+Ze(e)&&(t.value=""+Ze(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?ni(t,v,Ze(e)):i!=null?ni(t,v,Ze(i)):r!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ze(T):t.removeAttribute("name")}function Fa(t,e,i,r,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){Nt(t);return}i=i!=null?""+Ze(i):"",e=e!=null?""+Ze(e):i,T||e===t.value||(t.value=e),t.defaultValue=e}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Nt(t)}function ni(t,e,i){e==="number"&&oa(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function me(t,e,i,r){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Ze(i),e=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function vi(t,e,i){if(e!=null&&(e=""+Ze(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Ze(i):""}function la(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(u(92));if(ue(r)){if(1<r.length)throw Error(u(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Ze(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r),Nt(t)}function qn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ua(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Ir.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Ps(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in e)r=e[h],e.hasOwnProperty(h)&&i[h]!==r&&ua(t,h,r)}else for(var f in e)e.hasOwnProperty(f)&&ua(t,f,e[f])}function ts(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return Gr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yn(){}var qs=null;function es(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,Lt=null;function Rn(t){var e=sa(t);if(e&&(t=e.stateNode)){var i=t[Ke]||null;t:switch(t=e.stateNode,e.type){case"input":if(Zr(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ye(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var h=r[Ke]||null;if(!h)throw Error(u(90));Zr(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&we(r)}break t;case"textarea":vi(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&me(t,!!i.multiple,e,!1)}}}var re=!1;function Vr(t,e,i){if(re)return t(e,i);re=!0;try{var r=t(e);return r}finally{if(re=!1,(ha!==null||Lt!==null)&&(nu(),ha&&(e=ha,t=Lt,Lt=ha=null,Rn(e),t)))for(e=0;e<t.length;e++)Rn(t[e])}}function Bi(t,e){var i=t.stateNode;if(i===null)return null;var r=i[Ke]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=!1;if(kn)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){ns=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{ns=!1}var Zn=null,Pi=null,Ae=null;function yi(){if(Ae)return Ae;var t,e=Pi,i=e.length,r,h="value"in Zn?Zn.value:Zn.textContent,f=h.length;for(t=0;t<i&&e[t]===h[t];t++);var v=i-t;for(r=1;r<=v&&e[i-r]===h[f-r];r++);return Ae=h.slice(t,1<r?1-r:void 0)}function is(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function ol(){return!1}function Qe(t){function e(i,r,h,f,v){this._reactName=i,this._targetInst=h,this.type=r,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?as:ol,this.isPropagationStopped=ol,this}return R(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),e}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Qe(ii),fa=R({},ii,{view:0,detail:0}),$t=Qe(fa),Kr,cn,ai,ss=R({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(Kr=t.screenX-ai.screenX,cn=t.screenY-ai.screenY):cn=Kr=0,ai=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),ll=Qe(ss),Yr=R({},ss,{dataTransfer:0}),Hu=Qe(Yr),ul=R({},fa,{relatedTarget:0}),$r=Qe(ul),qu=R({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Xr=Qe(qu),Zu=R({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),In=Qe(Zu),Iu=R({},ii,{data:0}),Jr=Qe(Iu),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hl[t])?!!e[t]:!1}function Wr(){return Qr}var fl=R({},fa,{key:function(t){if(t.key){var e=bi[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dl=Qe(fl),Gu=R({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Qe(Gu),Fr=R({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Vu=Qe(Fr),pl=R({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),_l=Qe(pl),Is=R({},ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hi=Qe(Is),Ku=R({},ii,{newState:0,oldState:0}),rs=Qe(Ku),bn=[9,13,27,32],Gs=kn&&"CompositionEvent"in window,da=null;kn&&"documentMode"in document&&(da=document.documentMode);var Yu=kn&&"TextEvent"in window&&!da,Vs=kn&&(!Gs||da&&8<da&&11>=da),Ks=" ",gl=!1;function vl(t,e){switch(t){case"keyup":return bn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function to(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function zn(t,e){switch(t){case"compositionend":return to(e);case"keypress":return e.which!==32?null:(gl=!0,Ks);case"textInput":return t=e.data,t===Ks&&gl?null:t;default:return null}}function pa(t,e){if(ma)return t==="compositionend"||!Gs&&vl(t,e)?(t=yi(),Ae=Pi=Zn=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vs&&e.locale!=="ko"?null:e.data;default:return null}}var $u={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$u[t.type]:e==="textarea"}function yl(t,e,i,r){ha?Lt?Lt.push(r):Lt=[r]:ha=r,e=uu(e,"onChange"),0<e.length&&(i=new Zs("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Vn=null,os=null;function ls(t){Cm(t,0)}function us(t){var e=_i(t);if(we(e))return t}function cs(t,e){if(t==="change")return e}var bl=!1;if(kn){var Kn;if(kn){var _a="oninput"in document;if(!_a){var wl=document.createElement("div");wl.setAttribute("oninput","return;"),_a=typeof wl.oninput=="function"}Kn=_a}else Kn=!1;bl=Kn&&(!document.documentMode||9<document.documentMode)}function Ys(){Vn&&(Vn.detachEvent("onpropertychange",Sl),os=Vn=null)}function Sl(t){if(t.propertyName==="value"&&us(os)){var e=[];yl(e,os,t,es(t)),Vr(ls,e)}}function si(t,e,i){t==="focusin"?(Ys(),Vn=e,os=i,Vn.attachEvent("onpropertychange",Sl)):t==="focusout"&&Ys()}function Xu(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return us(os)}function ga(t,e){if(t==="click")return us(e)}function Ju(t,e){if(t==="input"||t==="change")return us(e)}function ri(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:ri;function va(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var h=i[r];if(!se.call(e,h)||!Ye(t[h],e[h]))return!1}return!0}function $s(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hs(t,e){var i=$s(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=$s(i)}}function Xs(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xs(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fs(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=oa(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=oa(t.document)}return e}function wi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Js=kn&&"documentMode"in document&&11>=document.documentMode,Si=null,Qs=null,ds=null,ya=!1;function Tl(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ya||Si==null||Si!==oa(r)||(r=Si,"selectionStart"in r&&wi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ds&&va(ds,r)||(ds=r,r=uu(Qs,"onSelect"),0<r.length&&(e=new Zs("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Si)))}function Ti(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ba={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},Ws={},xl={};kn&&(xl=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function $e(t){if(Ws[t])return Ws[t];if(!ba[t])return t;var e=ba[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in xl)return Ws[t]=e[i];return t}var ms=$e("animationend"),El=$e("animationiteration"),ps=$e("animationstart"),Qu=$e("transitionrun"),Al=$e("transitionstart"),Wu=$e("transitioncancel"),wa=$e("transitionend"),Ol=new Map,xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xi.push("scrollEnd");function wn(t,e){Ol.set(t,e),Di(e,[t])}var _s=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],an=0,Fs=0;function gs(){for(var t=an,e=Fs=an=0;e<t;){var i=Sn[e];Sn[e++]=null;var r=Sn[e];Sn[e++]=null;var h=Sn[e];Sn[e++]=null;var f=Sn[e];if(Sn[e++]=null,r!==null&&h!==null){var v=r.pending;v===null?h.next=h:(h.next=v.next,v.next=h),r.pending=h}f!==0&&Sa(i,h,f)}}function Ei(t,e,i,r){Sn[an++]=t,Sn[an++]=e,Sn[an++]=i,Sn[an++]=r,Fs|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function eo(t,e,i,r){return Ei(t,e,i,r),vs(t)}function Yn(t,e){return Ei(t,null,null,e),vs(t)}function Sa(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var h=!1,f=t.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&e!==null&&(h=31-un(i),t=f.hiddenUpdates,r=t[h],r===null?t[h]=[e]:r.push(e),e.lane=i|536870912),f):null}function vs(t){if(50<Oo)throw Oo=0,th=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qi={};function Fu(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,i,r){return new Fu(t,e,i,r)}function tr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $n(t,e){var i=t.alternate;return i===null?(i=sn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function no(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ys(t,e,i,r,h,f){var v=0;if(r=t,typeof t=="function")tr(t)&&(v=1);else if(typeof t=="string")v=Rg(t,i,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=sn(31,i,e,h),t.elementType=C,t.lanes=f,t;case N:return Zi(i.children,h,f,e);case it:v=8,h|=24;break;case ut:return t=sn(12,i,e,h|2),t.elementType=ut,t.lanes=f,t;case zt:return t=sn(13,i,e,h),t.elementType=zt,t.lanes=f,t;case gt:return t=sn(19,i,e,h),t.elementType=gt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:v=10;break t;case at:v=9;break t;case mt:v=11;break t;case rt:v=14;break t;case z:v=16,r=null;break t}v=29,i=Error(u(130,t===null?"null":typeof t,"")),r=null}return e=sn(v,i,e,h),e.elementType=t,e.type=r,e.lanes=f,e}function Zi(t,e,i,r){return t=sn(7,t,r,e),t.lanes=i,t}function er(t,e,i){return t=sn(6,t,null,e),t.lanes=i,t}function io(t){var e=sn(18,null,null,0);return e.stateNode=t,e}function ao(t,e,i){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function s(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:qt(e)},n.set(t,e),e)}return{value:t,source:e,stack:qt(e)}}var c=[],m=0,g=null,S=0,E=[],U=0,I=null,tt=1,ft="";function wt(t,e){c[m++]=S,c[m++]=g,g=t,S=e}function Pt(t,e,i){E[U++]=tt,E[U++]=ft,E[U++]=I,I=t;var r=tt;t=ft;var h=32-un(r)-1;r&=~(1<<h),i+=1;var f=32-un(e)+h;if(30<f){var v=h-h%5;f=(r&(1<<v)-1).toString(32),r>>=v,h-=v,tt=1<<32-un(e)+h|i<<h|r,ft=f+t}else tt=1<<f|i<<h|r,ft=t}function Ie(t){t.return!==null&&(wt(t,1),Pt(t,1,0))}function Oe(t){for(;t===g;)g=c[--m],c[m]=null,S=c[--m],c[m]=null;for(;t===I;)I=E[--U],E[U]=null,ft=E[--U],E[U]=null,tt=E[--U],E[U]=null}function hn(t,e){E[U++]=tt,E[U++]=ft,E[U++]=I,tt=e.id,ft=e.overflow,I=t}var te=null,ee=null,Gt=!1,Ai=null,Tn=!1,nr=Error(u(519));function Oi(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bs(s(e,t)),nr}function so(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[je]=t,e[Ke]=r,i){case"dialog":Kt("cancel",e),Kt("close",e);break;case"iframe":case"object":case"embed":Kt("load",e);break;case"video":case"audio":for(i=0;i<Ro.length;i++)Kt(Ro[i],e);break;case"source":Kt("error",e);break;case"img":case"image":case"link":Kt("error",e),Kt("load",e);break;case"details":Kt("toggle",e);break;case"input":Kt("invalid",e),Fa(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Kt("invalid",e);break;case"textarea":Kt("invalid",e),la(e,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||zm(e.textContent,i)?(r.popover!=null&&(Kt("beforetoggle",e),Kt("toggle",e)),r.onScroll!=null&&Kt("scroll",e),r.onScrollEnd!=null&&Kt("scrollend",e),r.onClick!=null&&(e.onclick=yn),e=!0):e=!1,e||Oi(t,!0)}function Te(t){for(te=t.return;te;)switch(te.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:te=te.return}}function oi(t){if(t!==te)return!1;if(!Gt)return Te(t),Gt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||ph(t.type,t.memoizedProps)),i=!i),i&&ee&&Oi(t),Te(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));ee=qm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));ee=qm(t)}else e===27?(e=ee,Da(t.type)?(t=bh,bh=null,ee=t):ee=e):ee=te?Jn(t.stateNode.nextSibling):null;return!0}function Ii(){ee=te=null,Gt=!1}function ro(){var t=Ai;return t!==null&&(On===null?On=t:On.push.apply(On,t),Ai=null),t}function bs(t){Ai===null?Ai=[t]:Ai.push(t)}var ws=x(null),Ci=null,li=null;function Ta(t,e,i){K(ws,e._currentValue),e._currentValue=i}function Gi(t){t._currentValue=ws.current,j(ws)}function tc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function ec(t,e,i,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var O=0;O<e.length;O++)if(T.context===e[O]){f.lanes|=i,T=f.alternate,T!==null&&(T.lanes|=i),tc(f.return,i,t),r||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(u(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),tc(v,i,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ir(t,e,i,r){t=null;for(var h=e,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(u(387));if(v=v.memoizedProps,v!==null){var T=h.type;Ye(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===St.current){if(v=h.alternate,v===null)throw Error(u(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(No):t=[No])}h=h.return}t!==null&&ec(e,t,i,r),e.flags|=262144}function Cl(t){for(t=t.firstContext;t!==null;){if(!Ye(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ss(t){Ci=t,li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function We(t){return gf(Ci,t)}function Rl(t,e){return Ci===null&&Ss(t),gf(t,e)}function gf(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},li===null){if(t===null)throw Error(u(308));li=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else li=li.next=e;return i}var E_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},A_=l.unstable_scheduleCallback,O_=l.unstable_NormalPriority,Ue={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new E_,data:new Map,refCount:0}}function oo(t){t.refCount--,t.refCount===0&&A_(O_,function(){t.controller.abort()})}var lo=null,ic=0,ar=0,sr=null;function C_(t,e){if(lo===null){var i=lo=[];ic=0,ar=rh(),sr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return ic++,e.then(vf,vf),e}function vf(){if(--ic===0&&lo!==null){sr!==null&&(sr.status="fulfilled");var t=lo;lo=null,ar=0,sr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function R_(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var h=0;h<i.length;h++)(0,i[h])(e)},function(h){for(r.status="rejected",r.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),r}var yf=V.S;V.S=function(t,e){nm=Ft(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&C_(t,e),yf!==null&&yf(t,e)};var Ts=x(null);function ac(){var t=Ts.current;return t!==null?t:pe.pooledCache}function kl(t,e){e===null?K(Ts,Ts.current):K(Ts,e.pool)}function bf(){var t=ac();return t===null?null:{parent:Ue._currentValue,pool:t}}var rr=Error(u(460)),sc=Error(u(474)),Ll=Error(u(542)),zl={then:function(){}};function wf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sf(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(yn,yn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xf(t),t;default:if(typeof e.status=="string")e.then(yn,yn);else{if(t=pe,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=r}},function(r){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xf(t),t}throw Es=e,rr}}function xs(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Es=i,rr):i}}var Es=null;function Tf(){if(Es===null)throw Error(u(459));var t=Es;return Es=null,t}function xf(t){if(t===rr||t===Ll)throw Error(u(483))}var or=null,uo=0;function Ml(t){var e=uo;return uo+=1,or===null&&(or=[]),Sf(or,t,e)}function co(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Nl(t,e){throw e.$$typeof===M?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ef(t){function e(D,k){if(t){var H=D.deletions;H===null?(D.deletions=[k],D.flags|=16):H.push(k)}}function i(D,k){if(!t)return null;for(;k!==null;)e(D,k),k=k.sibling;return null}function r(D){for(var k=new Map;D!==null;)D.key!==null?k.set(D.key,D):k.set(D.index,D),D=D.sibling;return k}function h(D,k){return D=$n(D,k),D.index=0,D.sibling=null,D}function f(D,k,H){return D.index=H,t?(H=D.alternate,H!==null?(H=H.index,H<k?(D.flags|=67108866,k):H):(D.flags|=67108866,k)):(D.flags|=1048576,k)}function v(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function T(D,k,H,J){return k===null||k.tag!==6?(k=er(H,D.mode,J),k.return=D,k):(k=h(k,H),k.return=D,k)}function O(D,k,H,J){var xt=H.type;return xt===N?$(D,k,H.props.children,J,H.key):k!==null&&(k.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===z&&xs(xt)===k.type)?(k=h(k,H.props),co(k,H),k.return=D,k):(k=ys(H.type,H.key,H.props,null,D.mode,J),co(k,H),k.return=D,k)}function q(D,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=ao(H,D.mode,J),k.return=D,k):(k=h(k,H.children||[]),k.return=D,k)}function $(D,k,H,J,xt){return k===null||k.tag!==7?(k=Zi(H,D.mode,J,xt),k.return=D,k):(k=h(k,H),k.return=D,k)}function et(D,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=er(""+k,D.mode,H),k.return=D,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return H=ys(k.type,k.key,k.props,null,D.mode,H),co(H,k),H.return=D,H;case Z:return k=ao(k,D.mode,H),k.return=D,k;case z:return k=xs(k),et(D,k,H)}if(ue(k)||ot(k))return k=Zi(k,D.mode,H,null),k.return=D,k;if(typeof k.then=="function")return et(D,Ml(k),H);if(k.$$typeof===Q)return et(D,Rl(D,k),H);Nl(D,k)}return null}function G(D,k,H,J){var xt=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return xt!==null?null:T(D,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case P:return H.key===xt?O(D,k,H,J):null;case Z:return H.key===xt?q(D,k,H,J):null;case z:return H=xs(H),G(D,k,H,J)}if(ue(H)||ot(H))return xt!==null?null:$(D,k,H,J,null);if(typeof H.then=="function")return G(D,k,Ml(H),J);if(H.$$typeof===Q)return G(D,k,Rl(D,H),J);Nl(D,H)}return null}function Y(D,k,H,J,xt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return D=D.get(H)||null,T(k,D,""+J,xt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return D=D.get(J.key===null?H:J.key)||null,O(k,D,J,xt);case Z:return D=D.get(J.key===null?H:J.key)||null,q(k,D,J,xt);case z:return J=xs(J),Y(D,k,H,J,xt)}if(ue(J)||ot(J))return D=D.get(H)||null,$(k,D,J,xt,null);if(typeof J.then=="function")return Y(D,k,H,Ml(J),xt);if(J.$$typeof===Q)return Y(D,k,H,Rl(k,J),xt);Nl(k,J)}return null}function pt(D,k,H,J){for(var xt=null,ne=null,vt=k,Ht=k=0,Jt=null;vt!==null&&Ht<H.length;Ht++){vt.index>Ht?(Jt=vt,vt=null):Jt=vt.sibling;var ie=G(D,vt,H[Ht],J);if(ie===null){vt===null&&(vt=Jt);break}t&&vt&&ie.alternate===null&&e(D,vt),k=f(ie,k,Ht),ne===null?xt=ie:ne.sibling=ie,ne=ie,vt=Jt}if(Ht===H.length)return i(D,vt),Gt&&wt(D,Ht),xt;if(vt===null){for(;Ht<H.length;Ht++)vt=et(D,H[Ht],J),vt!==null&&(k=f(vt,k,Ht),ne===null?xt=vt:ne.sibling=vt,ne=vt);return Gt&&wt(D,Ht),xt}for(vt=r(vt);Ht<H.length;Ht++)Jt=Y(vt,D,Ht,H[Ht],J),Jt!==null&&(t&&Jt.alternate!==null&&vt.delete(Jt.key===null?Ht:Jt.key),k=f(Jt,k,Ht),ne===null?xt=Jt:ne.sibling=Jt,ne=Jt);return t&&vt.forEach(function(qa){return e(D,qa)}),Gt&&wt(D,Ht),xt}function Ot(D,k,H,J){if(H==null)throw Error(u(151));for(var xt=null,ne=null,vt=k,Ht=k=0,Jt=null,ie=H.next();vt!==null&&!ie.done;Ht++,ie=H.next()){vt.index>Ht?(Jt=vt,vt=null):Jt=vt.sibling;var qa=G(D,vt,ie.value,J);if(qa===null){vt===null&&(vt=Jt);break}t&&vt&&qa.alternate===null&&e(D,vt),k=f(qa,k,Ht),ne===null?xt=qa:ne.sibling=qa,ne=qa,vt=Jt}if(ie.done)return i(D,vt),Gt&&wt(D,Ht),xt;if(vt===null){for(;!ie.done;Ht++,ie=H.next())ie=et(D,ie.value,J),ie!==null&&(k=f(ie,k,Ht),ne===null?xt=ie:ne.sibling=ie,ne=ie);return Gt&&wt(D,Ht),xt}for(vt=r(vt);!ie.done;Ht++,ie=H.next())ie=Y(vt,D,Ht,ie.value,J),ie!==null&&(t&&ie.alternate!==null&&vt.delete(ie.key===null?Ht:ie.key),k=f(ie,k,Ht),ne===null?xt=ie:ne.sibling=ie,ne=ie);return t&&vt.forEach(function(Hg){return e(D,Hg)}),Gt&&wt(D,Ht),xt}function de(D,k,H,J){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case P:t:{for(var xt=H.key;k!==null;){if(k.key===xt){if(xt=H.type,xt===N){if(k.tag===7){i(D,k.sibling),J=h(k,H.props.children),J.return=D,D=J;break t}}else if(k.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===z&&xs(xt)===k.type){i(D,k.sibling),J=h(k,H.props),co(J,H),J.return=D,D=J;break t}i(D,k);break}else e(D,k);k=k.sibling}H.type===N?(J=Zi(H.props.children,D.mode,J,H.key),J.return=D,D=J):(J=ys(H.type,H.key,H.props,null,D.mode,J),co(J,H),J.return=D,D=J)}return v(D);case Z:t:{for(xt=H.key;k!==null;){if(k.key===xt)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){i(D,k.sibling),J=h(k,H.children||[]),J.return=D,D=J;break t}else{i(D,k);break}else e(D,k);k=k.sibling}J=ao(H,D.mode,J),J.return=D,D=J}return v(D);case z:return H=xs(H),de(D,k,H,J)}if(ue(H))return pt(D,k,H,J);if(ot(H)){if(xt=ot(H),typeof xt!="function")throw Error(u(150));return H=xt.call(H),Ot(D,k,H,J)}if(typeof H.then=="function")return de(D,k,Ml(H),J);if(H.$$typeof===Q)return de(D,k,Rl(D,H),J);Nl(D,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(i(D,k.sibling),J=h(k,H),J.return=D,D=J):(i(D,k),J=er(H,D.mode,J),J.return=D,D=J),v(D)):i(D,k)}return function(D,k,H,J){try{uo=0;var xt=de(D,k,H,J);return or=null,xt}catch(vt){if(vt===rr||vt===Ll)throw vt;var ne=sn(29,vt,null,D.mode);return ne.lanes=J,ne.return=D,ne}}}var As=Ef(!0),Af=Ef(!1),xa=!1;function rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ae&2)!==0){var h=r.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),r.pending=e,e=vs(t),Sa(t,null,i),e}return Ei(t,r,e,i),vs(t)}function ho(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,el(t,i)}}function lc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?h=f=e:f=f.next=e}else h=f=e;i={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var uc=!1;function fo(){if(uc){var t=sr;if(t!==null)throw t}}function mo(t,e,i,r){uc=!1;var h=t.updateQueue;xa=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,q=O.next;O.next=null,v===null?f=q:v.next=q,v=O;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=q:T.next=q,$.lastBaseUpdate=O))}if(f!==null){var et=h.baseState;v=0,$=q=O=null,T=f;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(Xt&G)===G:(r&G)===G){G!==0&&G===ar&&(uc=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var pt=t,Ot=T;G=e;var de=i;switch(Ot.tag){case 1:if(pt=Ot.payload,typeof pt=="function"){et=pt.call(de,et,G);break t}et=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Ot.payload,G=typeof pt=="function"?pt.call(de,et,G):pt,G==null)break t;et=R({},et,G);break t;case 2:xa=!0}}G=T.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(q=$=Y,O=et):$=$.next=Y,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(O=et),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),La|=v,t.lanes=v,t.memoizedState=et}}function Of(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function Cf(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Of(i[t],e)}var lr=x(null),jl=x(0);function Rf(t,e){t=Fi,K(jl,t),K(lr,e),Fi=t|e.baseLanes}function cc(){K(jl,Fi),K(lr,lr.current)}function hc(){Fi=jl.current,j(lr),j(jl)}var Mn=x(null),Xn=null;function Oa(t){var e=t.alternate;K(Le,Le.current&1),K(Mn,t),Xn===null&&(e===null||lr.current!==null||e.memoizedState!==null)&&(Xn=t)}function fc(t){K(Le,Le.current),K(Mn,t),Xn===null&&(Xn=t)}function kf(t){t.tag===22?(K(Le,Le.current),K(Mn,t),Xn===null&&(Xn=t)):Ca()}function Ca(){K(Le,Le.current),K(Mn,Mn.current)}function Nn(t){j(Mn),Xn===t&&(Xn=null),j(Le)}var Le=x(0);function Dl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||vh(i)||yh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vi=0,Bt=null,he=null,Be=null,Ul=!1,ur=!1,Os=!1,Bl=0,po=0,cr=null,k_=0;function Ce(){throw Error(u(321))}function dc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ye(t[i],e[i]))return!1;return!0}function mc(t,e,i,r,h,f){return Vi=f,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,V.H=t===null||t.memoizedState===null?dd:Rc,Os=!1,f=i(r,h),Os=!1,ur&&(f=zf(e,i,r,h)),Lf(t),f}function Lf(t){V.H=vo;var e=he!==null&&he.next!==null;if(Vi=0,Be=he=Bt=null,Ul=!1,po=0,cr=null,e)throw Error(u(300));t===null||Pe||(t=t.dependencies,t!==null&&Cl(t)&&(Pe=!0))}function zf(t,e,i,r){Bt=t;var h=0;do{if(ur&&(cr=null),po=0,ur=!1,25<=h)throw Error(u(301));if(h+=1,Be=he=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}V.H=md,f=e(i,r)}while(ur);return f}function L_(){var t=V.H,e=t.useState()[0];return e=typeof e.then=="function"?_o(e):e,t=t.useState()[0],(he!==null?he.memoizedState:null)!==t&&(Bt.flags|=1024),e}function pc(){var t=Bl!==0;return Bl=0,t}function _c(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function gc(t){if(Ul){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ul=!1}Vi=0,Be=he=Bt=null,ur=!1,po=Bl=0,cr=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Bt.memoizedState=Be=t:Be=Be.next=t,Be}function ze(){if(he===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=Be===null?Bt.memoizedState:Be.next;if(e!==null)Be=e,he=t;else{if(t===null)throw Bt.alternate===null?Error(u(467)):Error(u(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Be===null?Bt.memoizedState=Be=t:Be=Be.next=t}return Be}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var e=po;return po+=1,cr===null&&(cr=[]),t=Sf(cr,t,e),e=Bt,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,V.H=e===null||e.memoizedState===null?dd:Rc),t}function Hl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===Q)return We(t)}throw Error(u(438,String(t)))}function vc(t){var e=null,i=Bt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=Bt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Pl(),Bt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=W;return e.index++,i}function Ki(t,e){return typeof e=="function"?e(t):e}function ql(t){var e=ze();return yc(e,he,t)}function yc(t,e,i){var r=t.queue;if(r===null)throw Error(u(311));r.lastRenderedReducer=i;var h=t.baseQueue,f=r.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}e.baseQueue=h=f,r.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{e=h.next;var T=v=null,O=null,q=e,$=!1;do{var et=q.lane&-536870913;if(et!==q.lane?(Xt&et)===et:(Vi&et)===et){var G=q.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),et===ar&&($=!0);else if((Vi&G)===G){q=q.next,G===ar&&($=!0);continue}else et={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(T=O=et,v=f):O=O.next=et,Bt.lanes|=G,La|=G;et=q.action,Os&&i(f,et),f=q.hasEagerState?q.eagerState:i(f,et)}else G={lane:et,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(T=O=G,v=f):O=O.next=G,Bt.lanes|=et,La|=et;q=q.next}while(q!==null&&q!==e);if(O===null?v=f:O.next=T,!Ye(f,t.memoizedState)&&(Pe=!0,$&&(i=sr,i!==null)))throw i;t.memoizedState=f,t.baseState=v,t.baseQueue=O,r.lastRenderedState=f}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function bc(t){var e=ze(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var r=i.dispatch,h=i.pending,f=e.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Ye(f,e.memoizedState)||(Pe=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,r]}function Mf(t,e,i){var r=Bt,h=ze(),f=Gt;if(f){if(i===void 0)throw Error(u(407));i=i()}else i=e();var v=!Ye((he||h).memoizedState,i);if(v&&(h.memoizedState=i,Pe=!0),h=h.queue,Tc(Df.bind(null,r,h,t),[t]),h.getSnapshot!==e||v||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,hr(9,{destroy:void 0},jf.bind(null,r,h,i,e),null),pe===null)throw Error(u(349));f||(Vi&127)!==0||Nf(r,e,i)}return i}function Nf(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Bt.updateQueue,e===null?(e=Pl(),Bt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function jf(t,e,i,r){e.value=i,e.getSnapshot=r,Uf(e)&&Bf(t)}function Df(t,e,i){return i(function(){Uf(e)&&Bf(t)})}function Uf(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ye(t,i)}catch{return!0}}function Bf(t){var e=Yn(t,2);e!==null&&Cn(e,t,2)}function wc(t){var e=fn();if(typeof t=="function"){var i=t;if(t=i(),Os){ti(!0);try{i()}finally{ti(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},e}function Pf(t,e,i,r){return t.baseState=i,yc(t,he,typeof r=="function"?r:Ki)}function z_(t,e,i,r,h){if(Gl(t))throw Error(u(485));if(t=e.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};V.T!==null?i(!0):f.isTransition=!1,r(f),i=e.pending,i===null?(f.next=e.pending=f,Hf(e,f)):(f.next=i.next,e.pending=i.next=f)}}function Hf(t,e){var i=e.action,r=e.payload,h=t.state;if(e.isTransition){var f=V.T,v={};V.T=v;try{var T=i(h,r),O=V.S;O!==null&&O(v,T),qf(t,e,T)}catch(q){Sc(t,e,q)}finally{f!==null&&v.types!==null&&(f.types=v.types),V.T=f}}else try{f=i(h,r),qf(t,e,f)}catch(q){Sc(t,e,q)}}function qf(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Zf(t,e,r)},function(r){return Sc(t,e,r)}):Zf(t,e,i)}function Zf(t,e,i){e.status="fulfilled",e.value=i,If(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Hf(t,i)))}function Sc(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,If(e),e=e.next;while(e!==r)}t.action=null}function If(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Gf(t,e){return e}function Vf(t,e){if(Gt){var i=pe.formState;if(i!==null){t:{var r=Bt;if(Gt){if(ee){e:{for(var h=ee,f=Tn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Jn(h.nextSibling),r=h.data==="F!";break t}}Oi(r)}r=!1}r&&(e=i[0])}}return i=fn(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:e},i.queue=r,i=cd.bind(null,Bt,r),r.dispatch=i,r=wc(!1),f=Cc.bind(null,Bt,!1,r.queue),r=fn(),h={state:e,dispatch:null,action:t,pending:null},r.queue=h,i=z_.bind(null,Bt,h,f,i),h.dispatch=i,r.memoizedState=t,[e,i,!1]}function Kf(t){var e=ze();return Yf(e,he,t)}function Yf(t,e,i){if(e=yc(t,e,Gf)[0],t=ql(Ki)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=_o(e)}catch(v){throw v===rr?Ll:v}else r=e;e=ze();var h=e.queue,f=h.dispatch;return i!==e.memoizedState&&(Bt.flags|=2048,hr(9,{destroy:void 0},M_.bind(null,h,i),null)),[r,f,t]}function M_(t,e){t.action=e}function $f(t){var e=ze(),i=he;if(i!==null)return Yf(e,i,t);ze(),e=e.memoizedState,i=ze();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function hr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=Bt.updateQueue,e===null&&(e=Pl(),Bt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Xf(){return ze().memoizedState}function Zl(t,e,i,r){var h=fn();Bt.flags|=t,h.memoizedState=hr(1|e,{destroy:void 0},i,r===void 0?null:r)}function Il(t,e,i,r){var h=ze();r=r===void 0?null:r;var f=h.memoizedState.inst;he!==null&&r!==null&&dc(r,he.memoizedState.deps)?h.memoizedState=hr(e,f,i,r):(Bt.flags|=t,h.memoizedState=hr(1|e,f,i,r))}function Jf(t,e){Zl(8390656,8,t,e)}function Tc(t,e){Il(2048,8,t,e)}function N_(t){Bt.flags|=4;var e=Bt.updateQueue;if(e===null)e=Pl(),Bt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Qf(t){var e=ze().memoizedState;return N_({ref:e,nextImpl:t}),function(){if((ae&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function Wf(t,e){return Il(4,2,t,e)}function Ff(t,e){return Il(4,4,t,e)}function td(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ed(t,e,i){i=i!=null?i.concat([t]):null,Il(4,4,td.bind(null,e,t),i)}function xc(){}function nd(t,e){var i=ze();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&dc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function id(t,e){var i=ze();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&dc(e,r[1]))return r[0];if(r=t(),Os){ti(!0);try{t()}finally{ti(!1)}}return i.memoizedState=[r,e],r}function Ec(t,e,i){return i===void 0||(Vi&1073741824)!==0&&(Xt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=am(),Bt.lanes|=t,La|=t,i)}function ad(t,e,i,r){return Ye(i,e)?i:lr.current!==null?(t=Ec(t,i,r),Ye(t,e)||(Pe=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(Xt&261930)===0?(Pe=!0,t.memoizedState=i):(t=am(),Bt.lanes|=t,La|=t,e)}function sd(t,e,i,r,h){var f=X.p;X.p=f!==0&&8>f?f:8;var v=V.T,T={};V.T=T,Cc(t,!1,e,i);try{var O=h(),q=V.S;if(q!==null&&q(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=R_(O,r);go(t,e,$,Un(t))}else go(t,e,r,Un(t))}catch(et){go(t,e,{then:function(){},status:"rejected",reason:et},Un())}finally{X.p=f,v!==null&&T.types!==null&&(v.types=T.types),V.T=v}}function j_(){}function Ac(t,e,i,r){if(t.tag!==5)throw Error(u(476));var h=rd(t).queue;sd(t,h,e,F,i===null?j_:function(){return od(t),i(r)})}function rd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:F},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function od(t){var e=rd(t);e.next===null&&(e=t.alternate.memoizedState),go(t,e.next.queue,{},Un())}function Oc(){return We(No)}function ld(){return ze().memoizedState}function ud(){return ze().memoizedState}function D_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Un();t=Ea(i);var r=Aa(e,t,i);r!==null&&(Cn(r,e,i),ho(r,e,i)),e={cache:nc()},t.payload=e;return}e=e.return}}function U_(t,e,i){var r=Un();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Gl(t)?hd(e,i):(i=eo(t,e,i,r),i!==null&&(Cn(i,t,r),fd(i,e,r)))}function cd(t,e,i){var r=Un();go(t,e,i,r)}function go(t,e,i,r){var h={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gl(t))hd(e,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var v=e.lastRenderedState,T=f(v,i);if(h.hasEagerState=!0,h.eagerState=T,Ye(T,v))return Ei(t,e,h,0),pe===null&&gs(),!1}catch{}if(i=eo(t,e,h,r),i!==null)return Cn(i,t,r),fd(i,e,r),!0}return!1}function Cc(t,e,i,r){if(r={lane:2,revertLane:rh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gl(t)){if(e)throw Error(u(479))}else e=eo(t,i,r,2),e!==null&&Cn(e,t,2)}function Gl(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function hd(t,e){ur=Ul=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function fd(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,el(t,i)}}var vo={readContext:We,use:Hl,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce};vo.useEffectEvent=Ce;var dd={readContext:We,use:Hl,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:Jf,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Zl(4194308,4,td.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Zl(4194308,4,t,e)},useInsertionEffect:function(t,e){Zl(4,2,t,e)},useMemo:function(t,e){var i=fn();e=e===void 0?null:e;var r=t();if(Os){ti(!0);try{t()}finally{ti(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=fn();if(i!==void 0){var h=i(e);if(Os){ti(!0);try{i(e)}finally{ti(!1)}}}else h=e;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=U_.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:function(t){t=wc(t);var e=t.queue,i=cd.bind(null,Bt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:xc,useDeferredValue:function(t,e){var i=fn();return Ec(i,t,e)},useTransition:function(){var t=wc(!1);return t=sd.bind(null,Bt,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=Bt,h=fn();if(Gt){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),pe===null)throw Error(u(349));(Xt&127)!==0||Nf(r,e,i)}h.memoizedState=i;var f={value:i,getSnapshot:e};return h.queue=f,Jf(Df.bind(null,r,f,t),[t]),r.flags|=2048,hr(9,{destroy:void 0},jf.bind(null,r,f,i,e),null),i},useId:function(){var t=fn(),e=pe.identifierPrefix;if(Gt){var i=ft,r=tt;i=(r&~(1<<32-un(r)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Bl++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=k_++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Oc,useFormState:Vf,useActionState:Vf,useOptimistic:function(t){var e=fn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Cc.bind(null,Bt,!0,i),i.dispatch=e,[t,e]},useMemoCache:vc,useCacheRefresh:function(){return fn().memoizedState=D_.bind(null,Bt)},useEffectEvent:function(t){var e=fn(),i={impl:t};return e.memoizedState=i,function(){if((ae&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},Rc={readContext:We,use:Hl,useCallback:nd,useContext:We,useEffect:Tc,useImperativeHandle:ed,useInsertionEffect:Wf,useLayoutEffect:Ff,useMemo:id,useReducer:ql,useRef:Xf,useState:function(){return ql(Ki)},useDebugValue:xc,useDeferredValue:function(t,e){var i=ze();return ad(i,he.memoizedState,t,e)},useTransition:function(){var t=ql(Ki)[0],e=ze().memoizedState;return[typeof t=="boolean"?t:_o(t),e]},useSyncExternalStore:Mf,useId:ld,useHostTransitionStatus:Oc,useFormState:Kf,useActionState:Kf,useOptimistic:function(t,e){var i=ze();return Pf(i,he,t,e)},useMemoCache:vc,useCacheRefresh:ud};Rc.useEffectEvent=Qf;var md={readContext:We,use:Hl,useCallback:nd,useContext:We,useEffect:Tc,useImperativeHandle:ed,useInsertionEffect:Wf,useLayoutEffect:Ff,useMemo:id,useReducer:bc,useRef:Xf,useState:function(){return bc(Ki)},useDebugValue:xc,useDeferredValue:function(t,e){var i=ze();return he===null?Ec(i,t,e):ad(i,he.memoizedState,t,e)},useTransition:function(){var t=bc(Ki)[0],e=ze().memoizedState;return[typeof t=="boolean"?t:_o(t),e]},useSyncExternalStore:Mf,useId:ld,useHostTransitionStatus:Oc,useFormState:$f,useActionState:$f,useOptimistic:function(t,e){var i=ze();return he!==null?Pf(i,he,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:vc,useCacheRefresh:ud};md.useEffectEvent=Qf;function kc(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:R({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Lc={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=Un(),h=Ea(r);h.payload=e,i!=null&&(h.callback=i),e=Aa(t,h,r),e!==null&&(Cn(e,t,r),ho(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=Un(),h=Ea(r);h.tag=1,h.payload=e,i!=null&&(h.callback=i),e=Aa(t,h,r),e!==null&&(Cn(e,t,r),ho(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Un(),r=Ea(i);r.tag=2,e!=null&&(r.callback=e),e=Aa(t,r,i),e!==null&&(Cn(e,t,i),ho(e,t,i))}};function pd(t,e,i,r,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,f,v):e.prototype&&e.prototype.isPureReactComponent?!va(i,r)||!va(h,f):!0}function _d(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function Cs(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=R({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function gd(t){_s(t)}function vd(t){console.error(t)}function yd(t){_s(t)}function Vl(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function bd(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zc(t,e,i){return i=Ea(i),i.tag=3,i.payload={element:null},i.callback=function(){Vl(t,e)},i}function wd(t){return t=Ea(t),t.tag=3,t}function Sd(t,e,i,r){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=r.value;t.payload=function(){return h(f)},t.callback=function(){bd(e,i,r)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){bd(e,i,r),typeof h!="function"&&(za===null?za=new Set([this]):za.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function B_(t,e,i,r,h){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&ir(e,i,h,!0),i=Mn.current,i!==null){switch(i.tag){case 31:case 13:return Xn===null?iu():i.alternate===null&&Re===0&&(Re=3),i.flags&=-257,i.flags|=65536,i.lanes=h,r===zl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),ih(t,r,h)),!1;case 22:return i.flags|=65536,r===zl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),ih(t,r,h)),!1}throw Error(u(435,i.tag))}return ih(t,r,h),iu(),!1}if(Gt)return e=Mn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,r!==nr&&(t=Error(u(422),{cause:r}),bs(s(t,i)))):(r!==nr&&(e=Error(u(423),{cause:r}),bs(s(e,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=s(r,i),h=zc(t.stateNode,r,h),lc(t,h),Re!==4&&(Re=2)),!1;var f=Error(u(520),{cause:r});if(f=s(f,i),Ao===null?Ao=[f]:Ao.push(f),Re!==4&&(Re=2),e===null)return!0;r=s(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=zc(i.stateNode,r,t),lc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(za===null||!za.has(f))))return i.flags|=65536,h&=-h,i.lanes|=h,h=wd(h),Sd(h,t,i,r),lc(i,h),!1}i=i.return}while(i!==null);return!1}var Mc=Error(u(461)),Pe=!1;function Fe(t,e,i,r){e.child=t===null?Af(e,null,i,r):As(e,t.child,i,r)}function Td(t,e,i,r,h){i=i.render;var f=e.ref;if("ref"in r){var v={};for(var T in r)T!=="ref"&&(v[T]=r[T])}else v=r;return Ss(e),r=mc(t,e,i,v,f,h),T=pc(),t!==null&&!Pe?(_c(t,e,h),Yi(t,e,h)):(Gt&&T&&Ie(e),e.flags|=1,Fe(t,e,r,h),e.child)}function xd(t,e,i,r,h){if(t===null){var f=i.type;return typeof f=="function"&&!tr(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,Ed(t,e,f,r,h)):(t=ys(i.type,null,r,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!qc(t,h)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:va,i(v,r)&&t.ref===e.ref)return Yi(t,e,h)}return e.flags|=1,t=$n(f,r),t.ref=e.ref,t.return=e,e.child=t}function Ed(t,e,i,r,h){if(t!==null){var f=t.memoizedProps;if(va(f,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=f,qc(t,h))(t.flags&131072)!==0&&(Pe=!0);else return e.lanes=t.lanes,Yi(t,e,h)}return Nc(t,e,i,r,h)}function Ad(t,e,i,r){var h=r.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(r=e.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~f}else r=0,e.child=null;return Od(t,e,f,i,r)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&kl(e,f!==null?f.cachePool:null),f!==null?Rf(e,f):cc(),kf(e);else return r=e.lanes=536870912,Od(t,e,f!==null?f.baseLanes|i:i,i,r)}else f!==null?(kl(e,f.cachePool),Rf(e,f),Ca(),e.memoizedState=null):(t!==null&&kl(e,null),cc(),Ca());return Fe(t,e,h,i),e.child}function yo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Od(t,e,i,r,h){var f=ac();return f=f===null?null:{parent:Ue._currentValue,pool:f},e.memoizedState={baseLanes:i,cachePool:f},t!==null&&kl(e,null),cc(),kf(e),t!==null&&ir(t,e,r,!0),e.childLanes=h,null}function Kl(t,e){return e=$l({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Cd(t,e,i){return As(e,t.child,null,i),t=Kl(e,e.pendingProps),t.flags|=2,Nn(e),e.memoizedState=null,t}function P_(t,e,i){var r=e.pendingProps,h=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Gt){if(r.mode==="hidden")return t=Kl(e,r),e.lanes=536870912,yo(null,t);if(fc(e),(t=ee)?(t=Hm(t,Tn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:I!==null?{id:tt,overflow:ft}:null,retryLane:536870912,hydrationErrors:null},i=io(t),i.return=e,e.child=i,te=e,ee=null)):t=null,t===null)throw Oi(e);return e.lanes=536870912,null}return Kl(e,r)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(fc(e),h)if(e.flags&256)e.flags&=-257,e=Cd(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(Pe||ir(t,e,i,!1),h=(i&t.childLanes)!==0,Pe||h){if(r=pe,r!==null&&(v=nl(r,i),v!==0&&v!==f.retryLane))throw f.retryLane=v,Yn(t,v),Cn(r,t,v),Mc;iu(),e=Cd(t,e,i)}else t=f.treeContext,ee=Jn(v.nextSibling),te=e,Gt=!0,Ai=null,Tn=!1,t!==null&&hn(e,t),e=Kl(e,r),e.flags|=4096;return e}return t=$n(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Yl(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Nc(t,e,i,r,h){return Ss(e),i=mc(t,e,i,r,void 0,h),r=pc(),t!==null&&!Pe?(_c(t,e,h),Yi(t,e,h)):(Gt&&r&&Ie(e),e.flags|=1,Fe(t,e,i,h),e.child)}function Rd(t,e,i,r,h,f){return Ss(e),e.updateQueue=null,i=zf(e,r,i,h),Lf(t),r=pc(),t!==null&&!Pe?(_c(t,e,f),Yi(t,e,f)):(Gt&&r&&Ie(e),e.flags|=1,Fe(t,e,i,f),e.child)}function kd(t,e,i,r,h){if(Ss(e),e.stateNode===null){var f=qi,v=i.contextType;typeof v=="object"&&v!==null&&(f=We(v)),f=new i(r,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lc,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=r,f.state=e.memoizedState,f.refs={},rc(e),v=i.contextType,f.context=typeof v=="object"&&v!==null?We(v):qi,f.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(kc(e,i,v,r),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Lc.enqueueReplaceState(f,f.state,null),mo(e,r,f,h),fo(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){f=e.stateNode;var T=e.memoizedProps,O=Cs(i,T);f.props=O;var q=f.context,$=i.contextType;v=qi,typeof $=="object"&&$!==null&&(v=We($));var et=i.getDerivedStateFromProps;$=typeof et=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=e.pendingProps!==T,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||q!==v)&&_d(e,f,r,v),xa=!1;var G=e.memoizedState;f.state=G,mo(e,r,f,h),fo(),q=e.memoizedState,T||G!==q||xa?(typeof et=="function"&&(kc(e,i,et,r),q=e.memoizedState),(O=xa||pd(e,i,O,r,G,q,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=q),f.props=r,f.state=q,f.context=v,r=O):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{f=e.stateNode,oc(t,e),v=e.memoizedProps,$=Cs(i,v),f.props=$,et=e.pendingProps,G=f.context,q=i.contextType,O=qi,typeof q=="object"&&q!==null&&(O=We(q)),T=i.getDerivedStateFromProps,(q=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==et||G!==O)&&_d(e,f,r,O),xa=!1,G=e.memoizedState,f.state=G,mo(e,r,f,h),fo();var Y=e.memoizedState;v!==et||G!==Y||xa||t!==null&&t.dependencies!==null&&Cl(t.dependencies)?(typeof T=="function"&&(kc(e,i,T,r),Y=e.memoizedState),($=xa||pd(e,i,$,r,G,Y,O)||t!==null&&t.dependencies!==null&&Cl(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,Y,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,Y,O)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Y),f.props=r,f.state=Y,f.context=O,r=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(e.flags|=1024),r=!1)}return f=r,Yl(t,e),r=(e.flags&128)!==0,f||r?(f=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&r?(e.child=As(e,t.child,null,h),e.child=As(e,null,i,h)):Fe(t,e,i,h),e.memoizedState=f.state,t=e.child):t=Yi(t,e,h),t}function Ld(t,e,i,r){return Ii(),e.flags|=256,Fe(t,e,i,r),e.child}var jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(t){return{baseLanes:t,cachePool:bf()}}function Uc(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Dn),t}function zd(t,e,i){var r=e.pendingProps,h=!1,f=(e.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Le.current&2)!==0),v&&(h=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Gt){if(h?Oa(e):Ca(),(t=ee)?(t=Hm(t,Tn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:I!==null?{id:tt,overflow:ft}:null,retryLane:536870912,hydrationErrors:null},i=io(t),i.return=e,e.child=i,te=e,ee=null)):t=null,t===null)throw Oi(e);return yh(t)?e.lanes=32:e.lanes=536870912,null}var T=r.children;return r=r.fallback,h?(Ca(),h=e.mode,T=$l({mode:"hidden",children:T},h),r=Zi(r,h,i,null),T.return=e,r.return=e,T.sibling=r,e.child=T,r=e.child,r.memoizedState=Dc(i),r.childLanes=Uc(t,v,i),e.memoizedState=jc,yo(null,r)):(Oa(e),Bc(e,T))}var O=t.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(f)e.flags&256?(Oa(e),e.flags&=-257,e=Pc(t,e,i)):e.memoizedState!==null?(Ca(),e.child=t.child,e.flags|=128,e=null):(Ca(),T=r.fallback,h=e.mode,r=$l({mode:"visible",children:r.children},h),T=Zi(T,h,i,null),T.flags|=2,r.return=e,T.return=e,r.sibling=T,e.child=r,As(e,t.child,null,i),r=e.child,r.memoizedState=Dc(i),r.childLanes=Uc(t,v,i),e.memoizedState=jc,e=yo(null,r));else if(Oa(e),yh(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,r=Error(u(419)),r.stack="",r.digest=v,bs({value:r,source:null,stack:null}),e=Pc(t,e,i)}else if(Pe||ir(t,e,i,!1),v=(i&t.childLanes)!==0,Pe||v){if(v=pe,v!==null&&(r=nl(v,i),r!==0&&r!==O.retryLane))throw O.retryLane=r,Yn(t,r),Cn(v,t,r),Mc;vh(T)||iu(),e=Pc(t,e,i)}else vh(T)?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,ee=Jn(T.nextSibling),te=e,Gt=!0,Ai=null,Tn=!1,t!==null&&hn(e,t),e=Bc(e,r.children),e.flags|=4096);return e}return h?(Ca(),T=r.fallback,h=e.mode,O=t.child,q=O.sibling,r=$n(O,{mode:"hidden",children:r.children}),r.subtreeFlags=O.subtreeFlags&65011712,q!==null?T=$n(q,T):(T=Zi(T,h,i,null),T.flags|=2),T.return=e,r.return=e,r.sibling=T,e.child=r,yo(null,r),r=e.child,T=t.child.memoizedState,T===null?T=Dc(i):(h=T.cachePool,h!==null?(O=Ue._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=bf(),T={baseLanes:T.baseLanes|i,cachePool:h}),r.memoizedState=T,r.childLanes=Uc(t,v,i),e.memoizedState=jc,yo(t.child,r)):(Oa(e),i=t.child,t=i.sibling,i=$n(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=i,e.memoizedState=null,i)}function Bc(t,e){return e=$l({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $l(t,e){return t=sn(22,t,null,e),t.lanes=0,t}function Pc(t,e,i){return As(e,t.child,null,i),t=Bc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Md(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tc(t.return,e,i)}function Hc(t,e,i,r,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:h,treeForkCount:f}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=r,v.tail=i,v.tailMode=h,v.treeForkCount=f)}function Nd(t,e,i){var r=e.pendingProps,h=r.revealOrder,f=r.tail;r=r.children;var v=Le.current,T=(v&2)!==0;if(T?(v=v&1|2,e.flags|=128):v&=1,K(Le,v),Fe(t,e,r,i),r=Gt?S:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Md(t,i,e);else if(t.tag===19)Md(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=e.child,h=null;i!==null;)t=i.alternate,t!==null&&Dl(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Hc(e,!1,h,i,f,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&Dl(t)===null){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Hc(e,!0,i,null,f,r);break;case"together":Hc(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Yi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),La|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(ir(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=$n(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=$n(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function qc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Cl(t)))}function H_(t,e,i){switch(e.tag){case 3:_t(e,e.stateNode.containerInfo),Ta(e,Ue,t.memoizedState.cache),Ii();break;case 27:case 5:Qt(e);break;case 4:_t(e,e.stateNode.containerInfo);break;case 10:Ta(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,fc(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Oa(e),e.flags|=128,null):(i&e.child.childLanes)!==0?zd(t,e,i):(Oa(e),t=Yi(t,e,i),t!==null?t.sibling:null);Oa(e);break;case 19:var h=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(ir(t,e,i,!1),r=(i&e.childLanes)!==0),h){if(r)return Nd(t,e,i);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),K(Le,Le.current),r)break;return null;case 22:return e.lanes=0,Ad(t,e,i,e.pendingProps);case 24:Ta(e,Ue,t.memoizedState.cache)}return Yi(t,e,i)}function jd(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Pe=!0;else{if(!qc(t,i)&&(e.flags&128)===0)return Pe=!1,H_(t,e,i);Pe=(t.flags&131072)!==0}else Pe=!1,Gt&&(e.flags&1048576)!==0&&Pt(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var r=e.pendingProps;if(t=xs(e.elementType),e.type=t,typeof t=="function")tr(t)?(r=Cs(t,r),e.tag=1,e=kd(null,e,t,r,i)):(e.tag=0,e=Nc(null,e,t,r,i));else{if(t!=null){var h=t.$$typeof;if(h===mt){e.tag=11,e=Td(null,e,t,r,i);break t}else if(h===rt){e.tag=14,e=xd(null,e,t,r,i);break t}}throw e=Dt(t)||t,Error(u(306,e,""))}}return e;case 0:return Nc(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,h=Cs(r,e.pendingProps),kd(t,e,r,h,i);case 3:t:{if(_t(e,e.stateNode.containerInfo),t===null)throw Error(u(387));r=e.pendingProps;var f=e.memoizedState;h=f.element,oc(t,e),mo(e,r,null,i);var v=e.memoizedState;if(r=v.cache,Ta(e,Ue,r),r!==f.cache&&ec(e,[Ue],i,!0),fo(),r=v.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=Ld(t,e,r,i);break t}else if(r!==h){h=s(Error(u(424)),e),bs(h),e=Ld(t,e,r,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ee=Jn(t.firstChild),te=e,Gt=!0,Ai=null,Tn=!0,i=Af(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ii(),r===h){e=Yi(t,e,i);break t}Fe(t,e,r,i)}e=e.child}return e;case 26:return Yl(t,e),t===null?(i=Km(e.type,null,e.pendingProps,null))?e.memoizedState=i:Gt||(i=e.type,t=e.pendingProps,r=cu(lt.current).createElement(i),r[je]=e,r[Ke]=t,tn(r,i,t),De(r),e.stateNode=r):e.memoizedState=Km(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Qt(e),t===null&&Gt&&(r=e.stateNode=Im(e.type,e.pendingProps,lt.current),te=e,Tn=!0,h=ee,Da(e.type)?(bh=h,ee=Jn(r.firstChild)):ee=h),Fe(t,e,e.pendingProps.children,i),Yl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Gt&&((h=r=ee)&&(r=_g(r,e.type,e.pendingProps,Tn),r!==null?(e.stateNode=r,te=e,ee=Jn(r.firstChild),Tn=!1,h=!0):h=!1),h||Oi(e)),Qt(e),h=e.type,f=e.pendingProps,v=t!==null?t.memoizedProps:null,r=f.children,ph(h,f)?r=null:v!==null&&ph(h,v)&&(e.flags|=32),e.memoizedState!==null&&(h=mc(t,e,L_,null,null,i),No._currentValue=h),Yl(t,e),Fe(t,e,r,i),e.child;case 6:return t===null&&Gt&&((t=i=ee)&&(i=gg(i,e.pendingProps,Tn),i!==null?(e.stateNode=i,te=e,ee=null,t=!0):t=!1),t||Oi(e)),null;case 13:return zd(t,e,i);case 4:return _t(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,i):Fe(t,e,r,i),e.child;case 11:return Td(t,e,e.type,e.pendingProps,i);case 7:return Fe(t,e,e.pendingProps,i),e.child;case 8:return Fe(t,e,e.pendingProps.children,i),e.child;case 12:return Fe(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,Ta(e,e.type,r.value),Fe(t,e,r.children,i),e.child;case 9:return h=e.type._context,r=e.pendingProps.children,Ss(e),h=We(h),r=r(h),e.flags|=1,Fe(t,e,r,i),e.child;case 14:return xd(t,e,e.type,e.pendingProps,i);case 15:return Ed(t,e,e.type,e.pendingProps,i);case 19:return Nd(t,e,i);case 31:return P_(t,e,i);case 22:return Ad(t,e,i,e.pendingProps);case 24:return Ss(e),r=We(Ue),t===null?(h=ac(),h===null&&(h=pe,f=nc(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=i),h=f),e.memoizedState={parent:r,cache:h},rc(e),Ta(e,Ue,h)):((t.lanes&i)!==0&&(oc(t,e),mo(e,null,null,i),fo()),h=t.memoizedState,f=e.memoizedState,h.parent!==r?(h={parent:r,cache:r},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),Ta(e,Ue,r)):(r=f.cache,Ta(e,Ue,r),r!==h.cache&&ec(e,[Ue],i,!0))),Fe(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function $i(t){t.flags|=4}function Zc(t,e,i,r,h){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(lm())t.flags|=8192;else throw Es=zl,sc}else t.flags&=-16777217}function Dd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qm(e))if(lm())t.flags|=8192;else throw Es=zl,sc}function Xl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Fo():536870912,t.lanes|=e,pr|=e)}function bo(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function q_(t,e,i){var r=e.pendingProps;switch(Oe(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return be(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Gi(Ue),bt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(oi(e)?$i(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ro())),be(e),null;case 26:var h=e.type,f=e.memoizedState;return t===null?($i(e),f!==null?(be(e),Dd(e,f)):(be(e),Zc(e,h,null,r,i))):f?f!==t.memoizedState?($i(e),be(e),Dd(e,f)):(be(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&$i(e),be(e),Zc(e,h,t,r,i)),null;case 27:if(kt(e),i=lt.current,h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&$i(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return be(e),null}t=nt.current,oi(e)?so(e):(t=Im(h,r,i),e.stateNode=t,$i(e))}return be(e),null;case 5:if(kt(e),h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&$i(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return be(e),null}if(f=nt.current,oi(e))so(e);else{var v=cu(lt.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?v.createElement("select",{is:r.is}):v.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?v.createElement(h,{is:r.is}):v.createElement(h)}}f[je]=e,f[Ke]=r;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=f;t:switch(tn(f,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&$i(e)}}return be(e),Zc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&$i(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(u(166));if(t=lt.current,oi(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,h=te,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[je]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||zm(t.nodeValue,i)),t||Oi(e,!0)}else t=cu(t).createTextNode(r),t[je]=e,e.stateNode=t}return be(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(r=oi(e),i!==null){if(t===null){if(!r)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[je]=e}else Ii(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;be(e),t=!1}else i=ro(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(Nn(e),e):(Nn(e),null);if((e.flags&128)!==0)throw Error(u(558))}return be(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=oi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));h[je]=e}else Ii(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;be(e),h=!1}else h=ro(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return e.flags&256?(Nn(e),e):(Nn(e),null)}return Nn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=r!==null,t=t!==null&&t.memoizedState!==null,i&&(r=e.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==h&&(r.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Xl(e,e.updateQueue),be(e),null);case 4:return bt(),t===null&&ch(e.stateNode.containerInfo),be(e),null;case 10:return Gi(e.type),be(e),null;case 19:if(j(Le),r=e.memoizedState,r===null)return be(e),null;if(h=(e.flags&128)!==0,f=r.rendering,f===null)if(h)bo(r,!1);else{if(Re!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Dl(t),f!==null){for(e.flags|=128,bo(r,!1),t=f.updateQueue,e.updateQueue=t,Xl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)no(i,t),i=i.sibling;return K(Le,Le.current&1|2),Gt&&wt(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ft()>tu&&(e.flags|=128,h=!0,bo(r,!1),e.lanes=4194304)}else{if(!h)if(t=Dl(f),t!==null){if(e.flags|=128,h=!0,t=t.updateQueue,e.updateQueue=t,Xl(e,t),bo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Gt)return be(e),null}else 2*Ft()-r.renderingStartTime>tu&&i!==536870912&&(e.flags|=128,h=!0,bo(r,!1),e.lanes=4194304);r.isBackwards?(f.sibling=e.child,e.child=f):(t=r.last,t!==null?t.sibling=f:e.child=f,r.last=f)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ft(),t.sibling=null,i=Le.current,K(Le,h?i&1|2:i&1),Gt&&wt(e,r.treeForkCount),t):(be(e),null);case 22:case 23:return Nn(e),hc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),i=e.updateQueue,i!==null&&Xl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&j(Ts),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Gi(Ue),be(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function Z_(t,e){switch(Oe(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gi(Ue),bt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return kt(e),null;case 31:if(e.memoizedState!==null){if(Nn(e),e.alternate===null)throw Error(u(340));Ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Nn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));Ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return j(Le),null;case 4:return bt(),null;case 10:return Gi(e.type),null;case 22:case 23:return Nn(e),hc(),t!==null&&j(Ts),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Gi(Ue),null;case 25:return null;default:return null}}function Ud(t,e){switch(Oe(e),e.tag){case 3:Gi(Ue),bt();break;case 26:case 27:case 5:kt(e);break;case 4:bt();break;case 31:e.memoizedState!==null&&Nn(e);break;case 13:Nn(e);break;case 19:j(Le);break;case 10:Gi(e.type);break;case 22:case 23:Nn(e),hc(),t!==null&&j(Ts);break;case 24:Gi(Ue)}}function wo(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var h=r.next;i=h;do{if((i.tag&t)===t){r=void 0;var f=i.create,v=i.inst;r=f(),v.destroy=r}i=i.next}while(i!==h)}}catch(T){le(e,e.return,T)}}function Ra(t,e,i){try{var r=e.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var f=h.next;r=f;do{if((r.tag&t)===t){var v=r.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=e;var O=i,q=T;try{q()}catch($){le(h,O,$)}}}r=r.next}while(r!==f)}}catch($){le(e,e.return,$)}}function Bd(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Cf(e,i)}catch(r){le(t,t.return,r)}}}function Pd(t,e,i){i.props=Cs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){le(t,e,r)}}function So(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(h){le(t,e,h)}}function Ri(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(h){le(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){le(t,e,h)}else i.current=null}function Hd(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(h){le(t,t.return,h)}}function Ic(t,e,i){try{var r=t.stateNode;cg(r,t.type,i,e),r[Ke]=e}catch(h){le(t,t.return,h)}}function qd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Da(t.type)||t.tag===4}function Gc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||qd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Da(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vc(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=yn));else if(r!==4&&(r===27&&Da(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Vc(t,e,i),t=t.sibling;t!==null;)Vc(t,e,i),t=t.sibling}function Jl(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&Da(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Jl(t,e,i),t=t.sibling;t!==null;)Jl(t,e,i),t=t.sibling}function Zd(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,h=e.attributes;h.length;)e.removeAttributeNode(h[0]);tn(e,r,i),e[je]=t,e[Ke]=i}catch(f){le(t,t.return,f)}}var Xi=!1,He=!1,Kc=!1,Id=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function I_(t,e){if(t=t.containerInfo,dh=gu,t=fs(t),wi(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var h=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var v=0,T=-1,O=-1,q=0,$=0,et=t,G=null;e:for(;;){for(var Y;et!==i||h!==0&&et.nodeType!==3||(T=v+h),et!==f||r!==0&&et.nodeType!==3||(O=v+r),et.nodeType===3&&(v+=et.nodeValue.length),(Y=et.firstChild)!==null;)G=et,et=Y;for(;;){if(et===t)break e;if(G===i&&++q===h&&(T=v),G===f&&++$===r&&(O=v),(Y=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Y}i=T===-1||O===-1?null:{start:T,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(mh={focusedElem:t,selectionRange:i},gu=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){switch(e=Xe,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,h=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var pt=Cs(i.type,h);t=r.getSnapshotBeforeUpdate(pt,f),r.__reactInternalSnapshotBeforeUpdate=t}catch(Ot){le(i,i.return,Ot)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)gh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}}function Gd(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(t,i),r&4&&wo(5,i);break;case 1:if(Qi(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(v){le(i,i.return,v)}else{var h=Cs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){le(i,i.return,v)}}r&64&&Bd(i),r&512&&So(i,i.return);break;case 3:if(Qi(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Cf(t,e)}catch(v){le(i,i.return,v)}}break;case 27:e===null&&r&4&&Zd(i);case 26:case 5:Qi(t,i),e===null&&r&4&&Hd(i),r&512&&So(i,i.return);break;case 12:Qi(t,i);break;case 31:Qi(t,i),r&4&&Yd(t,i);break;case 13:Qi(t,i),r&4&&$d(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=W_.bind(null,i),vg(t,i))));break;case 22:if(r=i.memoizedState!==null||Xi,!r){e=e!==null&&e.memoizedState!==null||He,h=Xi;var f=He;Xi=r,(He=e)&&!f?Wi(t,i,(i.subtreeFlags&8772)!==0):Qi(t,i),Xi=h,He=f}break;case 30:break;default:Qi(t,i)}}function Vd(t){var e=t.alternate;e!==null&&(t.alternate=null,Vd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Br(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,xn=!1;function Ji(t,e,i){for(i=i.child;i!==null;)Kd(t,e,i),i=i.sibling}function Kd(t,e,i){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(_n,i)}catch{}switch(i.tag){case 26:He||Ri(i,e),Ji(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:He||Ri(i,e);var r=Se,h=xn;Da(i.type)&&(Se=i.stateNode,xn=!1),Ji(t,e,i),Lo(i.stateNode),Se=r,xn=h;break;case 5:He||Ri(i,e);case 6:if(r=Se,h=xn,Se=null,Ji(t,e,i),Se=r,xn=h,Se!==null)if(xn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(i.stateNode)}catch(f){le(i,e,f)}else try{Se.removeChild(i.stateNode)}catch(f){le(i,e,f)}break;case 18:Se!==null&&(xn?(t=Se,Bm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Tr(t)):Bm(Se,i.stateNode));break;case 4:r=Se,h=xn,Se=i.stateNode.containerInfo,xn=!0,Ji(t,e,i),Se=r,xn=h;break;case 0:case 11:case 14:case 15:Ra(2,i,e),He||Ra(4,i,e),Ji(t,e,i);break;case 1:He||(Ri(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Pd(i,e,r)),Ji(t,e,i);break;case 21:Ji(t,e,i);break;case 22:He=(r=He)||i.memoizedState!==null,Ji(t,e,i),He=r;break;default:Ji(t,e,i)}}function Yd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(i){le(e,e.return,i)}}}function $d(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(i){le(e,e.return,i)}}function G_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Id),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Id),e;default:throw Error(u(435,t.tag))}}function Ql(t,e){var i=G_(t);e.forEach(function(r){if(!i.has(r)){i.add(r);var h=F_.bind(null,t,r);r.then(h,h)}})}function En(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var h=i[r],f=t,v=e,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Da(T.type)){Se=T.stateNode,xn=!1;break t}break;case 5:Se=T.stateNode,xn=!1;break t;case 3:case 4:Se=T.stateNode.containerInfo,xn=!0;break t}T=T.return}if(Se===null)throw Error(u(160));Kd(f,v,h),Se=null,xn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Xd(e,t),e=e.sibling}var ui=null;function Xd(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(e,t),An(t),r&4&&(Ra(3,t,t.return),wo(3,t),Ra(5,t,t.return));break;case 1:En(e,t),An(t),r&512&&(He||i===null||Ri(i,i.return)),r&64&&Xi&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var h=ui;if(En(e,t),An(t),r&512&&(He||i===null||Ri(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ja]||f[je]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(r),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,r,i),f[je]=t,De(f),r=f;break t;case"link":var v=Xm("link","href",h).get(r+(i.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(r),tn(f,r,i),h.head.appendChild(f);break;case"meta":if(v=Xm("meta","content",h).get(r+(i.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(T,1);break e}}f=h.createElement(r),tn(f,r,i),h.head.appendChild(f);break;default:throw Error(u(468,r))}f[je]=t,De(f),r=f}t.stateNode=r}else Jm(h,t.type,t.stateNode);else t.stateNode=$m(h,r,t.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?Jm(h,t.type,t.stateNode):$m(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Ic(t,t.memoizedProps,i.memoizedProps)}break;case 27:En(e,t),An(t),r&512&&(He||i===null||Ri(i,i.return)),i!==null&&r&4&&Ic(t,t.memoizedProps,i.memoizedProps);break;case 5:if(En(e,t),An(t),r&512&&(He||i===null||Ri(i,i.return)),t.flags&32){h=t.stateNode;try{qn(h,"")}catch(pt){le(t,t.return,pt)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,Ic(t,h,i!==null?i.memoizedProps:h)),r&1024&&(Kc=!0);break;case 6:if(En(e,t),An(t),r&4){if(t.stateNode===null)throw Error(u(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(pt){le(t,t.return,pt)}}break;case 3:if(du=null,h=ui,ui=hu(e.containerInfo),En(e,t),ui=h,An(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Tr(e.containerInfo)}catch(pt){le(t,t.return,pt)}Kc&&(Kc=!1,Jd(t));break;case 4:r=ui,ui=hu(t.stateNode.containerInfo),En(e,t),An(t),ui=r;break;case 12:En(e,t),An(t);break;case 31:En(e,t),An(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 13:En(e,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Fl=Ft()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 22:h=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,q=Xi,$=He;if(Xi=q||h,He=$||O,En(e,t),He=$,Xi=q,An(t),r&8192)t:for(e=t.stateNode,e._visibility=h?e._visibility&-2:e._visibility|1,h&&(i===null||O||Xi||He||Rs(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){O=i=e;try{if(f=O.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=O.stateNode;var et=O.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pt){le(O,O.return,pt)}}}else if(e.tag===6){if(i===null){O=e;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(pt){le(O,O.return,pt)}}}else if(e.tag===18){if(i===null){O=e;try{var Y=O.stateNode;h?Pm(Y,!0):Pm(O.stateNode,!1)}catch(pt){le(O,O.return,pt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Ql(t,i))));break;case 19:En(e,t),An(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 30:break;case 21:break;default:En(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(qd(r)){i=r;break}r=r.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var h=i.stateNode,f=Gc(t);Jl(t,f,h);break;case 5:var v=i.stateNode;i.flags&32&&(qn(v,""),i.flags&=-33);var T=Gc(t);Jl(t,T,v);break;case 3:case 4:var O=i.stateNode.containerInfo,q=Gc(t);Vc(t,q,O);break;default:throw Error(u(161))}}catch($){le(t,t.return,$)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Jd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Qi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Gd(t,e.alternate,e),e=e.sibling}function Rs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ra(4,e,e.return),Rs(e);break;case 1:Ri(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Pd(e,e.return,i),Rs(e);break;case 27:Lo(e.stateNode);case 26:case 5:Ri(e,e.return),Rs(e);break;case 22:e.memoizedState===null&&Rs(e);break;case 30:Rs(e);break;default:Rs(e)}t=t.sibling}}function Wi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,h=t,f=e,v=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,i),wo(4,f);break;case 1:if(Wi(h,f,i),r=f,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){le(r,r.return,q)}if(r=f,h=r.updateQueue,h!==null){var T=r.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Of(O[h],T)}catch(q){le(r,r.return,q)}}i&&v&64&&Bd(f),So(f,f.return);break;case 27:Zd(f);case 26:case 5:Wi(h,f,i),i&&r===null&&v&4&&Hd(f),So(f,f.return);break;case 12:Wi(h,f,i);break;case 31:Wi(h,f,i),i&&v&4&&Yd(h,f);break;case 13:Wi(h,f,i),i&&v&4&&$d(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,i),So(f,f.return);break;case 30:break;default:Wi(h,f,i)}e=e.sibling}}function Yc(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&oo(i))}function $c(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&oo(t))}function ci(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qd(t,e,i,r),e=e.sibling}function Qd(t,e,i,r){var h=e.flags;switch(e.tag){case 0:case 11:case 15:ci(t,e,i,r),h&2048&&wo(9,e);break;case 1:ci(t,e,i,r);break;case 3:ci(t,e,i,r),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&oo(t)));break;case 12:if(h&2048){ci(t,e,i,r),t=e.stateNode;try{var f=e.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){le(e,e.return,O)}}else ci(t,e,i,r);break;case 31:ci(t,e,i,r);break;case 13:ci(t,e,i,r);break;case 23:break;case 22:f=e.stateNode,v=e.alternate,e.memoizedState!==null?f._visibility&2?ci(t,e,i,r):To(t,e):f._visibility&2?ci(t,e,i,r):(f._visibility|=2,fr(t,e,i,r,(e.subtreeFlags&10256)!==0||!1)),h&2048&&Yc(v,e);break;case 24:ci(t,e,i,r),h&2048&&$c(e.alternate,e);break;default:ci(t,e,i,r)}}function fr(t,e,i,r,h){for(h=h&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,v=e,T=i,O=r,q=v.flags;switch(v.tag){case 0:case 11:case 15:fr(f,v,T,O,h),wo(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?fr(f,v,T,O,h):To(f,v):($._visibility|=2,fr(f,v,T,O,h)),h&&q&2048&&Yc(v.alternate,v);break;case 24:fr(f,v,T,O,h),h&&q&2048&&$c(v.alternate,v);break;default:fr(f,v,T,O,h)}e=e.sibling}}function To(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,h=r.flags;switch(r.tag){case 22:To(i,r),h&2048&&Yc(r.alternate,r);break;case 24:To(i,r),h&2048&&$c(r.alternate,r);break;default:To(i,r)}e=e.sibling}}var xo=8192;function dr(t,e,i){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)Wd(t,e,i),t=t.sibling}function Wd(t,e,i){switch(t.tag){case 26:dr(t,e,i),t.flags&xo&&t.memoizedState!==null&&kg(i,ui,t.memoizedState,t.memoizedProps);break;case 5:dr(t,e,i);break;case 3:case 4:var r=ui;ui=hu(t.stateNode.containerInfo),dr(t,e,i),ui=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=xo,xo=16777216,dr(t,e,i),xo=r):dr(t,e,i));break;default:dr(t,e,i)}}function Fd(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Eo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Xe=r,em(r,t)}Fd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tm(t),t=t.sibling}function tm(t){switch(t.tag){case 0:case 11:case 15:Eo(t),t.flags&2048&&Ra(9,t,t.return);break;case 3:Eo(t);break;case 12:Eo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wl(t)):Eo(t);break;default:Eo(t)}}function Wl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Xe=r,em(r,t)}Fd(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ra(8,e,e.return),Wl(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Wl(e));break;default:Wl(e)}t=t.sibling}}function em(t,e){for(;Xe!==null;){var i=Xe;switch(i.tag){case 0:case 11:case 15:Ra(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:oo(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Xe=r;else t:for(i=t;Xe!==null;){r=Xe;var h=r.sibling,f=r.return;if(Vd(r),r===i){Xe=null;break t}if(h!==null){h.return=f,Xe=h;break t}Xe=f}}}var V_={getCacheForType:function(t){var e=We(Ue),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return We(Ue).controller.signal}},K_=typeof WeakMap=="function"?WeakMap:Map,ae=0,pe=null,Vt=null,Xt=0,oe=0,jn=null,ka=!1,mr=!1,Xc=!1,Fi=0,Re=0,La=0,ks=0,Jc=0,Dn=0,pr=0,Ao=null,On=null,Qc=!1,Fl=0,nm=0,tu=1/0,eu=null,za=null,Ge=0,Ma=null,_r=null,ta=0,Wc=0,Fc=null,im=null,Oo=0,th=null;function Un(){return(ae&2)!==0&&Xt!==0?Xt&-Xt:V.T!==null?rh():Dr()}function am(){if(Dn===0)if((Xt&536870912)===0||Gt){var t=Ya;Ya<<=1,(Ya&3932160)===0&&(Ya=262144),Dn=t}else Dn=536870912;return t=Mn.current,t!==null&&(t.flags|=32),Dn}function Cn(t,e,i){(t===pe&&(oe===2||oe===9)||t.cancelPendingCommit!==null)&&(gr(t,0),Na(t,Xt,Dn,!1)),Mi(t,i),((ae&2)===0||t!==pe)&&(t===pe&&((ae&2)===0&&(ks|=i),Re===4&&Na(t,Xt,Dn,!1)),ki(t))}function sm(t,e,i){if((ae&6)!==0)throw Error(u(327));var r=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Xa(t,e),h=r?X_(t,e):nh(t,e,!0),f=r;do{if(h===0){mr&&!r&&Na(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!Y_(i)){h=nh(t,e,!1),f=!1;continue}if(h===2){if(f=e,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var T=t;h=Ao;var O=T.current.memoizedState.isDehydrated;if(O&&(gr(T,v).flags|=256),v=nh(T,v,!1),v!==2){if(Xc&&!O){T.errorRecoveryDisabledLanes|=f,ks|=f,h=4;break t}f=On,On=h,f!==null&&(On===null?On=f:On.push.apply(On,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){gr(t,0),Na(t,e,0,!0);break}t:{switch(r=t,f=h,f){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:Na(r,e,Dn,!ka);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(h=Fl+300-Ft(),10<h)){if(Na(r,e,Dn,!ka),Us(r,0,!0)!==0)break t;ta=e,r.timeoutHandle=Dm(rm.bind(null,r,i,On,eu,Qc,e,Dn,ks,pr,ka,f,"Throttled",-0,0),h);break t}rm(r,i,On,eu,Qc,e,Dn,ks,pr,ka,f,null,-0,0)}}break}while(!0);ki(t)}function rm(t,e,i,r,h,f,v,T,O,q,$,et,G,Y){if(t.timeoutHandle=-1,et=e.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Wd(e,f,et);var pt=(f&62914560)===f?Fl-Ft():(f&4194048)===f?nm-Ft():0;if(pt=Lg(et,pt),pt!==null){ta=f,t.cancelPendingCommit=pt(mm.bind(null,t,e,f,i,r,h,v,T,O,$,et,null,G,Y)),Na(t,f,v,!q);return}}mm(t,e,f,i,r,h,v,T,O)}function Y_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var h=i[r],f=h.getSnapshot;h=h.value;try{if(!Ye(f(),h))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e,i,r){e&=~Jc,e&=~ks,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var h=e;0<h;){var f=31-un(h),v=1<<f;r[f]=-1,h&=~v}i!==0&&tl(t,i,e)}function nu(){return(ae&6)===0?(Co(0),!1):!0}function eh(){if(Vt!==null){if(oe===0)var t=Vt.return;else t=Vt,li=Ci=null,gc(t),or=null,uo=0,t=Vt;for(;t!==null;)Ud(t.alternate,t),t=t.return;Vt=null}}function gr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,dg(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ta=0,eh(),pe=t,Vt=i=$n(t.current,null),Xt=e,oe=0,jn=null,ka=!1,mr=Xa(t,e),Xc=!1,pr=Dn=Jc=ks=La=Re=0,On=Ao=null,Qc=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var h=31-un(r),f=1<<h;e|=t[h],r&=~f}return Fi=e,gs(),i}function om(t,e){Bt=null,V.H=vo,e===rr||e===Ll?(e=Tf(),oe=3):e===sc?(e=Tf(),oe=4):oe=e===Mc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,jn=e,Vt===null&&(Re=1,Vl(t,s(e,t.current)))}function lm(){var t=Mn.current;return t===null?!0:(Xt&4194048)===Xt?Xn===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?t===Xn:!1}function um(){var t=V.H;return V.H=vo,t===null?vo:t}function cm(){var t=V.A;return V.A=V_,t}function iu(){Re=4,ka||(Xt&4194048)!==Xt&&Mn.current!==null||(mr=!0),(La&134217727)===0&&(ks&134217727)===0||pe===null||Na(pe,Xt,Dn,!1)}function nh(t,e,i){var r=ae;ae|=2;var h=um(),f=cm();(pe!==t||Xt!==e)&&(eu=null,gr(t,e)),e=!1;var v=Re;t:do try{if(oe!==0&&Vt!==null){var T=Vt,O=jn;switch(oe){case 8:eh(),v=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(e=!0);var q=oe;if(oe=0,jn=null,vr(t,T,O,q),i&&mr){v=0;break t}break;default:q=oe,oe=0,jn=null,vr(t,T,O,q)}}$_(),v=Re;break}catch($){om(t,$)}while(!0);return e&&t.shellSuspendCounter++,li=Ci=null,ae=r,V.H=h,V.A=f,Vt===null&&(pe=null,Xt=0,gs()),v}function $_(){for(;Vt!==null;)hm(Vt)}function X_(t,e){var i=ae;ae|=2;var r=um(),h=cm();pe!==t||Xt!==e?(eu=null,tu=Ft()+500,gr(t,e)):mr=Xa(t,e);t:do try{if(oe!==0&&Vt!==null){e=Vt;var f=jn;e:switch(oe){case 1:oe=0,jn=null,vr(t,e,f,1);break;case 2:case 9:if(wf(f)){oe=0,jn=null,fm(e);break}e=function(){oe!==2&&oe!==9||pe!==t||(oe=7),ki(t)},f.then(e,e);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:wf(f)?(oe=0,jn=null,fm(e)):(oe=0,jn=null,vr(t,e,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var T=Vt;if(v?Qm(v):T.stateNode.complete){oe=0,jn=null;var O=T.sibling;if(O!==null)Vt=O;else{var q=T.return;q!==null?(Vt=q,au(q)):Vt=null}break e}}oe=0,jn=null,vr(t,e,f,5);break;case 6:oe=0,jn=null,vr(t,e,f,6);break;case 8:eh(),Re=6;break t;default:throw Error(u(462))}}J_();break}catch($){om(t,$)}while(!0);return li=Ci=null,V.H=r,V.A=h,ae=i,Vt!==null?0:(pe=null,Xt=0,gs(),Re)}function J_(){for(;Vt!==null&&!ln();)hm(Vt)}function hm(t){var e=jd(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,e===null?au(t):Vt=e}function fm(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Rd(i,e,e.pendingProps,e.type,void 0,Xt);break;case 11:e=Rd(i,e,e.pendingProps,e.type.render,e.ref,Xt);break;case 5:gc(e);default:Ud(i,e),e=Vt=no(e,Fi),e=jd(i,e,Fi)}t.memoizedProps=t.pendingProps,e===null?au(t):Vt=e}function vr(t,e,i,r){li=Ci=null,gc(e),or=null,uo=0;var h=e.return;try{if(B_(t,h,e,i,Xt)){Re=1,Vl(t,s(i,t.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;Re=1,Vl(t,s(i,t.current)),Vt=null;return}e.flags&32768?(Gt||r===1?t=!0:mr||(Xt&536870912)!==0?t=!1:(ka=t=!0,(r===2||r===9||r===3||r===6)&&(r=Mn.current,r!==null&&r.tag===13&&(r.flags|=16384))),dm(e,t)):au(e)}function au(t){var e=t;do{if((e.flags&32768)!==0){dm(e,ka);return}t=e.return;var i=q_(e.alternate,e,Fi);if(i!==null){Vt=i;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Re===0&&(Re=5)}function dm(t,e){do{var i=Z_(t.alternate,t);if(i!==null){i.flags&=32767,Vt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=i}while(t!==null);Re=6,Vt=null}function mm(t,e,i,r,h,f,v,T,O){t.cancelPendingCommit=null;do su();while(Ge!==0);if((ae&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(f=e.lanes|e.childLanes,f|=Fs,Bu(t,i,f,v,T,O),t===pe&&(Vt=pe=null,Xt=0),_r=e,Ma=t,ta=i,Wc=f,Fc=h,im=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tg(Je,function(){return ym(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=V.T,V.T=null,h=X.p,X.p=2,v=ae,ae|=4;try{I_(t,e,i)}finally{ae=v,X.p=h,V.T=r}}Ge=1,pm(),_m(),gm()}}function pm(){if(Ge===1){Ge=0;var t=Ma,e=_r,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=V.T,V.T=null;var r=X.p;X.p=2;var h=ae;ae|=4;try{Xd(e,t);var f=mh,v=fs(t.containerInfo),T=f.focusedElem,O=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Xs(T.ownerDocument.documentElement,T)){if(O!==null&&wi(T)){var q=O.start,$=O.end;if($===void 0&&($=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min($,T.value.length);else{var et=T.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Y=G.getSelection(),pt=T.textContent.length,Ot=Math.min(O.start,pt),de=O.end===void 0?Ot:Math.min(O.end,pt);!Y.extend&&Ot>de&&(v=de,de=Ot,Ot=v);var D=hs(T,Ot),k=hs(T,de);if(D&&k&&(Y.rangeCount!==1||Y.anchorNode!==D.node||Y.anchorOffset!==D.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var H=et.createRange();H.setStart(D.node,D.offset),Y.removeAllRanges(),Ot>de?(Y.addRange(H),Y.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Y.addRange(H))}}}}for(et=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&et.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<et.length;T++){var J=et[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}gu=!!dh,mh=dh=null}finally{ae=h,X.p=r,V.T=i}}t.current=e,Ge=2}}function _m(){if(Ge===2){Ge=0;var t=Ma,e=_r,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=V.T,V.T=null;var r=X.p;X.p=2;var h=ae;ae|=4;try{Gd(t,e.alternate,e)}finally{ae=h,X.p=r,V.T=i}}Ge=3}}function gm(){if(Ge===4||Ge===3){Ge=0,mi();var t=Ma,e=_r,i=ta,r=im;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ge=5:(Ge=0,_r=Ma=null,vm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(za=null),yt(i),e=e.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(_n,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=V.T,h=X.p,X.p=2,V.T=null;try{for(var f=t.onRecoverableError,v=0;v<r.length;v++){var T=r[v];f(T.value,{componentStack:T.stack})}}finally{V.T=e,X.p=h}}(ta&3)!==0&&su(),ki(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===th?Oo++:(Oo=0,th=t):Oo=0,Co(0)}}function vm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,oo(e)))}function su(){return pm(),_m(),gm(),ym()}function ym(){if(Ge!==5)return!1;var t=Ma,e=Wc;Wc=0;var i=yt(ta),r=V.T,h=X.p;try{X.p=32>i?32:i,V.T=null,i=Fc,Fc=null;var f=Ma,v=ta;if(Ge=0,_r=Ma=null,ta=0,(ae&6)!==0)throw Error(u(331));var T=ae;if(ae|=4,tm(f.current),Qd(f,f.current,v,i),ae=T,Co(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(_n,f)}catch{}return!0}finally{X.p=h,V.T=r,vm(t,e)}}function bm(t,e,i){e=s(i,e),e=zc(t.stateNode,e,2),t=Aa(t,e,2),t!==null&&(Mi(t,2),ki(t))}function le(t,e,i){if(t.tag===3)bm(t,t,i);else for(;e!==null;){if(e.tag===3){bm(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(za===null||!za.has(r))){t=s(i,t),i=wd(2),r=Aa(e,i,2),r!==null&&(Sd(i,r,e,t),Mi(r,2),ki(r));break}}e=e.return}}function ih(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new K_;var h=new Set;r.set(e,h)}else h=r.get(e),h===void 0&&(h=new Set,r.set(e,h));h.has(i)||(Xc=!0,h.add(i),t=Q_.bind(null,t,e,i),e.then(t,t))}function Q_(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,pe===t&&(Xt&i)===i&&(Re===4||Re===3&&(Xt&62914560)===Xt&&300>Ft()-Fl?(ae&2)===0&&gr(t,0):Jc|=i,pr===Xt&&(pr=0)),ki(t)}function wm(t,e){e===0&&(e=Fo()),t=Yn(t,e),t!==null&&(Mi(t,e),ki(t))}function W_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),wm(t,i)}function F_(t,e){var i=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(u(314))}r!==null&&r.delete(e),wm(t,i)}function tg(t,e){return _e(t,e)}var ru=null,yr=null,ah=!1,ou=!1,sh=!1,ja=0;function ki(t){t!==yr&&t.next===null&&(yr===null?ru=yr=t:yr=yr.next=t),ou=!0,ah||(ah=!0,ng())}function Co(t,e){if(!sh&&ou){sh=!0;do for(var i=!1,r=ru;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var f=0;else{var v=r.suspendedLanes,T=r.pingedLanes;f=(1<<31-un(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Em(r,f))}else f=Xt,f=Us(r,r===pe?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Xa(r,f)||(i=!0,Em(r,f));r=r.next}while(i);sh=!1}}function eg(){Sm()}function Sm(){ou=ah=!1;var t=0;ja!==0&&fg()&&(t=ja);for(var e=Ft(),i=null,r=ru;r!==null;){var h=r.next,f=Tm(r,e);f===0?(r.next=null,i===null?ru=h:i.next=h,h===null&&(yr=i)):(i=r,(t!==0||(f&3)!==0)&&(ou=!0)),r=h}Ge!==0&&Ge!==5||Co(t),ja!==0&&(ja=0)}function Tm(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-un(f),T=1<<v,O=h[v];O===-1?((T&i)===0||(T&r)!==0)&&(h[v]=Uu(T,e)):O<=e&&(t.expiredLanes|=T),f&=~T}if(e=pe,i=Xt,i=Us(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(oe===2||oe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&dn(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Xa(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&dn(r),yt(i)){case 2:case 8:i=Me;break;case 32:i=Je;break;case 268435456:i=aa;break;default:i=Je}return r=xm.bind(null,t),i=_e(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&dn(r),t.callbackPriority=2,t.callbackNode=null,2}function xm(t,e){if(Ge!==0&&Ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(su()&&t.callbackNode!==i)return null;var r=Xt;return r=Us(t,t===pe?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(sm(t,r,e),Tm(t,Ft()),t.callbackNode!=null&&t.callbackNode===i?xm.bind(null,t):null)}function Em(t,e){if(su())return null;sm(t,e,!0)}function ng(){mg(function(){(ae&6)!==0?_e(ve,eg):Sm()})}function rh(){if(ja===0){var t=ar;t===0&&(t=Ka,Ka<<=1,(Ka&261888)===0&&(Ka=256)),ja=t}return ja}function Am(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function Om(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function ig(t,e,i,r,h){if(e==="submit"&&i&&i.stateNode===h){var f=Am((h[Ke]||null).action),v=r.submitter;v&&(e=(e=v[Ke]||null)?Am(e.formAction):v.getAttribute("formAction"),e!==null&&(f=e,v=null));var T=new Zs("action","action",null,r,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ja!==0){var O=v?Om(h,v):new FormData(h);Ac(i,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(T.preventDefault(),O=v?Om(h,v):new FormData(h),Ac(i,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var oh=0;oh<xi.length;oh++){var lh=xi[oh],ag=lh.toLowerCase(),sg=lh[0].toUpperCase()+lh.slice(1);wn(ag,"on"+sg)}wn(ms,"onAnimationEnd"),wn(El,"onAnimationIteration"),wn(ps,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Qu,"onTransitionRun"),wn(Al,"onTransitionStart"),wn(Wu,"onTransitionCancel"),wn(wa,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function Cm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],h=r.event;r=r.listeners;t:{var f=void 0;if(e)for(var v=r.length-1;0<=v;v--){var T=r[v],O=T.instance,q=T.currentTarget;if(T=T.listener,O!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=q;try{f(h)}catch($){_s($)}h.currentTarget=null,f=O}else for(v=0;v<r.length;v++){if(T=r[v],O=T.instance,q=T.currentTarget,T=T.listener,O!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=q;try{f(h)}catch($){_s($)}h.currentTarget=null,f=O}}}}function Kt(t,e){var i=e[pi];i===void 0&&(i=e[pi]=new Set);var r=t+"__bubble";i.has(r)||(Rm(e,t,2,!1),i.add(r))}function uh(t,e,i){var r=0;e&&(r|=4),Rm(i,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ch(t){if(!t[lu]){t[lu]=!0,sl.forEach(function(i){i!=="selectionchange"&&(rg.has(i)||uh(i,!1,t),uh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,uh("selectionchange",!1,e))}}function Rm(t,e,i,r){switch(ap(e)){case 2:var h=Ng;break;case 8:h=jg;break;default:h=Eh}i=h.bind(null,e,i,t),h=void 0,!ns||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):h!==void 0?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function hh(t,e,i,r,h){var f=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var v=r.tag;if(v===3||v===4){var T=r.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=r.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ji(T),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){r=f=v;continue t}T=T.parentNode}}r=r.return}Vr(function(){var q=f,$=es(i),et=[];t:{var G=Ol.get(t);if(G!==void 0){var Y=Zs,pt=t;switch(t){case"keypress":if(is(i)===0)break t;case"keydown":case"keyup":Y=dl;break;case"focusin":pt="focus",Y=$r;break;case"focusout":pt="blur",Y=$r;break;case"beforeblur":case"afterblur":Y=$r;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Vu;break;case ms:case El:case ps:Y=Xr;break;case wa:Y=_l;break;case"scroll":case"scrollend":Y=$t;break;case"wheel":Y=Hi;break;case"copy":case"cut":case"paste":Y=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ml;break;case"toggle":case"beforetoggle":Y=rs}var Ot=(e&4)!==0,de=!Ot&&(t==="scroll"||t==="scrollend"),D=Ot?G!==null?G+"Capture":null:G;Ot=[];for(var k=q,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||D===null||(J=Bi(k,D),J!=null&&Ot.push(ko(k,J,H))),de)break;k=k.return}0<Ot.length&&(G=new Y(G,pt,null,i,$),et.push({event:G,listeners:Ot}))}}if((e&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&i!==qs&&(pt=i.relatedTarget||i.fromElement)&&(ji(pt)||pt[Ni]))break t;if((Y||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(pt=i.relatedTarget||i.toElement,Y=q,pt=pt?ji(pt):null,pt!==null&&(de=p(pt),Ot=pt.tag,pt!==de||Ot!==5&&Ot!==27&&Ot!==6)&&(pt=null)):(Y=null,pt=q),Y!==pt)){if(Ot=ll,J="onMouseLeave",D="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ot=ml,J="onPointerLeave",D="onPointerEnter",k="pointer"),de=Y==null?G:_i(Y),H=pt==null?G:_i(pt),G=new Ot(J,k+"leave",Y,i,$),G.target=de,G.relatedTarget=H,J=null,ji($)===q&&(Ot=new Ot(D,k+"enter",pt,i,$),Ot.target=H,Ot.relatedTarget=de,J=Ot),de=J,Y&&pt)e:{for(Ot=og,D=Y,k=pt,H=0,J=D;J;J=Ot(J))H++;J=0;for(var xt=k;xt;xt=Ot(xt))J++;for(;0<H-J;)D=Ot(D),H--;for(;0<J-H;)k=Ot(k),J--;for(;H--;){if(D===k||k!==null&&D===k.alternate){Ot=D;break e}D=Ot(D),k=Ot(k)}Ot=null}else Ot=null;Y!==null&&km(et,G,Y,Ot,!1),pt!==null&&de!==null&&km(et,de,pt,Ot,!0)}}t:{if(G=q?_i(q):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var ne=cs;else if(Gn(G))if(bl)ne=Ju;else{ne=Xu;var vt=si}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&ts(q.elementType)&&(ne=cs):ne=ga;if(ne&&(ne=ne(t,q))){yl(et,ne,i,$);break t}vt&&vt(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&ni(G,"number",G.value)}switch(vt=q?_i(q):window,t){case"focusin":(Gn(vt)||vt.contentEditable==="true")&&(Si=vt,Qs=q,ds=null);break;case"focusout":ds=Qs=Si=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,Tl(et,i,$);break;case"selectionchange":if(Js)break;case"keydown":case"keyup":Tl(et,i,$)}var Ht;if(Gs)t:{switch(t){case"compositionstart":var Jt="onCompositionStart";break t;case"compositionend":Jt="onCompositionEnd";break t;case"compositionupdate":Jt="onCompositionUpdate";break t}Jt=void 0}else ma?vl(t,i)&&(Jt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Jt="onCompositionStart");Jt&&(Vs&&i.locale!=="ko"&&(ma||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&ma&&(Ht=yi()):(Zn=$,Pi="value"in Zn?Zn.value:Zn.textContent,ma=!0)),vt=uu(q,Jt),0<vt.length&&(Jt=new Jr(Jt,t,null,i,$),et.push({event:Jt,listeners:vt}),Ht?Jt.data=Ht:(Ht=to(i),Ht!==null&&(Jt.data=Ht)))),(Ht=Yu?zn(t,i):pa(t,i))&&(Jt=uu(q,"onBeforeInput"),0<Jt.length&&(vt=new Jr("onBeforeInput","beforeinput",null,i,$),et.push({event:vt,listeners:Jt}),vt.data=Ht)),ig(et,t,q,i,$)}Cm(et,e)})}function ko(t,e,i){return{instance:t,listener:e,currentTarget:i}}function uu(t,e){for(var i=e+"Capture",r=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bi(t,i),h!=null&&r.unshift(ko(t,h,f)),h=Bi(t,e),h!=null&&r.push(ko(t,h,f))),t.tag===3)return r;t=t.return}return[]}function og(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function km(t,e,i,r,h){for(var f=e._reactName,v=[];i!==null&&i!==r;){var T=i,O=T.alternate,q=T.stateNode;if(T=T.tag,O!==null&&O===r)break;T!==5&&T!==26&&T!==27||q===null||(O=q,h?(q=Bi(i,f),q!=null&&v.unshift(ko(i,q,O))):h||(q=Bi(i,f),q!=null&&v.push(ko(i,q,O)))),i=i.return}v.length!==0&&t.push({event:e,listeners:v})}var lg=/\r\n?/g,ug=/\u0000|\uFFFD/g;function Lm(t){return(typeof t=="string"?t:""+t).replace(lg,`
`).replace(ug,"")}function zm(t,e){return e=Lm(e),Lm(t)===e}function fe(t,e,i,r,h,f){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||qn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&qn(t,""+r);break;case"className":ce(t,"class",r);break;case"tabIndex":ce(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ce(t,i,r);break;case"style":Ps(t,r,f);break;case"data":if(e!=="object"){ce(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=ca(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&fe(t,e,"name",h.name,h,null),fe(t,e,"formEncType",h.formEncType,h,null),fe(t,e,"formMethod",h.formMethod,h,null),fe(t,e,"formTarget",h.formTarget,h,null)):(fe(t,e,"encType",h.encType,h,null),fe(t,e,"method",h.method,h,null),fe(t,e,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=ca(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=yn);break;case"onScroll":r!=null&&Kt("scroll",t);break;case"onScrollEnd":r!=null&&Kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=ca(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":Kt("beforetoggle",t),Kt("toggle",t),It(t,"popover",r);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":It(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Hs.get(i)||i,It(t,i,r))}}function fh(t,e,i,r,h,f){switch(i){case"style":Ps(t,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof r=="string"?qn(t,r):(typeof r=="number"||typeof r=="bigint")&&qn(t,""+r);break;case"onScroll":r!=null&&Kt("scroll",t);break;case"onScrollEnd":r!=null&&Kt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),e=i.slice(2,h?i.length-7:void 0),f=t[Ke]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,h),typeof r=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,h);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):It(t,i,r)}}}function tn(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",t),Kt("load",t);var r=!1,h=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:fe(t,e,f,v,i,null)}}h&&fe(t,e,"srcSet",i.srcSet,i,null),r&&fe(t,e,"src",i.src,i,null);return;case"input":Kt("invalid",t);var T=f=v=h=null,O=null,q=null;for(r in i)if(i.hasOwnProperty(r)){var $=i[r];if($!=null)switch(r){case"name":h=$;break;case"type":v=$;break;case"checked":O=$;break;case"defaultChecked":q=$;break;case"value":f=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(u(137,e));break;default:fe(t,e,r,$,i,null)}}Fa(t,f,T,O,q,v,h,!1);return;case"select":Kt("invalid",t),r=v=f=null;for(h in i)if(i.hasOwnProperty(h)&&(T=i[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":r=T;default:fe(t,e,h,T,i,null)}e=f,i=v,t.multiple=!!r,e!=null?me(t,!!r,e,!1):i!=null&&me(t,!!r,i,!0);return;case"textarea":Kt("invalid",t),f=h=r=null;for(v in i)if(i.hasOwnProperty(v)&&(T=i[v],T!=null))switch(v){case"value":r=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(u(91));break;default:fe(t,e,v,T,i,null)}la(t,r,h,f);return;case"option":for(O in i)i.hasOwnProperty(O)&&(r=i[O],r!=null)&&(O==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":fe(t,e,O,r,i,null));return;case"dialog":Kt("beforetoggle",t),Kt("toggle",t),Kt("cancel",t),Kt("close",t);break;case"iframe":case"object":Kt("load",t);break;case"video":case"audio":for(r=0;r<Ro.length;r++)Kt(Ro[r],t);break;case"image":Kt("error",t),Kt("load",t);break;case"details":Kt("toggle",t);break;case"embed":case"source":case"link":Kt("error",t),Kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(r=i[q],r!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:fe(t,e,q,r,i,null)}return;default:if(ts(e)){for($ in i)i.hasOwnProperty($)&&(r=i[$],r!==void 0&&fh(t,e,$,r,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(r=i[T],r!=null&&fe(t,e,T,r,i,null))}function cg(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,O=null,q=null,$=null;for(Y in i){var et=i[Y];if(i.hasOwnProperty(Y)&&et!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=et;default:r.hasOwnProperty(Y)||fe(t,e,Y,null,r,et)}}for(var G in r){var Y=r[G];if(et=i[G],r.hasOwnProperty(G)&&(Y!=null||et!=null))switch(G){case"type":f=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":$=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,e));break;default:Y!==et&&fe(t,e,G,Y,r,et)}}Zr(t,v,T,O,q,$,f,h);return;case"select":Y=v=T=G=null;for(f in i)if(O=i[f],i.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":Y=O;default:r.hasOwnProperty(f)||fe(t,e,f,null,r,O)}for(h in r)if(f=r[h],O=i[h],r.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":G=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==O&&fe(t,e,h,f,r,O)}e=T,i=v,r=Y,G!=null?me(t,!!i,G,!1):!!r!=!!i&&(e!=null?me(t,!!i,e,!0):me(t,!!i,i?[]:"",!1));return;case"textarea":Y=G=null;for(T in i)if(h=i[T],i.hasOwnProperty(T)&&h!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:fe(t,e,T,null,r,h)}for(v in r)if(h=r[v],f=i[v],r.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:h!==f&&fe(t,e,v,h,r,f)}vi(t,G,Y);return;case"option":for(var pt in i)G=i[pt],i.hasOwnProperty(pt)&&G!=null&&!r.hasOwnProperty(pt)&&(pt==="selected"?t.selected=!1:fe(t,e,pt,null,r,G));for(O in r)G=r[O],Y=i[O],r.hasOwnProperty(O)&&G!==Y&&(G!=null||Y!=null)&&(O==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":fe(t,e,O,G,r,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in i)G=i[Ot],i.hasOwnProperty(Ot)&&G!=null&&!r.hasOwnProperty(Ot)&&fe(t,e,Ot,null,r,G);for(q in r)if(G=r[q],Y=i[q],r.hasOwnProperty(q)&&G!==Y&&(G!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(u(137,e));break;default:fe(t,e,q,G,r,Y)}return;default:if(ts(e)){for(var de in i)G=i[de],i.hasOwnProperty(de)&&G!==void 0&&!r.hasOwnProperty(de)&&fh(t,e,de,void 0,r,G);for($ in r)G=r[$],Y=i[$],!r.hasOwnProperty($)||G===Y||G===void 0&&Y===void 0||fh(t,e,$,G,r,Y);return}}for(var D in i)G=i[D],i.hasOwnProperty(D)&&G!=null&&!r.hasOwnProperty(D)&&fe(t,e,D,null,r,G);for(et in r)G=r[et],Y=i[et],!r.hasOwnProperty(et)||G===Y||G==null&&Y==null||fe(t,e,et,G,r,Y)}function Mm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var h=i[r],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&Mm(v)){for(v=0,T=h.responseEnd,r+=1;r<i.length;r++){var O=i[r],q=O.startTime;if(q>T)break;var $=O.transferSize,et=O.initiatorType;$&&Mm(et)&&(O=O.responseEnd,v+=$*(O<T?1:(T-q)/(O-q)))}if(--r,e+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dh=null,mh=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function Nm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _h=null;function fg(){var t=window.event;return t&&t.type==="popstate"?t===_h?!1:(_h=t,!0):(_h=null,!1)}var Dm=typeof setTimeout=="function"?setTimeout:void 0,dg=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(t){return Um.resolve(null).then(t).catch(pg)}:Dm;function pg(t){setTimeout(function(){throw t})}function Da(t){return t==="head"}function Bm(t,e){var i=e,r=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(r===0){t.removeChild(h),Tr(e);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Lo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Lo(i);for(var f=i.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[Ja]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=v}}else i==="body"&&Lo(t.ownerDocument.body);i=h}while(i);Tr(e)}function Pm(t,e){var i=t;t=0;do{var r=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=r}while(i)}function gh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":gh(i),Br(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function _g(t,e,i,r){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ja])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function gg(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Jn(t.nextSibling),t===null))return null;return t}function Hm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Jn(t.nextSibling),t===null))return null;return t}function vh(t){return t.data==="$?"||t.data==="$~"}function yh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vg(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var bh=null;function qm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Jn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Zm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Im(t,e,i){switch(e=cu(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function Lo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Br(t)}var Qn=new Map,Gm=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ea=X.d;X.d={f:yg,r:bg,D:wg,C:Sg,L:Tg,m:xg,X:Ag,S:Eg,M:Og};function yg(){var t=ea.f(),e=nu();return t||e}function bg(t){var e=sa(t);e!==null&&e.tag===5&&e.type==="form"?od(e):ea.r(t)}var br=typeof document>"u"?null:document;function Vm(t,e,i){var r=br;if(r&&typeof e=="string"&&e){var h=ye(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Gm.has(h)||(Gm.add(h),t={rel:t,crossOrigin:i,href:e},r.querySelector(h)===null&&(e=r.createElement("link"),tn(e,"link",t),De(e),r.head.appendChild(e)))}}function wg(t){ea.D(t),Vm("dns-prefetch",t,null)}function Sg(t,e){ea.C(t,e),Vm("preconnect",t,e)}function Tg(t,e,i){ea.L(t,e,i);var r=br;if(r&&t&&e){var h='link[rel="preload"][as="'+ye(e)+'"]';e==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+ye(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+ye(i.imageSizes)+'"]')):h+='[href="'+ye(t)+'"]';var f=h;switch(e){case"style":f=wr(t);break;case"script":f=Sr(t)}Qn.has(f)||(t=R({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Qn.set(f,t),r.querySelector(h)!==null||e==="style"&&r.querySelector(zo(f))||e==="script"&&r.querySelector(Mo(f))||(e=r.createElement("link"),tn(e,"link",t),De(e),r.head.appendChild(e)))}}function xg(t,e){ea.m(t,e);var i=br;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+ye(r)+'"][href="'+ye(t)+'"]',f=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Sr(t)}if(!Qn.has(f)&&(t=R({rel:"modulepreload",href:t},e),Qn.set(f,t),i.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Mo(f)))return}r=i.createElement("link"),tn(r,"link",t),De(r),i.head.appendChild(r)}}}function Eg(t,e,i){ea.S(t,e,i);var r=br;if(r&&t){var h=ra(r).hoistableStyles,f=wr(t);e=e||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=r.querySelector(zo(f)))T.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Qn.get(f))&&wh(t,i);var O=v=r.createElement("link");De(O),tn(O,"link",t),O._p=new Promise(function(q,$){O.onload=q,O.onerror=$}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fu(v,e,r)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function Ag(t,e){ea.X(t,e);var i=br;if(i&&t){var r=ra(i).hoistableScripts,h=Sr(t),f=r.get(h);f||(f=i.querySelector(Mo(h)),f||(t=R({src:t,async:!0},e),(e=Qn.get(h))&&Sh(t,e),f=i.createElement("script"),De(f),tn(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(h,f))}}function Og(t,e){ea.M(t,e);var i=br;if(i&&t){var r=ra(i).hoistableScripts,h=Sr(t),f=r.get(h);f||(f=i.querySelector(Mo(h)),f||(t=R({src:t,async:!0,type:"module"},e),(e=Qn.get(h))&&Sh(t,e),f=i.createElement("script"),De(f),tn(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(h,f))}}function Km(t,e,i,r){var h=(h=lt.current)?hu(h):null;if(!h)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=wr(i.href),i=ra(h).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=wr(i.href);var f=ra(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(zo(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Qn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Qn.set(t,i),f||Cg(h,t,i,v.state))),e&&r===null)throw Error(u(528,""));return v}if(e&&r!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Sr(i),i=ra(h).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function wr(t){return'href="'+ye(t)+'"'}function zo(t){return'link[rel="stylesheet"]['+t+"]"}function Ym(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function Cg(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),tn(e,"link",i),De(e),t.head.appendChild(e))}function Sr(t){return'[src="'+ye(t)+'"]'}function Mo(t){return"script[async]"+t}function $m(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ye(i.href)+'"]');if(r)return e.instance=r,De(r),r;var h=R({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),De(r),tn(r,"style",h),fu(r,i.precedence,t),e.instance=r;case"stylesheet":h=wr(i.href);var f=t.querySelector(zo(h));if(f)return e.state.loading|=4,e.instance=f,De(f),f;r=Ym(i),(h=Qn.get(h))&&wh(r,h),f=(t.ownerDocument||t).createElement("link"),De(f);var v=f;return v._p=new Promise(function(T,O){v.onload=T,v.onerror=O}),tn(f,"link",r),e.state.loading|=4,fu(f,i.precedence,t),e.instance=f;case"script":return f=Sr(i.src),(h=t.querySelector(Mo(f)))?(e.instance=h,De(h),h):(r=i,(h=Qn.get(f))&&(r=R({},i),Sh(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),De(h),tn(h,"link",r),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,fu(r,i.precedence,t));return e.instance}function fu(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,f=h,v=0;v<r.length;v++){var T=r[v];if(T.dataset.precedence===e)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function wh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Sh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var du=null;function Xm(t,e,i){if(du===null){var r=new Map,h=du=new Map;h.set(i,r)}else h=du,r=h.get(i),r||(r=new Map,h.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var f=i[h];if(!(f[Ja]||f[je]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(e)||"";v=t+v;var T=r.get(v);T?T.push(f):r.set(v,[f])}}return r}function Jm(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Rg(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Qm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kg(t,e,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=wr(r.href),f=e.querySelector(zo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=mu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=f,De(f);return}f=e.ownerDocument||e,r=Ym(r),(h=Qn.get(h))&&wh(r,h),f=f.createElement("link"),De(f);var v=f;v._p=new Promise(function(T,O){v.onload=T,v.onerror=O}),tn(f,"link",r),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=mu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Th=0;function Lg(t,e){return t.stylesheets&&t.count===0&&_u(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var r=setTimeout(function(){if(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&Th===0&&(Th=62500*hg());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Th?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pu=null;function _u(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pu=new Map,e.forEach(zg,t),pu=null,mu.call(t))}function zg(t,e){if(!(e.state.loading&4)){var i=pu.get(t);if(i)var r=i.get(null);else{i=new Map,pu.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),r=v)}r&&i.set(null,r)}h=e.instance,v=h.getAttribute("data-precedence"),f=i.get(v)||r,f===r&&i.set(null,h),i.set(v,h),this.count++,r=mu.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var No={$$typeof:Q,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Mg(t,e,i,r,h,f,v,T,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Wm(t,e,i,r,h,f,v,T,O,q,$,et){return t=new Mg(t,e,i,v,O,q,$,et,T),e=1,f===!0&&(e|=24),f=sn(3,null,null,e),t.current=f,f.stateNode=t,e=nc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:e},rc(f),t}function Fm(t){return t?(t=qi,t):qi}function tp(t,e,i,r,h,f){h=Fm(h),r.context===null?r.context=h:r.pendingContext=h,r=Ea(e),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=Aa(t,r,e),i!==null&&(Cn(i,t,e),ho(i,t,e))}function ep(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function xh(t,e){ep(t,e),(t=t.alternate)&&ep(t,e)}function np(t){if(t.tag===13||t.tag===31){var e=Yn(t,67108864);e!==null&&Cn(e,t,67108864),xh(t,67108864)}}function ip(t){if(t.tag===13||t.tag===31){var e=Un();e=gn(e);var i=Yn(t,e);i!==null&&Cn(i,t,e),xh(t,e)}}var gu=!0;function Ng(t,e,i,r){var h=V.T;V.T=null;var f=X.p;try{X.p=2,Eh(t,e,i,r)}finally{X.p=f,V.T=h}}function jg(t,e,i,r){var h=V.T;V.T=null;var f=X.p;try{X.p=8,Eh(t,e,i,r)}finally{X.p=f,V.T=h}}function Eh(t,e,i,r){if(gu){var h=Ah(r);if(h===null)hh(t,e,r,vu,i),sp(t,r);else if(Ug(h,t,e,i,r))r.stopPropagation();else if(sp(t,r),e&4&&-1<Dg.indexOf(t)){for(;h!==null;){var f=sa(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=zi(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var O=1<<31-un(v);T.entanglements[1]|=O,v&=~O}ki(f),(ae&6)===0&&(tu=Ft()+500,Co(0))}}break;case 31:case 13:T=Yn(f,2),T!==null&&Cn(T,f,2),nu(),xh(f,2)}if(f=Ah(r),f===null&&hh(t,e,r,vu,i),f===h)break;h=f}h!==null&&r.stopPropagation()}else hh(t,e,r,null,i)}}function Ah(t){return t=es(t),Oh(t)}var vu=null;function Oh(t){if(vu=null,t=ji(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=_(e),t!==null)return t;t=null}else if(i===31){if(t=w(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return vu=t,null}function ap(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case ve:return 2;case Me:return 8;case Je:case Ga:return 32;case aa:return 268435456;default:return 32}default:return 32}}var Ch=!1,Ua=null,Ba=null,Pa=null,jo=new Map,Do=new Map,Ha=[],Dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sp(t,e){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":jo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(e.pointerId)}}function Uo(t,e,i,r,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[h]},e!==null&&(e=sa(e),e!==null&&np(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function Ug(t,e,i,r,h){switch(e){case"focusin":return Ua=Uo(Ua,t,e,i,r,h),!0;case"dragenter":return Ba=Uo(Ba,t,e,i,r,h),!0;case"mouseover":return Pa=Uo(Pa,t,e,i,r,h),!0;case"pointerover":var f=h.pointerId;return jo.set(f,Uo(jo.get(f)||null,t,e,i,r,h)),!0;case"gotpointercapture":return f=h.pointerId,Do.set(f,Uo(Do.get(f)||null,t,e,i,r,h)),!0}return!1}function rp(t){var e=ji(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=_(i),e!==null){t.blockedOn=e,Ur(t.priority,function(){ip(i)});return}}else if(e===31){if(e=w(i),e!==null){t.blockedOn=e,Ur(t.priority,function(){ip(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Ah(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);qs=r,i.target.dispatchEvent(r),qs=null}else return e=sa(i),e!==null&&np(e),t.blockedOn=i,!1;e.shift()}return!0}function op(t,e,i){yu(t)&&i.delete(e)}function Bg(){Ch=!1,Ua!==null&&yu(Ua)&&(Ua=null),Ba!==null&&yu(Ba)&&(Ba=null),Pa!==null&&yu(Pa)&&(Pa=null),jo.forEach(op),Do.forEach(op)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ch||(Ch=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Bg)))}var wu=null;function lp(t){wu!==t&&(wu=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){wu===t&&(wu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],h=t[e+2];if(typeof r!="function"){if(Oh(r||i)===null)continue;break}var f=sa(i);f!==null&&(t.splice(e,3),e-=3,Ac(f,{pending:!0,data:h,method:i.method,action:r},r,h))}}))}function Tr(t){function e(O){return bu(O,t)}Ua!==null&&bu(Ua,t),Ba!==null&&bu(Ba,t),Pa!==null&&bu(Pa,t),jo.forEach(e),Do.forEach(e);for(var i=0;i<Ha.length;i++){var r=Ha[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ha.length&&(i=Ha[0],i.blockedOn===null);)rp(i),i.blockedOn===null&&Ha.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var h=i[r],f=i[r+1],v=h[Ke]||null;if(typeof f=="function")v||lp(i);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ke]||null)T=v.formAction;else if(Oh(h)!==null)continue}else T=v.action;typeof T=="function"?i[r+1]=T:(i.splice(r,3),r-=3),lp(i)}}}function up(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function e(){h!==null&&(h(),h=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),h!==null&&(h(),h=null)}}}function Rh(t){this._internalRoot=t}Su.prototype.render=Rh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,r=Un();tp(i,r,t,e,null,null)},Su.prototype.unmount=Rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tp(t.current,2,null,t,null,null),nu(),e[Ni]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Ha.length&&e!==0&&e<Ha[i].priority;i++);Ha.splice(i,0,t),i===0&&rp(t)}};var cp=a.version;if(cp!=="19.2.3")throw Error(u(527,cp,"19.2.3"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=b(e),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Pg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{_n=Tu.inject(Pg),Ne=Tu}catch{}}return Po.createRoot=function(t,e){if(!d(t))throw Error(u(299));var i=!1,r="",h=gd,f=vd,v=yd;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=Wm(t,1,!1,null,null,i,r,null,h,f,v,up),t[Ni]=e.current,ch(t),new Rh(e)},Po.hydrateRoot=function(t,e,i){if(!d(t))throw Error(u(299));var r=!1,h="",f=gd,v=vd,T=yd,O=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),e=Wm(t,1,!0,e,i??null,r,h,O,f,v,T,up),e.context=Fm(null),i=e.current,r=Un(),r=gn(r),h=Ea(r),h.callback=null,Aa(i,h,r),i=r,e.current.lanes=i,Mi(e,i),ki(e),t[Ni]=e.current,ch(t),new Su(e)},Po.version="19.2.3",Po}var bp;function $g(){if(bp)return zh.exports;bp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),zh.exports=Yg(),zh.exports}var Xg=$g();function e_(l,a){const o=Et.useRef(a);Et.useEffect(function(){a!==o.current&&l.attributionControl!=null&&(o.current!=null&&l.attributionControl.removeAttribution(o.current),a!=null&&l.attributionControl.addAttribution(a)),o.current=a},[l,a])}var Jg=t_();const Qg=1;function Wg(l){return Object.freeze({__version:Qg,map:l})}function Fg(l,a){return Object.freeze({...l,...a})}const of=Et.createContext(null);function lf(){const l=Et.use(of);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function tv(l){function a(o,u){const{instance:d,context:p}=l(o).current;Et.useImperativeHandle(u,()=>d);const{children:_}=o;return _==null?null:Li.createElement(of,{value:p},_)}return Et.forwardRef(a)}function ev(l){function a(o,u){const[d,p]=Et.useState(!1),{instance:_}=l(o,p).current;Et.useImperativeHandle(u,()=>_),Et.useEffect(function(){d&&_.update()},[_,d,o.children]);const w=_._contentNode;return w?Jg.createPortal(o.children,w):null}return Et.forwardRef(a)}function nv(l){function a(o,u){const{instance:d}=l(o).current;return Et.useImperativeHandle(u,()=>d),null}return Et.forwardRef(a)}function n_(l,a){const o=Et.useRef(void 0);Et.useEffect(function(){return a!=null&&l.instance.on(a),o.current=a,function(){o.current!=null&&l.instance.off(o.current),o.current=null}},[l,a])}function uf(l,a){const o=l.pane??a.pane;return o?{...l,pane:o}:l}function iv(l,a){return function(u,d){const p=lf(),_=l(uf(u,p),p);return e_(p.map,u.attribution),n_(_.current,u.eventHandlers),a(_.current,p,u,d),_}}var Ho={exports:{}};var av=Ho.exports,wp;function sv(){return wp||(wp=1,(function(l,a){(function(o,u){u(a)})(av,(function(o){var u="1.9.4";function d(n){var s,c,m,g;for(c=1,m=arguments.length;c<m;c++){g=arguments[c];for(s in g)n[s]=g[s]}return n}var p=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function _(n,s){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(s,m.length?m.concat(c.call(arguments)):arguments)}}var w=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++w),n._leaflet_id}function b(n,s,c){var m,g,S,E;return E=function(){m=!1,g&&(S.apply(c,g),g=!1)},S=function(){m?g=arguments:(n.apply(c,arguments),setTimeout(E,s),m=!0)},S}function A(n,s,c){var m=s[1],g=s[0],S=m-g;return n===m&&c?n:((n-g)%S+S)%S+g}function R(){return!1}function M(n,s){if(s===!1)return n;var c=Math.pow(10,s===void 0?6:s);return Math.round(n*c)/c}function P(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function Z(n){return P(n).split(/\s+/)}function N(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var c in s)n.options[c]=s[c];return n.options}function it(n,s,c){var m=[];for(var g in n)m.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var ut=/\{ *([\w_ -]+) *\}/g;function at(n,s){return n.replace(ut,function(c,m){var g=s[m];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(s)),g})}var Q=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function mt(n,s){for(var c=0;c<n.length;c++)if(n[c]===s)return c;return-1}var zt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function gt(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var rt=0;function z(n){var s=+new Date,c=Math.max(0,16-(s-rt));return rt=s+c,window.setTimeout(n,c)}var C=window.requestAnimationFrame||gt("RequestAnimationFrame")||z,W=window.cancelAnimationFrame||gt("CancelAnimationFrame")||gt("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function ht(n,s,c){if(c&&C===z)n.call(s);else return C.call(window,_(n,s))}function ot(n){n&&W.call(window,n)}var At={__proto__:null,extend:d,create:p,bind:_,get lastId(){return w},stamp:y,throttle:b,wrapNum:A,falseFn:R,formatNum:M,trim:P,splitWords:Z,setOptions:N,getParamString:it,template:at,isArray:Q,indexOf:mt,emptyImageUrl:zt,requestFn:C,cancelFn:W,requestAnimFrame:ht,cancelAnimFrame:ot};function Dt(){}Dt.extend=function(n){var s=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,m=p(c);m.constructor=s,s.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(s[g]=this[g]);return n.statics&&d(s,n.statics),n.includes&&(ue(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?p(c.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,E=m._initHooks.length;S<E;S++)m._initHooks[S].call(this)}},s},Dt.include=function(n){var s=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},Dt.mergeOptions=function(n){return d(this.prototype.options,n),this},Dt.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function ue(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=Q(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s);else{n=Z(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],s,c)}return this},off:function(n,s,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],s);else{n=Z(n);for(var g=arguments.length===1,S=0,E=n.length;S<E;S++)g?this._off(n[S]):this._off(n[S],s,c)}return this},_on:function(n,s,c,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,c)===!1){c===this&&(c=void 0);var g={fn:s,ctx:c};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,s,c){var m,g,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,S=m.length;g<S;g++)m[g].fn=R;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var E=this._listens(n,s,c);if(E!==!1){var U=m[E];this._firingCount&&(U.fn=R,this._events[n]=m=m.slice()),m.splice(E,1)}}},fire:function(n,s,c){if(!this.listens(n,c))return this;var m=d({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,E=g.length;S<E;S++){var U=g[S],I=U.fn;U.once&&this.off(n,I,U.ctx),I.call(U.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,s,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=s;typeof s!="function"&&(m=!!s,g=void 0,c=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,g,c)!==!1)return!0;if(m){for(var E in this._eventParents)if(this._eventParents[E].listens(n,s,c,m))return!0}return!1},_listens:function(n,s,c){if(!this._events)return!1;var m=this._events[n]||[];if(!s)return!!m.length;c===this&&(c=void 0);for(var g=0,S=m.length;g<S;g++)if(m[g].fn===s&&m[g].ctx===c)return g;return!1},once:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s,!0);else{n=Z(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],s,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var X=Dt.extend(V);function F(n,s,c){this.x=c?Math.round(n):n,this.y=c?Math.round(s):s}var dt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(n){return this.clone()._add(ct(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(ct(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new F(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new F(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=dt(this.x),this.y=dt(this.y),this},distanceTo:function(n){n=ct(n);var s=n.x-this.x,c=n.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(n){return n=ct(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=ct(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function ct(n,s,c){return n instanceof F?n:Q(n)?new F(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new F(n.x,n.y):new F(n,s,c)}function x(n,s){if(n)for(var c=s?[n,s]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}x.prototype={extend:function(n){var s,c;if(!n)return this;if(n instanceof F||typeof n[0]=="number"||"x"in n)s=c=ct(n);else if(n=j(n),s=n.min,c=n.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return ct((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return ct(this.min.x,this.max.y)},getTopRight:function(){return ct(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,c;return typeof n[0]=="number"||n instanceof F?n=ct(n):n=j(n),n instanceof x?(s=n.min,c=n.max):s=c=n,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=j(n);var s=this.min,c=this.max,m=n.min,g=n.max,S=g.x>=s.x&&m.x<=c.x,E=g.y>=s.y&&m.y<=c.y;return S&&E},overlaps:function(n){n=j(n);var s=this.min,c=this.max,m=n.min,g=n.max,S=g.x>s.x&&m.x<c.x,E=g.y>s.y&&m.y<c.y;return S&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,c=this.max,m=Math.abs(s.x-c.x)*n,g=Math.abs(s.y-c.y)*n;return j(ct(s.x-m,s.y-g),ct(c.x+m,c.y+g))},equals:function(n){return n?(n=j(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function j(n,s){return!n||n instanceof x?n:new x(n,s)}function K(n,s){if(n)for(var c=s?[n,s]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}K.prototype={extend:function(n){var s=this._southWest,c=this._northEast,m,g;if(n instanceof st)m=n,g=n;else if(n instanceof K){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(lt(n)||nt(n)):this;return!s&&!c?(this._southWest=new st(m.lat,m.lng),this._northEast=new st(g.lat,g.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(n){var s=this._southWest,c=this._northEast,m=Math.abs(s.lat-c.lat)*n,g=Math.abs(s.lng-c.lng)*n;return new K(new st(s.lat-m,s.lng-g),new st(c.lat+m,c.lng+g))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof st||"lat"in n?n=lt(n):n=nt(n);var s=this._southWest,c=this._northEast,m,g;return n instanceof K?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=s.lat&&g.lat<=c.lat&&m.lng>=s.lng&&g.lng<=c.lng},intersects:function(n){n=nt(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>=s.lat&&m.lat<=c.lat,E=g.lng>=s.lng&&m.lng<=c.lng;return S&&E},overlaps:function(n){n=nt(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>s.lat&&m.lat<c.lat,E=g.lng>s.lng&&m.lng<c.lng;return S&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=nt(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function nt(n,s){return n instanceof K?n:new K(n,s)}function st(n,s,c){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,c!==void 0&&(this.alt=+c)}st.prototype={equals:function(n,s){if(!n)return!1;n=lt(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+M(this.lat,n)+", "+M(this.lng,n)+")"},distanceTo:function(n){return _t.distance(this,lt(n))},wrap:function(){return _t.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,c=s/Math.cos(Math.PI/180*this.lat);return nt([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function lt(n,s,c){return n instanceof st?n:Q(n)&&typeof n[0]!="object"?n.length===3?new st(n[0],n[1],n[2]):n.length===2?new st(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new st(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new st(n,s,c)}var St={latLngToPoint:function(n,s){var c=this.projection.project(n),m=this.scale(s);return this.transformation._transform(c,m)},pointToLatLng:function(n,s){var c=this.scale(s),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(s.min,c),g=this.transformation.transform(s.max,c);return new x(m,g)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?A(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?A(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new st(c,s,m)},wrapLatLngBounds:function(n){var s=n.getCenter(),c=this.wrapLatLng(s),m=s.lat-c.lat,g=s.lng-c.lng;if(m===0&&g===0)return n;var S=n.getSouthWest(),E=n.getNorthEast(),U=new st(S.lat-m,S.lng-g),I=new st(E.lat-m,E.lng-g);return new K(U,I)}},_t=d({},St,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var c=Math.PI/180,m=n.lat*c,g=s.lat*c,S=Math.sin((s.lat-n.lat)*c/2),E=Math.sin((s.lng-n.lng)*c/2),U=S*S+Math.cos(m)*Math.cos(g)*E*E,I=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*I}}),bt=6378137,Qt={R:bt,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),g=Math.sin(m*s);return new F(this.R*n.lng*s,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var s=180/Math.PI;return new st((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=bt*Math.PI;return new x([-n,-n],[n,n])})()};function kt(n,s,c,m){if(Q(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=c,this._d=m}kt.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new F((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function Zt(n,s,c,m){return new kt(n,s,c,m)}var Ut=d({},_t,{code:"EPSG:3857",projection:Qt,transformation:(function(){var n=.5/(Math.PI*Qt.R);return Zt(n,.5,-n,.5)})()}),Yt=d({},Ut,{code:"EPSG:900913"});function Wt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Mt(n,s){var c="",m,g,S,E,U,I;for(m=0,S=n.length;m<S;m++){for(U=n[m],g=0,E=U.length;g<E;g++)I=U[g],c+=(g?"L":"M")+I.x+" "+I.y;c+=s?yt.svg?"z":"x":""}return c||"M0 0"}var Ee=document.documentElement.style,qt="ActiveXObject"in window,se=qt&&!document.addEventListener,_e="msLaunchUri"in navigator&&!("documentMode"in document),dn=gn("webkit"),ln=gn("android"),mi=gn("android 2")||gn("android 3"),Ft=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mn=ln&&gn("Google")&&Ft<537&&!("AudioNode"in window),ve=!!window.opera,Me=!_e&&gn("chrome"),Je=gn("gecko")&&!dn&&!ve&&!qt,Ga=!Me&&gn("safari"),aa=gn("phantom"),Fn="OTransition"in Ee,pn=navigator.platform.indexOf("Win")===0,_n=qt&&"transition"in Ee,Ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mi,ti="MozPerspective"in Ee,un=!window.L_DISABLE_3D&&(_n||Ne||ti)&&!Fn&&!aa,Va=typeof orientation<"u"||gn("mobile"),ju=Va&&dn,Du=Va&&Ne,Ka=!window.PointerEvent&&window.MSPointerEvent,Ya=!!(window.PointerEvent||Ka),$a="ontouchstart"in window||!!window.TouchEvent,zi=!window.L_NO_TOUCH&&($a||Ya),Us=Va&&ve,Xa=Va&&Je,Uu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fo=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",R,s),window.removeEventListener("testPassiveEventSupport",R,s)}catch{}return n})(),jr=(function(){return!!document.createElement("canvas").getContext})(),Mi=!!(document.createElementNS&&Wt("svg").createSVGRect),Bu=!!Mi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),tl=!Mi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),el=navigator.platform.indexOf("Mac")===0,nl=navigator.platform.indexOf("Linux")===0;function gn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var yt={ie:qt,ielt9:se,edge:_e,webkit:dn,android:ln,android23:mi,androidStock:mn,opera:ve,chrome:Me,gecko:Je,safari:Ga,phantom:aa,opera12:Fn,win:pn,ie3d:_n,webkit3d:Ne,gecko3d:ti,any3d:un,mobile:Va,mobileWebkit:ju,mobileWebkit3d:Du,msPointer:Ka,pointer:Ya,touch:zi,touchNative:$a,mobileOpera:Us,mobileGecko:Xa,retina:Uu,passiveEvents:Fo,canvas:jr,svg:Mi,vml:tl,inlineSvg:Bu,mac:el,linux:nl},Dr=yt.msPointer?"MSPointerDown":"pointerdown",Ur=yt.msPointer?"MSPointerMove":"pointermove",ei=yt.msPointer?"MSPointerUp":"pointerup",je=yt.msPointer?"MSPointerCancel":"pointercancel",Ke={touchstart:Dr,touchmove:Ur,touchend:ei,touchcancel:je},Ni={touchstart:ra,touchmove:_i,touchend:_i,touchcancel:_i},pi={},il=!1;function Pu(n,s,c){return s==="touchstart"&&sa(),Ni[s]?(c=Ni[s].bind(this,c),n.addEventListener(Ke[s],c,!1),c):(console.warn("wrong event specified:",s),R)}function al(n,s,c){if(!Ke[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Ke[s],c,!1)}function Ja(n){pi[n.pointerId]=n}function Br(n){pi[n.pointerId]&&(pi[n.pointerId]=n)}function ji(n){delete pi[n.pointerId]}function sa(){il||(document.addEventListener(Dr,Ja,!0),document.addEventListener(Ur,Br,!0),document.addEventListener(ei,ji,!0),document.addEventListener(je,ji,!0),il=!0)}function _i(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in pi)s.touches.push(pi[c]);s.changedTouches=[s],n(s)}}function ra(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Ae(s),_i(n,s)}function De(n){var s={},c,m;for(m in n)c=n[m],s[m]=c&&c.bind?c.bind(n):c;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var sl=200;function rl(n,s){n.addEventListener("dblclick",s);var c=0,m;function g(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var E=is(S);if(!(E.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!E.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var U=Date.now();U-c<=sl?(m++,m===2&&s(De(S))):m=1,c=U}}}return n.addEventListener("click",g),{dblclick:s,simDblclick:g}}function Di(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var gi=Fa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qa=Fa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pr=Qa==="webkitTransition"||Qa==="OTransition"?Qa+"End":"transitionend";function Hr(n){return typeof n=="string"?document.getElementById(n):n}function Wa(n,s){var c=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[s]:null}return c==="auto"?null:c}function It(n,s,c){var m=document.createElement(n);return m.className=s||"",c&&c.appendChild(m),m}function ce(n){var s=n.parentNode;s&&s.removeChild(n)}function vn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ze(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function Ui(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function qr(n,s){if(n.classList!==void 0)return n.classList.contains(s);var c=Bs(n);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function Nt(n,s){if(n.classList!==void 0)for(var c=Z(s),m=0,g=c.length;m<g;m++)n.classList.add(c[m]);else if(!qr(n,s)){var S=Bs(n);oa(n,(S?S+" ":"")+s)}}function we(n,s){n.classList!==void 0?n.classList.remove(s):oa(n,P((" "+Bs(n)+" ").replace(" "+s+" "," ")))}function oa(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Bs(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ye(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Zr(n,s)}function Zr(n,s){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):n.style.filter+=" progid:"+m+"(opacity="+s+")"}function Fa(n){for(var s=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in s)return n[c];return!1}function ni(n,s,c){var m=s||new F(0,0);n.style[gi]=(yt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function me(n,s){n._leaflet_pos=s,yt.any3d?ni(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function vi(n){return n._leaflet_pos||new F(0,0)}var la,qn,Ir;if("onselectstart"in document)la=function(){Lt(window,"selectstart",Ae)},qn=function(){re(window,"selectstart",Ae)};else{var ua=Fa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);la=function(){if(ua){var n=document.documentElement.style;Ir=n[ua],n[ua]="none"}},qn=function(){ua&&(document.documentElement.style[ua]=Ir,Ir=void 0)}}function Ps(){Lt(window,"dragstart",Ae)}function ts(){re(window,"dragstart",Ae)}var Hs,Gr;function ca(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(yn(),Hs=n,Gr=n.style.outlineStyle,n.style.outlineStyle="none",Lt(window,"keydown",yn))}function yn(){Hs&&(Hs.style.outlineStyle=Gr,Hs=void 0,Gr=void 0,re(window,"keydown",yn))}function qs(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function es(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var ha={__proto__:null,TRANSFORM:gi,TRANSITION:Qa,TRANSITION_END:Pr,get:Hr,getStyle:Wa,create:It,remove:ce,empty:vn,toFront:Ze,toBack:Ui,hasClass:qr,addClass:Nt,removeClass:we,setClass:oa,getClass:Bs,setOpacity:ye,testProp:Fa,setTransform:ni,setPosition:me,getPosition:vi,get disableTextSelection(){return la},get enableTextSelection(){return qn},disableImageDrag:Ps,enableImageDrag:ts,preventOutline:ca,restoreOutline:yn,getSizedParentNode:qs,getScale:es};function Lt(n,s,c,m){if(s&&typeof s=="object")for(var g in s)kn(n,g,s[g],c);else{s=Z(s);for(var S=0,E=s.length;S<E;S++)kn(n,s[S],c,m)}return this}var Rn="_leaflet_events";function re(n,s,c,m){if(arguments.length===1)Vr(n),delete n[Rn];else if(s&&typeof s=="object")for(var g in s)ns(n,g,s[g],c);else if(s=Z(s),arguments.length===2)Vr(n,function(U){return mt(s,U)!==-1});else for(var S=0,E=s.length;S<E;S++)ns(n,s[S],c,m);return this}function Vr(n,s){for(var c in n[Rn]){var m=c.split(/\d/)[0];(!s||s(m))&&ns(n,m,null,null,c)}}var Bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function kn(n,s,c,m){var g=s+y(c)+(m?"_"+y(m):"");if(n[Rn]&&n[Rn][g])return this;var S=function(U){return c.call(m||n,U||window.event)},E=S;!yt.touchNative&&yt.pointer&&s.indexOf("touch")===0?S=Pu(n,s,S):yt.touch&&s==="dblclick"?S=rl(n,S):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Bi[s]||s,S,yt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(S=function(U){U=U||window.event,ii(n,U)&&E(U)},n.addEventListener(Bi[s],S,!1)):n.addEventListener(s,E,!1):n.attachEvent("on"+s,S),n[Rn]=n[Rn]||{},n[Rn][g]=S}function ns(n,s,c,m,g){g=g||s+y(c)+(m?"_"+y(m):"");var S=n[Rn]&&n[Rn][g];if(!S)return this;!yt.touchNative&&yt.pointer&&s.indexOf("touch")===0?al(n,s,S):yt.touch&&s==="dblclick"?Di(n,S):"removeEventListener"in n?n.removeEventListener(Bi[s]||s,S,!1):n.detachEvent("on"+s,S),n[Rn][g]=null}function Ln(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Zn(n){return kn(n,"wheel",Ln),this}function Pi(n){return Lt(n,"mousedown touchstart dblclick contextmenu",Ln),n._leaflet_disable_click=!0,this}function Ae(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function yi(n){return Ae(n),Ln(n),this}function is(n){if(n.composedPath)return n.composedPath();for(var s=[],c=n.target;c;)s.push(c),c=c.parentNode;return s}function as(n,s){if(!s)return new F(n.clientX,n.clientY);var c=es(s),m=c.boundingClientRect;return new F((n.clientX-m.left)/c.x-s.clientLeft,(n.clientY-m.top)/c.y-s.clientTop)}var ol=yt.linux&&yt.chrome?window.devicePixelRatio:yt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qe(n){return yt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/ol:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ii(n,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var Zs={__proto__:null,on:Lt,off:re,stopPropagation:Ln,disableScrollPropagation:Zn,disableClickPropagation:Pi,preventDefault:Ae,stop:yi,getPropagationPath:is,getMousePosition:as,getWheelDelta:Qe,isExternalTarget:ii,addListener:Lt,removeListener:re},fa=X.extend({run:function(n,s,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=vi(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ht(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var c=this._startPos.add(this._offset.multiplyBy(n));s&&c._round(),me(this._el,c),this.fire("step")},_complete:function(){ot(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),$t=X.extend({options:{crs:Ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=N(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(lt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qa&&yt.any3d&&!yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,Pr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(lt(n),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=d({animate:c.animate},c.zoom),c.pan=d({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,c){var m=this.getZoomScale(s),g=this.getSize().divideBy(2),S=n instanceof F?n:this.latLngToContainerPoint(n),E=S.subtract(g).multiplyBy(1-1/m),U=this.containerPointToLatLng(g.add(E));return this.setView(U,s,{zoom:c})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():nt(n);var c=ct(s.paddingTopLeft||s.padding||[0,0]),m=ct(s.paddingBottomRight||s.padding||[0,0]),g=this.getBoundsZoom(n,!1,c.add(m));if(g=typeof s.maxZoom=="number"?Math.min(s.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var S=m.subtract(c).divideBy(2),E=this.project(n.getSouthWest(),g),U=this.project(n.getNorthEast(),g),I=this.unproject(E.add(U).divideBy(2).add(S),g);return{center:I,zoom:g}},fitBounds:function(n,s){if(n=nt(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=ct(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,c){if(c=c||{},c.animate===!1||!yt.any3d)return this.setView(n,s,c);this._stop();var m=this.project(this.getCenter()),g=this.project(n),S=this.getSize(),E=this._zoom;n=lt(n),s=s===void 0?E:s;var U=Math.max(S.x,S.y),I=U*this.getZoomScale(E,s),tt=g.distanceTo(m)||1,ft=1.42,wt=ft*ft;function Pt(Te){var oi=Te?-1:1,Ii=Te?I:U,ro=I*I-U*U+oi*wt*wt*tt*tt,bs=2*Ii*wt*tt,ws=ro/bs,Ci=Math.sqrt(ws*ws+1)-ws,li=Ci<1e-9?-18:Math.log(Ci);return li}function Ie(Te){return(Math.exp(Te)-Math.exp(-Te))/2}function Oe(Te){return(Math.exp(Te)+Math.exp(-Te))/2}function hn(Te){return Ie(Te)/Oe(Te)}var te=Pt(0);function ee(Te){return U*(Oe(te)/Oe(te+ft*Te))}function Gt(Te){return U*(Oe(te)*hn(te+ft*Te)-Ie(te))/wt}function Ai(Te){return 1-Math.pow(1-Te,1.5)}var Tn=Date.now(),nr=(Pt(1)-te)/ft,Oi=c.duration?1e3*c.duration:1e3*nr*.8;function so(){var Te=(Date.now()-Tn)/Oi,oi=Ai(Te)*nr;Te<=1?(this._flyToFrame=ht(so,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(Gt(oi)/tt)),E),this.getScaleZoom(U/ee(oi),E),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),so.call(this),this},flyToBounds:function(n,s){var c=this._getBoundsCenterZoom(n,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(n){return n=nt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,nt(n));return c.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var c=ct(s.paddingTopLeft||s.padding||[0,0]),m=ct(s.paddingBottomRight||s.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(n),E=this.getPixelBounds(),U=j([E.min.add(c),E.max.subtract(m)]),I=U.getSize();if(!U.contains(S)){this._enforcingBounds=!0;var tt=S.subtract(U.getCenter()),ft=U.extend(S).getSize().subtract(I);g.x+=tt.x<0?-ft.x:ft.x,g.y+=tt.y<0?-ft.y:ft.y,this.panTo(this.unproject(g),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=s.divideBy(2).round(),g=c.divideBy(2).round(),S=m.subtract(g);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=_(this._handleGeolocationResponse,this),c=_(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,n):navigator.geolocation.getCurrentPosition(s,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,c=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,c=n.coords.longitude,m=new st(s,c),g=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var E=this.getBoundsZoom(g);this.setView(m,S.maxZoom?Math.min(E,S.maxZoom):E)}var U={latlng:m,bounds:g,timestamp:n.timestamp};for(var I in n.coords)typeof n.coords[I]=="number"&&(U[I]=n.coords[I]);this.fire("locationfound",U)}},addHandler:function(n,s){if(!s)return this;var c=this[n]=new s(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ot(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ce(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=It("div",c,s||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new K(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,c){n=nt(n),c=ct(c||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),E=n.getNorthWest(),U=n.getSouthEast(),I=this.getSize().subtract(c),tt=j(this.project(U,m),this.project(E,m)).getSize(),ft=yt.any3d?this.options.zoomSnap:1,wt=I.x/tt.x,Pt=I.y/tt.y,Ie=s?Math.max(wt,Pt):Math.min(wt,Pt);return m=this.getScaleZoom(Ie,m),ft&&(m=Math.round(m/(ft/100))*(ft/100),m=s?Math.ceil(m/ft)*ft:Math.floor(m/ft)*ft),Math.max(g,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var c=this._getTopLeftPoint(n,s);return new x(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(n)/c.scale(s)},getScaleZoom:function(n,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var m=c.zoom(n*c.scale(s));return isNaN(m)?1/0:m},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(lt(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(ct(n),s)},layerPointToLatLng:function(n){var s=ct(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(lt(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(lt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(nt(n))},distance:function(n,s){return this.options.crs.distance(lt(n),lt(s))},containerPointToLayerPoint:function(n){return ct(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return ct(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(ct(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(lt(n)))},mouseEventToContainerPoint:function(n){return as(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Hr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(s,"scroll",this._onScroll,this),this._containerId=y(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt.any3d,Nt(n,"leaflet-container"+(yt.touch?" leaflet-touch":"")+(yt.retina?" leaflet-retina":"")+(yt.ielt9?" leaflet-oldie":"")+(yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Wa(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(n.markerPane,"leaflet-zoom-hide"),Nt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,c){me(this._mapPane,new F(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var g=this._zoom!==s;this._moveStart(g,c)._move(n,s)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,c,m){s===void 0&&(s=this._zoom);var g=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ot(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){me(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var s=n?re:Lt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),yt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ot(this._resizeRequest),this._resizeRequest=ht(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var c=[],m,g=s==="mouseout"||s==="mouseover",S=n.target||n.srcElement,E=!1;S;){if(m=this._targets[y(S)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){E=!0;break}if(m&&m.listens(s,!0)&&(g&&!ii(S,n)||(c.push(m),g))||S===this._container)break;S=S.parentNode}return!c.length&&!E&&!g&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var c=n.type;c==="mousedown"&&ca(s),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,c){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var g=this._findEventTargets(n,s);if(c){for(var S=[],E=0;E<c.length;E++)c[E].listens(s,!0)&&S.push(c[E]);g=S.concat(g)}if(g.length){s==="contextmenu"&&Ae(n);var U=g[0],I={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var tt=U.getLatLng&&(!U._radius||U._radius<=10);I.containerPoint=tt?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(n),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=tt?U.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(E=0;E<g.length;E++)if(g[E].fire(s,I,!0),I.originalEvent._stopped||g[E].options.bubblingMouseEvents===!1&&mt(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return vi(this._mapPane)||new F(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var c=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var c=this.getSize()._divideBy(2);return this.project(n,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return this.project(n,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return j([this.project(n.getSouthWest(),s)._subtract(m),this.project(n.getNorthWest(),s)._subtract(m),this.project(n.getSouthEast(),s)._subtract(m),this.project(n.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,c){if(!c)return n;var m=this.project(n,s),g=this.getSize().divideBy(2),S=new x(m.subtract(g),m.add(g)),E=this._getBoundsOffset(S,c,s);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?n:this.unproject(m.add(E),s)},_limitOffset:function(n,s){if(!s)return n;var c=this.getPixelBounds(),m=new x(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(n,s,c){var m=j(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),g=m.min.subtract(n.min),S=m.max.subtract(n.max),E=this._rebound(g.x,-S.x),U=this._rebound(g.y,-S.y);return new F(E,U)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),c=this.getMaxZoom(),m=yt.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(s,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){we(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var c=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var n=this._proxy=It("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var c=gi,m=this._proxy.style[c];ni(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();ni(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),g=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(g)?!1:(ht(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&we(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Kr(n,s){return new $t(n,s)}var cn=Dt.extend({options:{position:"topright"},initialize:function(n){N(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return Nt(s,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),ai=function(n){return new cn(n)};$t.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",c=this._controlContainer=It("div",s+"control-container",this._container);function m(g,S){var E=s+g+" "+s+S;n[g+S]=It("div",E,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ce(this._controlCorners[n]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ss=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,s,c){N(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return cn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(y(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):we(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return we(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=It("div",n),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Pi(s),Zn(s);var m=this._section=It("section",n+"-list");c&&(this._map.on("click",this.collapse,this),Lt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=It("a",n+"-toggle",s);g.href="#",g.title="Layers",g.setAttribute("role","button"),Lt(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){Ae(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=It("div",n+"-base",m),this._separator=It("div",n+"-separator",m),this._overlaysList=It("div",n+"-overlays",m),s.appendChild(m)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&y(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(_(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vn(this._baseLayersList),vn(this._overlaysList),this._layerControlInputs=[];var n,s,c,m,g=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),s=s||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(y(n.target)),c=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(n,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var s=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(m),m.layerId=y(n.layer),Lt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var S=document.createElement("span");s.appendChild(S),S.appendChild(m),S.appendChild(g);var E=n.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,c,m=[],g=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)s=n[S],c=this._getLayer(s.layerId).layer,s.checked?m.push(c):s.checked||g.push(c);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,c,m=this._map.getZoom(),g=n.length-1;g>=0;g--)s=n[g],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Lt(n,"click",Ae),this.expand();var s=this;setTimeout(function(){re(n,"click",Ae),s._preventClick=!1})}}),ll=function(n,s,c){return new ss(n,s,c)},Yr=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",c=It("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,c,m,g){var S=It("a",c,m);return S.innerHTML=n,S.href="#",S.title=s,S.setAttribute("role","button"),S.setAttribute("aria-label",s),Pi(S),Lt(S,"click",yi),Lt(S,"click",g,this),Lt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";we(this._zoomInButton,s),we(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Nt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Nt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yr,this.addControl(this.zoomControl))});var Hu=function(n){return new Yr(n)},ul=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",c=It("div",s),m=this.options;return this._addScales(m,s+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,c){n.metric&&(this._mScale=It("div",s,c)),n.imperial&&(this._iScale=It("div",s,c))},_update:function(){var n=this._map,s=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/n)},_updateImperial:function(n){var s=n*3.2808399,c,m,g;s>5280?(c=s/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(g=this._getRoundNum(s),this._updateScale(this._iScale,g+" ft",g/s))},_updateScale:function(n,s,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),c=n/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),$r=function(n){return new ul(n)},qu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xr=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(yt.inlineSvg?qu+" ":"")+"Leaflet</a>"},initialize:function(n){N(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=It("div","leaflet-control-attribution"),Pi(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new Xr().addTo(this)});var Zu=function(n){return new Xr(n)};cn.Layers=ss,cn.Zoom=Yr,cn.Scale=ul,cn.Attribution=Xr,ai.layers=ll,ai.zoom=Hu,ai.scale=$r,ai.attribution=Zu;var In=Dt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});In.addTo=function(n,s){return n.addHandler(s,this),this};var Iu={Events:V},Jr=yt.touch?"touchstart mousedown":"mousedown",bi=X.extend({options:{clickTolerance:3},initialize:function(n,s,c,m){N(this,m),this._element=n,this._dragStartTarget=s||n,this._preventOutline=c},enable:function(){this._enabled||(Lt(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bi._dragging===this&&this.finishDrag(!0),re(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!qr(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){bi._dragging===this&&this.finishDrag();return}if(!(bi._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(bi._dragging=this,this._preventOutline&&ca(this._element),Ps(),la(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,c=qs(this._element);this._startPoint=new F(s.clientX,s.clientY),this._startPos=vi(this._element),this._parentScale=es(c);var m=n.type==="mousedown";Lt(document,m?"mousemove":"touchmove",this._onMove,this),Lt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,c=new F(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Ae(n),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),me(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){we(document.body,"leaflet-dragging"),this._lastTarget&&(we(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),re(document,"mousemove touchmove",this._onMove,this),re(document,"mouseup touchend touchcancel",this._onUp,this),ts(),qn();var s=this._moved&&this._moving;this._moving=!1,bi._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function cl(n,s,c){var m,g=[1,4,2,8],S,E,U,I,tt,ft,wt,Pt;for(S=0,ft=n.length;S<ft;S++)n[S]._code=Hi(n[S],s);for(U=0;U<4;U++){for(wt=g[U],m=[],S=0,ft=n.length,E=ft-1;S<ft;E=S++)I=n[S],tt=n[E],I._code&wt?tt._code&wt||(Pt=Is(tt,I,wt,s,c),Pt._code=Hi(Pt,s),m.push(Pt)):(tt._code&wt&&(Pt=Is(tt,I,wt,s,c),Pt._code=Hi(Pt,s),m.push(Pt)),m.push(I));n=m}return n}function hl(n,s){var c,m,g,S,E,U,I,tt,ft;if(!n||n.length===0)throw new Error("latlngs not passed");bn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var wt=lt([0,0]),Pt=nt(n),Ie=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Ie<1700&&(wt=Qr(n));var Oe=n.length,hn=[];for(c=0;c<Oe;c++){var te=lt(n[c]);hn.push(s.project(lt([te.lat-wt.lat,te.lng-wt.lng])))}for(U=I=tt=0,c=0,m=Oe-1;c<Oe;m=c++)g=hn[c],S=hn[m],E=g.y*S.x-S.y*g.x,I+=(g.x+S.x)*E,tt+=(g.y+S.y)*E,U+=E*3;U===0?ft=hn[0]:ft=[I/U,tt/U];var ee=s.unproject(ct(ft));return lt([ee.lat+wt.lat,ee.lng+wt.lng])}function Qr(n){for(var s=0,c=0,m=0,g=0;g<n.length;g++){var S=lt(n[g]);s+=S.lat,c+=S.lng,m++}return lt([s/m,c/m])}var Wr={__proto__:null,clipPolygon:cl,polygonCenter:hl,centroid:Qr};function fl(n,s){if(!s||!n.length)return n.slice();var c=s*s;return n=Vu(n,c),n=ml(n,c),n}function dl(n,s,c){return Math.sqrt(rs(n,s,c,!0))}function Gu(n,s,c){return rs(n,s,c)}function ml(n,s){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(c);g[0]=g[c-1]=1,Fr(n,g,s,0,c-1);var S,E=[];for(S=0;S<c;S++)g[S]&&E.push(n[S]);return E}function Fr(n,s,c,m,g){var S=0,E,U,I;for(U=m+1;U<=g-1;U++)I=rs(n[U],n[m],n[g],!0),I>S&&(E=U,S=I);S>c&&(s[E]=1,Fr(n,s,c,m,E),Fr(n,s,c,E,g))}function Vu(n,s){for(var c=[n[0]],m=1,g=0,S=n.length;m<S;m++)Ku(n[m],n[g])>s&&(c.push(n[m]),g=m);return g<S-1&&c.push(n[S-1]),c}var pl;function _l(n,s,c,m,g){var S=m?pl:Hi(n,c),E=Hi(s,c),U,I,tt;for(pl=E;;){if(!(S|E))return[n,s];if(S&E)return!1;U=S||E,I=Is(n,s,U,c,g),tt=Hi(I,c),U===S?(n=I,S=tt):(s=I,E=tt)}}function Is(n,s,c,m,g){var S=s.x-n.x,E=s.y-n.y,U=m.min,I=m.max,tt,ft;return c&8?(tt=n.x+S*(I.y-n.y)/E,ft=I.y):c&4?(tt=n.x+S*(U.y-n.y)/E,ft=U.y):c&2?(tt=I.x,ft=n.y+E*(I.x-n.x)/S):c&1&&(tt=U.x,ft=n.y+E*(U.x-n.x)/S),new F(tt,ft,g)}function Hi(n,s){var c=0;return n.x<s.min.x?c|=1:n.x>s.max.x&&(c|=2),n.y<s.min.y?c|=4:n.y>s.max.y&&(c|=8),c}function Ku(n,s){var c=s.x-n.x,m=s.y-n.y;return c*c+m*m}function rs(n,s,c,m){var g=s.x,S=s.y,E=c.x-g,U=c.y-S,I=E*E+U*U,tt;return I>0&&(tt=((n.x-g)*E+(n.y-S)*U)/I,tt>1?(g=c.x,S=c.y):tt>0&&(g+=E*tt,S+=U*tt)),E=n.x-g,U=n.y-S,m?E*E+U*U:new F(g,S)}function bn(n){return!Q(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Gs(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bn(n)}function da(n,s){var c,m,g,S,E,U,I,tt;if(!n||n.length===0)throw new Error("latlngs not passed");bn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ft=lt([0,0]),wt=nt(n),Pt=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Pt<1700&&(ft=Qr(n));var Ie=n.length,Oe=[];for(c=0;c<Ie;c++){var hn=lt(n[c]);Oe.push(s.project(lt([hn.lat-ft.lat,hn.lng-ft.lng])))}for(c=0,m=0;c<Ie-1;c++)m+=Oe[c].distanceTo(Oe[c+1])/2;if(m===0)tt=Oe[0];else for(c=0,S=0;c<Ie-1;c++)if(E=Oe[c],U=Oe[c+1],g=E.distanceTo(U),S+=g,S>m){I=(S-m)/g,tt=[U.x-I*(U.x-E.x),U.y-I*(U.y-E.y)];break}var te=s.unproject(ct(tt));return lt([te.lat+ft.lat,te.lng+ft.lng])}var Yu={__proto__:null,simplify:fl,pointToSegmentDistance:dl,closestPointOnSegment:Gu,clipSegment:_l,_getEdgeIntersection:Is,_getBitCode:Hi,_sqClosestPointOnSegment:rs,isFlat:bn,_flat:Gs,polylineCenter:da},Vs={project:function(n){return new F(n.lng,n.lat)},unproject:function(n){return new st(n.y,n.x)},bounds:new x([-180,-90],[180,90])},Ks={R:6378137,R_MINOR:6356752314245179e-9,bounds:new x([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,c=this.R,m=n.lat*s,g=this.R_MINOR/c,S=Math.sqrt(1-g*g),E=S*Math.sin(m),U=Math.tan(Math.PI/4-m/2)/Math.pow((1-E)/(1+E),S/2);return m=-c*Math.log(Math.max(U,1e-10)),new F(n.lng*s*c,m)},unproject:function(n){for(var s=180/Math.PI,c=this.R,m=this.R_MINOR/c,g=Math.sqrt(1-m*m),S=Math.exp(-n.y/c),E=Math.PI/2-2*Math.atan(S),U=0,I=.1,tt;U<15&&Math.abs(I)>1e-7;U++)tt=g*Math.sin(E),tt=Math.pow((1-tt)/(1+tt),g/2),I=Math.PI/2-2*Math.atan(S*tt)-E,E+=I;return new st(E*s,n.x*s/c)}},gl={__proto__:null,LonLat:Vs,Mercator:Ks,SphericalMercator:Qt},vl=d({},_t,{code:"EPSG:3395",projection:Ks,transformation:(function(){var n=.5/(Math.PI*Ks.R);return Zt(n,.5,-n,.5)})()}),to=d({},_t,{code:"EPSG:4326",projection:Vs,transformation:Zt(1/180,1,-1/180,.5)}),ma=d({},St,{projection:Vs,transformation:Zt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var c=s.lng-n.lng,m=s.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});St.Earth=_t,St.EPSG3395=vl,St.EPSG3857=Ut,St.EPSG900913=Yt,St.EPSG4326=to,St.Simple=ma;var zn=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=y(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=y(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},_addLayers:function(n){n=n?Q(n)?n:[n]:[];for(var s=0,c=n.length;s<c;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=y(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),s=g.maxZoom===void 0?s:Math.max(s,g.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var pa=zn.extend({initialize:function(n,s){N(this,s),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),$u=function(n,s){return new pa(n,s)},Gn=pa.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),pa.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),pa.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new K;for(var s in this._layers){var c=this._layers[s];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),yl=function(n,s){return new Gn(n,s)},Vn=Dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){N(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,s){var c=this.options,m=c[s+"Size"];typeof m=="number"&&(m=[m,m]);var g=ct(m),S=ct(s==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(c.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return yt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function os(n){return new Vn(n)}var ls=Vn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ls.imagePath!="string"&&(ls.imagePath=this._detectIconPath()),(this.options.imagePath||ls.imagePath)+Vn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(c,m,g){var S=m.exec(c);return S&&S[g]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=It("div","leaflet-default-icon-path",document.body),s=Wa(n,"background-image")||Wa(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),us=In.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new bi(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&we(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,c=s._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=vi(s._icon),E=c.getPixelBounds(),U=c.getPixelOrigin(),I=j(E.min._subtract(U).add(g),E.max._subtract(U).subtract(g));if(!I.contains(S)){var tt=ct((Math.max(I.max.x,S.x)-I.max.x)/(E.max.x-I.max.x)-(Math.min(I.min.x,S.x)-I.min.x)/(E.min.x-I.min.x),(Math.max(I.max.y,S.y)-I.max.y)/(E.max.y-I.max.y)-(Math.min(I.min.y,S.y)-I.min.y)/(E.min.y-I.min.y)).multiplyBy(m);c.panBy(tt,{animate:!1}),this._draggable._newPos._add(tt),this._draggable._startPos._add(tt),me(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=ht(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ot(this._panRequest),this._panRequest=ht(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,c=s._shadow,m=vi(s._icon),g=s._map.layerPointToLatLng(m);c&&me(c,m),s._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ot(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),cs=zn.extend({options:{icon:new ls,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){N(this,s),this._latlng=lt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=lt(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),Nt(c,s),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(c,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(Nt(g,s),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(this._icon,"focus",this._panOnFocus,this),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&me(this._icon,n),this._shadow&&me(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),us)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new us(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ye(this._icon,n),this._shadow&&ye(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,c=s.iconSize?ct(s.iconSize):ct(0,0),m=s.iconAnchor?ct(s.iconAnchor):ct(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bl(n,s){return new cs(n,s)}var Kn=zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return N(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_a=Kn.extend({options:{fill:!0,radius:10},initialize:function(n,s){N(this,s),this._latlng=lt(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=lt(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Kn.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,c=this._clickTolerance(),m=[n+c,s+c];this._pxBounds=new x(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wl(n,s){return new _a(n,s)}var Ys=_a.extend({initialize:function(n,s,c){if(typeof s=="number"&&(s=d({},c,{radius:s})),N(this,s),this._latlng=lt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Kn.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===_t.distance){var g=Math.PI/180,S=this._mRadius/_t.R/g,E=c.project([s+S,n]),U=c.project([s-S,n]),I=E.add(U).divideBy(2),tt=c.unproject(I).lat,ft=Math.acos((Math.cos(S*g)-Math.sin(s*g)*Math.sin(tt*g))/(Math.cos(s*g)*Math.cos(tt*g)))/g;(isNaN(ft)||ft===0)&&(ft=S/Math.cos(Math.PI/180*s)),this._point=I.subtract(c.getPixelOrigin()),this._radius=isNaN(ft)?0:I.x-c.project([tt,n-ft]).x,this._radiusY=I.y-E.y}else{var wt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(wt).x}this._updateBounds()}});function Sl(n,s,c){return new Ys(n,s,c)}var si=Kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){N(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,c=null,m=rs,g,S,E=0,U=this._parts.length;E<U;E++)for(var I=this._parts[E],tt=1,ft=I.length;tt<ft;tt++){g=I[tt-1],S=I[tt];var wt=m(n,g,S,!0);wt<s&&(s=wt,c=m(n,g,S))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return da(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=lt(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new K,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],c=bn(n),m=0,g=n.length;m<g;m++)c?(s[m]=lt(n[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(n[m]);return s},_project:function(){var n=new x;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new F(n,n);this._rawPxBounds&&(this._pxBounds=new x([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,c){var m=n[0]instanceof st,g=n.length,S,E;if(m){for(E=[],S=0;S<g;S++)E[S]=this._map.latLngToLayerPoint(n[S]),c.extend(E[S]);s.push(E)}else for(S=0;S<g;S++)this._projectLatlngs(n[S],s,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,m,g,S,E,U,I;for(c=0,g=0,S=this._rings.length;c<S;c++)for(I=this._rings[c],m=0,E=I.length;m<E-1;m++)U=_l(I[m],I[m+1],n,m,!0),U&&(s[g]=s[g]||[],s[g].push(U[0]),(U[1]!==I[m+1]||m===E-2)&&(s[g].push(U[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=fl(n[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var c,m,g,S,E,U,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,S=this._parts.length;c<S;c++)for(U=this._parts[c],m=0,E=U.length,g=E-1;m<E;g=m++)if(!(!s&&m===0)&&dl(n,U[g],U[m])<=I)return!0;return!1}});function Xu(n,s){return new si(n,s)}si._flat=Gs;var ga=si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=si.prototype._convertLatLngs.call(this,n),c=s.length;return c>=2&&s[0]instanceof st&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(n){si.prototype._setLatLngs.call(this,n),bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,c=new F(s,s);if(n=new x(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,S;m<g;m++)S=cl(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,c,m,g,S,E,U,I,tt;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,I=this._parts.length;S<I;S++)for(c=this._parts[S],E=0,tt=c.length,U=tt-1;E<tt;U=E++)m=c[E],g=c[U],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(s=!s);return s||si.prototype._containsPoint.call(this,n,!0)}});function Ju(n,s){return new ga(n,s)}var ri=Gn.extend({initialize:function(n,s){N(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=Q(n)?n:n.features,c,m,g;if(s){for(c=0,m=s.length;c<m;c++)g=s[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var E=Ye(n,S);return E?(E.feature=Js(n),E.defaultOptions=E.options,this.resetStyle(E),S.onEachFeature&&S.onEachFeature(n,E),this.addLayer(E)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Ye(n,s){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,g=[],S=s&&s.pointToLayer,E=s&&s.coordsToLatLng||$s,U,I,tt,ft;if(!m&&!c)return null;switch(c.type){case"Point":return U=E(m),va(S,n,U,s);case"MultiPoint":for(tt=0,ft=m.length;tt<ft;tt++)U=E(m[tt]),g.push(va(S,n,U,s));return new Gn(g);case"LineString":case"MultiLineString":return I=hs(m,c.type==="LineString"?0:1,E),new si(I,s);case"Polygon":case"MultiPolygon":return I=hs(m,c.type==="Polygon"?1:2,E),new ga(I,s);case"GeometryCollection":for(tt=0,ft=c.geometries.length;tt<ft;tt++){var wt=Ye({geometry:c.geometries[tt],type:"Feature",properties:n.properties},s);wt&&g.push(wt)}return new Gn(g);case"FeatureCollection":for(tt=0,ft=c.features.length;tt<ft;tt++){var Pt=Ye(c.features[tt],s);Pt&&g.push(Pt)}return new Gn(g);default:throw new Error("Invalid GeoJSON object.")}}function va(n,s,c,m){return n?n(s,c):new cs(c,m&&m.markersInheritOptions&&m)}function $s(n){return new st(n[1],n[0],n[2])}function hs(n,s,c){for(var m=[],g=0,S=n.length,E;g<S;g++)E=s?hs(n[g],s-1,c):(c||$s)(n[g]),m.push(E);return m}function Xs(n,s){return n=lt(n),n.alt!==void 0?[M(n.lng,s),M(n.lat,s),M(n.alt,s)]:[M(n.lng,s),M(n.lat,s)]}function fs(n,s,c,m){for(var g=[],S=0,E=n.length;S<E;S++)g.push(s?fs(n[S],bn(n[S])?0:s-1,c,m):Xs(n[S],m));return!s&&c&&g.length>0&&g.push(g[0].slice()),g}function wi(n,s){return n.feature?d({},n.feature,{geometry:s}):Js(s)}function Js(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Si={toGeoJSON:function(n){return wi(this,{type:"Point",coordinates:Xs(this.getLatLng(),n)})}};cs.include(Si),Ys.include(Si),_a.include(Si),si.include({toGeoJSON:function(n){var s=!bn(this._latlngs),c=fs(this._latlngs,s?1:0,!1,n);return wi(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),ga.include({toGeoJSON:function(n){var s=!bn(this._latlngs),c=s&&!bn(this._latlngs[0]),m=fs(this._latlngs,c?2:s?1:0,!0,n);return s||(m=[m]),wi(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),pa.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(n).geometry.coordinates)}),wi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var c=s==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(n);if(c)m.push(S.geometry);else{var E=Js(S);E.type==="FeatureCollection"?m.push.apply(m,E.features):m.push(E)}}}),c?wi(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Qs(n,s){return new ri(n,s)}var ds=Qs,ya=zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,c){this._url=n,this._bounds=nt(s),N(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Ze(this._image),this},bringToBack:function(){return this._map&&Ui(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=nt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:It("img");if(Nt(s,"leaflet-image-layer"),this._zoomAnimated&&Nt(s,"leaflet-zoom-animated"),this.options.className&&Nt(s,this.options.className),s.onselectstart=R,s.onmousemove=R,s.onload=_(this.fire,this,"load"),s.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;ni(this._image,c,s)},_reset:function(){var n=this._image,s=new x(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();me(n,s.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Tl=function(n,s,c){return new ya(n,s,c)},Ti=ya.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:It("video");if(Nt(s,"leaflet-image-layer"),this._zoomAnimated&&Nt(s,"leaflet-zoom-animated"),this.options.className&&Nt(s,this.options.className),s.onselectstart=R,s.onmousemove=R,s.onloadeddata=_(this.fire,this,"load"),n){for(var c=s.getElementsByTagName("source"),m=[],g=0;g<c.length;g++)m.push(c[g].src);this._url=c.length>0?m:[s.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var E=It("source");E.src=this._url[S],s.appendChild(E)}}});function ba(n,s,c){return new Ti(n,s,c)}var Ws=ya.extend({_initImage:function(){var n=this._image=this._url;Nt(n,"leaflet-image-layer"),this._zoomAnimated&&Nt(n,"leaflet-zoom-animated"),this.options.className&&Nt(n,this.options.className),n.onselectstart=R,n.onmousemove=R}});function xl(n,s,c){return new Ws(n,s,c)}var $e=zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof st||Q(n))?(this._latlng=lt(n),N(this,s)):(N(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ye(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ye(this._container,0),this._removeTimeout=setTimeout(_(ce,void 0,this._container),200)):ce(this._container),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=lt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ze(this._container),this},bringToBack:function(){return this._map&&Ui(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof Gn){s=null;var c=this._source._layers;for(var m in c)if(c[m]._map){s=c[m];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=ct(this.options.offset),c=this._getAnchor();this._zoomAnimated?me(this._container,n.add(c)):s=s.add(n).add(c);var m=this._containerBottom=-s.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(n,s,c,m){var g=s;return g instanceof n||(g=new n(m).setContent(s)),c&&g.setLatLng(c),g}}),zn.include({_initOverlay:function(n,s,c,m){var g=c;return g instanceof n?(N(g,m),g._source=this):(g=s&&!m?s:new n(m,this),g.setContent(c)),g}});var ms=$e.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,$e.prototype.openOn.call(this,n)},onAdd:function(n){$e.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kn||this._source.on("preclick",Ln))},onRemove:function(n){$e.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kn||this._source.off("preclick",Ln))},getEvents:function(){var n=$e.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=It("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=It("div",n+"-content-wrapper",s);if(this._contentNode=It("div",n+"-content",c),Pi(s),Zn(this._contentNode),Lt(s,"contextmenu",Ln),this._tipContainer=It("div",n+"-tip-container",s),this._tip=It("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=It("a",n+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(m,"click",function(g){Ae(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var m=n.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&m>g?(s.height=g+"px",Nt(n,S)):we(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();me(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(Wa(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,m=this._containerWidth,g=new F(this._containerLeft,-c-this._containerBottom);g._add(vi(this._container));var S=n.layerPointToContainerPoint(g),E=ct(this.options.autoPanPadding),U=ct(this.options.autoPanPaddingTopLeft||E),I=ct(this.options.autoPanPaddingBottomRight||E),tt=n.getSize(),ft=0,wt=0;S.x+m+I.x>tt.x&&(ft=S.x+m-tt.x+I.x),S.x-ft-U.x<0&&(ft=S.x-U.x),S.y+c+I.y>tt.y&&(wt=S.y+c-tt.y+I.y),S.y-wt-U.y<0&&(wt=S.y-U.y),(ft||wt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ft,wt]))}},_getAnchor:function(){return ct(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),El=function(n,s){return new ms(n,s)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(n,s,c){return this._initOverlay(ms,n,s,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),zn.include({bindPopup:function(n,s){return this._popup=this._initOverlay(ms,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){yi(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ps=$e.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){$e.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){$e.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=$e.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=It("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,c,m=this._map,g=this._container,S=m.latLngToContainerPoint(m.getCenter()),E=m.layerPointToContainerPoint(n),U=this.options.direction,I=g.offsetWidth,tt=g.offsetHeight,ft=ct(this.options.offset),wt=this._getAnchor();U==="top"?(s=I/2,c=tt):U==="bottom"?(s=I/2,c=0):U==="center"?(s=I/2,c=tt/2):U==="right"?(s=0,c=tt/2):U==="left"?(s=I,c=tt/2):E.x<S.x?(U="right",s=0,c=tt/2):(U="left",s=I+(ft.x+wt.x)*2,c=tt/2),n=n.subtract(ct(s,c,!0)).add(ft).add(wt),we(g,"leaflet-tooltip-right"),we(g,"leaflet-tooltip-left"),we(g,"leaflet-tooltip-top"),we(g,"leaflet-tooltip-bottom"),Nt(g,"leaflet-tooltip-"+U),me(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ye(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return ct(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qu=function(n,s){return new ps(n,s)};$t.include({openTooltip:function(n,s,c){return this._initOverlay(ps,n,s,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),zn.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ps,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(Lt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Lt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var Al=Vn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(vn(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=ct(c.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Wu(n){return new Al(n)}Vn.Default=ls;var wa=zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){N(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ce(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ze(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof F?n:new F(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,c=-n(-1/0,1/0),m=0,g=s.length,S;m<g;m++)S=s[m].style.zIndex,s[m]!==this._container&&S&&(c=n(c,+S));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!yt.ielt9){ye(this._container,this.options.opacity);var n=+new Date,s=!1,c=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var S=Math.min(1,(n-g.loaded)/200);ye(g.el,S),S<1?s=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(ot(this._fadeFrame),this._fadeFrame=ht(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=It("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=s-Math.abs(n-c),this._onUpdateLevel(c)):(ce(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=It("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),R(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var n,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ce(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,c,m){var g=Math.floor(n/2),S=Math.floor(s/2),E=c-1,U=new F(+g,+S);U.z=+E;var I=this._tileCoordsToKey(U),tt=this._tiles[I];return tt&&tt.active?(tt.retain=!0,!0):(tt&&tt.loaded&&(tt.retain=!0),E>m?this._retainParent(g,S,E,m):!1)},_retainChildren:function(n,s,c,m){for(var g=2*n;g<2*n+2;g++)for(var S=2*s;S<2*s+2;S++){var E=new F(g,S);E.z=c+1;var U=this._tileCoordsToKey(E),I=this._tiles[U];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);c+1<m&&this._retainChildren(g,S,c+1,m)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,c,m){var g=Math.round(s);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,s)},_setZoomTransform:function(n,s,c){var m=this._map.getZoomScale(c,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,c)).round();yt.any3d?ni(n.el,g,m):me(n.el,g)},_resetGrid:function(){var n=this._map,s=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,s.wrapLng[1]],m).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([s.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(c,this._tileZoom),g=s.project(n,this._tileZoom).floor(),S=s.getSize().divideBy(m*2);return new x(g.subtract(S),g.add(S))},_update:function(n){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),S=g.getCenter(),E=[],U=this.options.keepBuffer,I=new x(g.getBottomLeft().subtract([U,-U]),g.getTopRight().add([U,-U]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tt in this._tiles){var ft=this._tiles[tt].coords;(ft.z!==this._tileZoom||!I.contains(new F(ft.x,ft.y)))&&(this._tiles[tt].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var wt=g.min.y;wt<=g.max.y;wt++)for(var Pt=g.min.x;Pt<=g.max.x;Pt++){var Ie=new F(Pt,wt);if(Ie.z=this._tileZoom,!!this._isValidTile(Ie)){var Oe=this._tiles[this._tileCoordsToKey(Ie)];Oe?Oe.current=!0:E.push(Ie)}}if(E.sort(function(te,ee){return te.distanceTo(S)-ee.distanceTo(S)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hn=document.createDocumentFragment();for(Pt=0;Pt<E.length;Pt++)this._addTile(E[Pt],hn);this._level.el.appendChild(hn)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!s.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return nt(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,c=this.getTileSize(),m=n.scaleBy(c),g=m.add(c),S=s.unproject(m,n.z),E=s.unproject(g,n.z);return[S,E]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),c=new K(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),c=new F(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(n){var s=this._tiles[n];s&&(ce(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Nt(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=R,n.onmousemove=R,yt.ielt9&&this.options.opacity<1&&ye(n,this.options.opacity)},_addTile:function(n,s){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),_(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&ht(_(this._tileReady,this,n,null,g)),me(g,c),this._tiles[m]={el:g,coords:n,current:!0},s.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(ye(c.el,0),ot(this._fadeFrame),this._fadeFrame=ht(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(Nt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),yt.ielt9||!this._map._fadeAnimated?ht(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new F(this._wrapX?A(n.x,this._wrapX):n.x,this._wrapY?A(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new x(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Ol(n){return new wa(n)}var xi=wa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=N(this,s),s.detectRetina&&yt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var c=document.createElement("img");return Lt(c,"load",_(this._tileOnLoad,this,s,c)),Lt(c,"error",_(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var s={r:yt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=c),s["-y"]=c}return at(this._url,d(s,this.options))},_tileOnLoad:function(n,s){yt.ielt9?setTimeout(_(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,c){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),n(c,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=s-n),n+m},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=R,s.onerror=R,!s.complete)){s.src=zt;var c=this._tiles[n].coords;ce(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",zt),wa.prototype._removeTile.call(this,n)},_tileReady:function(n,s,c){if(!(!this._map||c&&c.getAttribute("src")===zt))return wa.prototype._tileReady.call(this,n,s,c)}});function wn(n,s){return new xi(n,s)}var _s=xi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var c=d({},this.defaultWmsParams);for(var m in s)m in this.options||(c[m]=s[m]);s=N(this,s);var g=s.detectRetina&&yt.retina?2:1,S=this.getTileSize();c.width=S.x*g,c.height=S.y*g,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,xi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),c=this._crs,m=j(c.project(s[0]),c.project(s[1])),g=m.min,S=m.max,E=(this._wmsVersion>=1.3&&this._crs===to?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),U=xi.prototype.getTileUrl.call(this,n);return U+it(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(n,s){return d(this.wmsParams,n),s||this.redraw(),this}});function Sn(n,s){return new _s(n,s)}xi.WMS=_s,wn.wms=Sn;var an=zn.extend({options:{padding:.1},initialize:function(n){N(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var c=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,s),S=m.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(n,s));yt.any3d?ni(this._container,S,c):me(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new x(c,c.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fs=an.extend({options:{tolerance:0},getEvents:function(){var n=an.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Lt(n,"mousemove",this._onMouseMove,this),Lt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ot(this._redrawRequest),delete this._ctx,ce(this._container),re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,s=this._container,c=n.getSize(),m=yt.retina?2:1;me(s,n.min),s.width=m*c.x,s.height=m*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,c=s.next,m=s.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),c=[],m,g;for(g=0;g<s.length;g++){if(m=Number(s[g]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||ht(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new x,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var c,m,g,S,E=n._parts,U=E.length,I=this._ctx;if(U){for(I.beginPath(),c=0;c<U;c++){for(m=0,g=E[c].length;m<g;m++)S=E[c][m],I[m?"lineTo":"moveTo"](S.x,S.y);s&&I.closePath()}this._fillStroke(I,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(s.x,s.y/g,m,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,s){var c=s.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(we(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(s)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,c){this._map._fireDOMEvent(s,c||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function gs(n){return yt.canvas?new Fs(n):null}var Ei=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),eo={_initContainer:function(){this._container=It("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Ei("shape");Nt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Ei("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;ce(s),n.removeInteractiveTarget(s),delete this._layers[y(n)]},_updateStyle:function(n){var s=n._stroke,c=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(s||(s=n._stroke=Ei("stroke")),g.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=Q(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(g.removeChild(s),n._stroke=null),m.fill?(c||(c=n._fill=Ei("fill")),g.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(g.removeChild(c),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Ze(n._container)},_bringToBack:function(n){Ui(n._container)}},Yn=yt.vml?Ei:Wt,Sa=an.extend({_initContainer:function(){this._container=Yn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,s=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),me(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Yn("path");n.options.className&&Nt(s,n.options.className),n.options.interactive&&Nt(s,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ce(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,c=n.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,Mt(n._parts,s))},_updateCircle:function(n){var s=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,g="a"+c+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(s.x-c)+","+s.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(n,S)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Ze(n._path)},_bringToBack:function(n){Ui(n._path)}});yt.vml&&Sa.include(eo);function vs(n){return yt.svg||yt.vml?new Sa(n):null}$t.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&gs(n)||vs(n)}});var qi=ga.extend({initialize:function(n,s){ga.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=nt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Fu(n,s){return new qi(n,s)}Sa.create=Yn,Sa.pointsToPath=Mt,ri.geometryToLayer=Ye,ri.coordsToLatLng=$s,ri.coordsToLatLngs=hs,ri.latLngToCoords=Xs,ri.latLngsToCoords=fs,ri.getFeature=wi,ri.asFeature=Js,$t.mergeOptions({boxZoom:!0});var sn=In.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),la(),Ps(),this._startPoint=this._map.mouseEventToContainerPoint(n),Lt(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=It("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new x(this._point,this._startPoint),c=s.getSize();me(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ce(this._box),we(this._container,"leaflet-crosshair")),qn(),ts(),re(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var s=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",sn),$t.mergeOptions({doubleClickZoom:!0});var tr=In.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,c=s.getZoom(),m=s.options.zoomDelta,g=n.originalEvent.shiftKey?c-m:c+m;s.options.doubleClickZoom==="center"?s.setZoom(g):s.setZoomAround(n.containerPoint,g)}});$t.addInitHook("addHandler","doubleClickZoom",tr),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $n=In.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new bi(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){we(this._map._container,"leaflet-grab"),we(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=nt(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-s+c)%n+s-c,S=(m+s+c)%n-s-c,E=Math.abs(g+c)<Math.abs(S+c)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(n){var s=this._map,c=s.options,m=!c.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),m)s.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,E=c.easeLinearity,U=g.multiplyBy(E/S),I=U.distanceTo([0,0]),tt=Math.min(c.inertiaMaxSpeed,I),ft=U.multiplyBy(tt/I),wt=tt/(c.inertiaDeceleration*E),Pt=ft.multiplyBy(-wt/2).round();!Pt.x&&!Pt.y?s.fire("moveend"):(Pt=s._limitOffset(Pt,s.options.maxBounds),ht(function(){s.panBy(Pt,{duration:wt,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",$n),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var no=In.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Lt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,c=n.scrollTop||s.scrollTop,m=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},c=this.keyCodes,m,g;for(m=0,g=c.left.length;m<g;m++)s[c.left[m]]=[-1*n,0];for(m=0,g=c.right.length;m<g;m++)s[c.right[m]]=[n,0];for(m=0,g=c.down.length;m<g;m++)s[c.down[m]]=[0,n];for(m=0,g=c.up.length;m<g;m++)s[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},c=this.keyCodes,m,g;for(m=0,g=c.zoomIn.length;m<g;m++)s[c.zoomIn[m]]=n;for(m=0,g=c.zoomOut.length;m<g;m++)s[c.zoomOut[m]]=-n},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,c=this._map,m;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[s],n.shiftKey&&(m=ct(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(ct(m),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(g)}else c.panBy(m)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;yi(n)}}});$t.addInitHook("addHandler","keyboard",no),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ys=In.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Qe(n),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),yi(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=c?Math.ceil(g/c)*c:g,E=n._limitZoom(s+(this._delta>0?S:-S))-s;this._delta=0,this._startTime=null,E&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+E):n.setZoomAround(this._lastMousePos,s+E))}});$t.addInitHook("addHandler","scrollWheelZoom",ys);var Zi=600;$t.mergeOptions({tapHold:yt.touchNative&&yt.safari&&yt.mobile,tapTolerance:15});var er=In.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new F(s.clientX,s.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",Ae),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Zi),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){re(document,"touchend",Ae),re(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new F(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});$t.addInitHook("addHandler","tapHold",er),$t.mergeOptions({touchZoom:yt.touch,bounceAtZoomLimits:!0});var io=In.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){we(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),Ae(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]),g=c.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(g,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&g<1||this._zoom>s.getMaxZoom()&&g>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ot(this._animRequest);var E=_(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ht(E,this,!0),Ae(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ot(this._animRequest),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",io),$t.BoxZoom=sn,$t.DoubleClickZoom=tr,$t.Drag=$n,$t.Keyboard=no,$t.ScrollWheelZoom=ys,$t.TapHold=er,$t.TouchZoom=io,o.Bounds=x,o.Browser=yt,o.CRS=St,o.Canvas=Fs,o.Circle=Ys,o.CircleMarker=_a,o.Class=Dt,o.Control=cn,o.DivIcon=Al,o.DivOverlay=$e,o.DomEvent=Zs,o.DomUtil=ha,o.Draggable=bi,o.Evented=X,o.FeatureGroup=Gn,o.GeoJSON=ri,o.GridLayer=wa,o.Handler=In,o.Icon=Vn,o.ImageOverlay=ya,o.LatLng=st,o.LatLngBounds=K,o.Layer=zn,o.LayerGroup=pa,o.LineUtil=Yu,o.Map=$t,o.Marker=cs,o.Mixin=Iu,o.Path=Kn,o.Point=F,o.PolyUtil=Wr,o.Polygon=ga,o.Polyline=si,o.Popup=ms,o.PosAnimation=fa,o.Projection=gl,o.Rectangle=qi,o.Renderer=an,o.SVG=Sa,o.SVGOverlay=Ws,o.TileLayer=xi,o.Tooltip=ps,o.Transformation=kt,o.Util=At,o.VideoOverlay=Ti,o.bind=_,o.bounds=j,o.canvas=gs,o.circle=Sl,o.circleMarker=wl,o.control=ai,o.divIcon=Wu,o.extend=d,o.featureGroup=yl,o.geoJSON=Qs,o.geoJson=ds,o.gridLayer=Ol,o.icon=os,o.imageOverlay=Tl,o.latLng=lt,o.latLngBounds=nt,o.layerGroup=$u,o.map=Kr,o.marker=bl,o.point=ct,o.polygon=Ju,o.polyline=Xu,o.popup=El,o.rectangle=Fu,o.setOptions=N,o.stamp=y,o.svg=vs,o.svgOverlay=xl,o.tileLayer=wn,o.tooltip=Qu,o.transformation=Zt,o.version=u,o.videoOverlay=ba;var ao=window.L;o.noConflict=function(){return window.L=ao,this},window.L=o}))})(Ho,Ho.exports)),Ho.exports}var Jo=sv();const i_=sf(Jo);function cf(l,a,o){return Object.freeze({instance:l,context:a,container:o})}function hf(l,a){return a==null?function(u,d){const p=Et.useRef(void 0);return p.current||(p.current=l(u,d)),p}:function(u,d){const p=Et.useRef(void 0);p.current||(p.current=l(u,d));const _=Et.useRef(u),{instance:w}=p.current;return Et.useEffect(function(){_.current!==u&&(a(w,u,_.current),_.current=u)},[w,u,a]),p}}function rv(l,a){Et.useEffect(function(){return(a.layerContainer??a.map).addLayer(l.instance),function(){a.layerContainer?.removeLayer(l.instance),a.map.removeLayer(l.instance)}},[a,l])}function a_(l){return function(o){const u=lf(),d=l(uf(o,u),u);return e_(u.map,o.attribution),n_(d.current,o.eventHandlers),rv(d.current,u),d}}function ov(l,a){const o=hf(l,a),u=a_(o);return tv(u)}function lv(l,a){const o=hf(l),u=iv(o,a);return ev(u)}function uv(l,a){const o=hf(l,a),u=a_(o);return nv(u)}function cv(l,a,o){const{opacity:u,zIndex:d}=a;u!=null&&u!==o.opacity&&l.setOpacity(u),d!=null&&d!==o.zIndex&&l.setZIndex(d)}function s_(){return lf().map}function hv({bounds:l,boundsOptions:a,center:o,children:u,className:d,id:p,placeholder:_,style:w,whenReady:y,zoom:b,...A},R){const[M]=Et.useState({className:d,id:p,style:w}),[P,Z]=Et.useState(null),N=Et.useRef(void 0);Et.useImperativeHandle(R,()=>P?.map??null,[P]);const it=Et.useCallback(at=>{if(at!==null&&!N.current){const Q=new Jo.Map(at,A);N.current=Q,o!=null&&b!=null?Q.setView(o,b):l!=null&&Q.fitBounds(l,a),y!=null&&Q.whenReady(y),Z(Wg(Q))}},[]);Et.useEffect(()=>()=>{P?.map.remove()},[P]);const ut=P?Li.createElement(of,{value:P},u):_??null;return Li.createElement("div",{...M,ref:it},ut)}const fv=Et.forwardRef(hv),dv=ov(function({position:a,...o},u){const d=new Jo.Marker(a,o);return cf(d,Fg(u,{overlayContainer:d}))},function(a,o,u){o.position!==u.position&&a.setLatLng(o.position),o.icon!=null&&o.icon!==u.icon&&a.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==u.zIndexOffset&&a.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==u.opacity&&a.setOpacity(o.opacity),a.dragging!=null&&o.draggable!==u.draggable&&(o.draggable===!0?a.dragging.enable():a.dragging.disable())}),mv=lv(function(a,o){const u=new Jo.Popup(a,o.overlayContainer);return cf(u,o)},function(a,o,{position:u},d){Et.useEffect(function(){const{instance:_}=a;function w(b){b.popup===_&&(_.update(),d(!0))}function y(b){b.popup===_&&d(!1)}return o.map.on({popupopen:w,popupclose:y}),o.overlayContainer==null?(u!=null&&_.setLatLng(u),_.openOn(o.map)):o.overlayContainer.bindPopup(_),function(){o.map.off({popupopen:w,popupclose:y}),o.overlayContainer?.unbindPopup(),o.map.removeLayer(_)}},[a,o,d,u])}),Sp=uv(function({url:a,...o},u){const d=new Jo.TileLayer(a,uf(o,u));return cf(d,u)},function(a,o,u){cv(a,o,u);const{url:d}=o;d!=null&&d!==u.url&&a.setUrl(d)}),Tp=l=>{let a;const o=new Set,u=(b,A)=>{const R=typeof b=="function"?b(a):b;if(!Object.is(R,a)){const M=a;a=A??(typeof R!="object"||R===null)?R:Object.assign({},a,R),o.forEach(P=>P(a,M))}},d=()=>a,w={setState:u,getState:d,getInitialState:()=>y,subscribe:b=>(o.add(b),()=>o.delete(b))},y=a=l(u,d,w);return w},pv=(l=>l?Tp(l):Tp),_v=l=>l;function gv(l,a=_v){const o=Li.useSyncExternalStore(l.subscribe,Li.useCallback(()=>a(l.getState()),[l,a]),Li.useCallback(()=>a(l.getInitialState()),[l,a]));return Li.useDebugValue(o),o}const vv=l=>{const a=pv(l),o=u=>gv(a,u);return Object.assign(o,a),o},yv=(l=>vv);function bv(l,a){let o;try{o=l()}catch{return}return{getItem:d=>{var p;const _=y=>y===null?null:JSON.parse(y,void 0),w=(p=o.getItem(d))!=null?p:null;return w instanceof Promise?w.then(_):_(w)},setItem:(d,p)=>o.setItem(d,JSON.stringify(p,void 0)),removeItem:d=>o.removeItem(d)}}const Kh=l=>a=>{try{const o=l(a);return o instanceof Promise?o:{then(u){return Kh(u)(o)},catch(u){return this}}}catch(o){return{then(u){return this},catch(u){return Kh(u)(o)}}}},wv=(l,a)=>(o,u,d)=>{let p={storage:bv(()=>localStorage),partialize:N=>N,version:0,merge:(N,it)=>({...it,...N}),...a},_=!1;const w=new Set,y=new Set;let b=p.storage;if(!b)return l((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${p.name}', the given storage is currently unavailable.`),o(...N)},u,d);const A=()=>{const N=p.partialize({...u()});return b.setItem(p.name,{state:N,version:p.version})},R=d.setState;d.setState=(N,it)=>(R(N,it),A());const M=l((...N)=>(o(...N),A()),u,d);d.getInitialState=()=>M;let P;const Z=()=>{var N,it;if(!b)return;_=!1,w.forEach(at=>{var Q;return at((Q=u())!=null?Q:M)});const ut=((it=p.onRehydrateStorage)==null?void 0:it.call(p,(N=u())!=null?N:M))||void 0;return Kh(b.getItem.bind(b))(p.name).then(at=>{if(at)if(typeof at.version=="number"&&at.version!==p.version){if(p.migrate){const Q=p.migrate(at.state,at.version);return Q instanceof Promise?Q.then(mt=>[!0,mt]):[!0,Q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,at.state];return[!1,void 0]}).then(at=>{var Q;const[mt,zt]=at;if(P=p.merge(zt,(Q=u())!=null?Q:M),o(P,!0),mt)return A()}).then(()=>{ut?.(P,void 0),P=u(),_=!0,y.forEach(at=>at(P))}).catch(at=>{ut?.(void 0,at)})};return d.persist={setOptions:N=>{p={...p,...N},N.storage&&(b=N.storage)},clearStorage:()=>{b?.removeItem(p.name)},getOptions:()=>p,rehydrate:()=>Z(),hasHydrated:()=>_,onHydrate:N=>(w.add(N),()=>{w.delete(N)}),onFinishHydration:N=>(y.add(N),()=>{y.delete(N)})},p.skipHydration||Z(),P||M},Sv=wv;function zu(l,a){var o={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&a.indexOf(u)<0&&(o[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(l);d<u.length;d++)a.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(l,u[d])&&(o[u[d]]=l[u[d]]);return o}function Tv(l,a,o,u){function d(p){return p instanceof o?p:new o(function(_){_(p)})}return new(o||(o=Promise))(function(p,_){function w(A){try{b(u.next(A))}catch(R){_(R)}}function y(A){try{b(u.throw(A))}catch(R){_(R)}}function b(A){A.done?p(A.value):d(A.value).then(w,y)}b((u=u.apply(l,a||[])).next())})}const xv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class ff extends Error{constructor(a,o="FunctionsError",u){super(a),this.name=o,this.context=u}}class Ev extends ff{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class xp extends ff{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Ep extends ff{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Yh;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Yh||(Yh={}));class Av{constructor(a,{headers:o={},customFetch:u,region:d=Yh.Any}={}){this.url=a,this.headers=o,this.region=d,this.fetch=xv(u)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Tv(this,arguments,void 0,function*(o,u={}){var d;let p,_;try{const{headers:w,method:y,body:b,signal:A,timeout:R}=u;let M={},{region:P}=u;P||(P=this.region);const Z=new URL(`${this.url}/${o}`);P&&P!=="any"&&(M["x-region"]=P,Z.searchParams.set("forceFunctionRegion",P));let N;b&&(w&&!Object.prototype.hasOwnProperty.call(w,"Content-Type")||!w)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(M["Content-Type"]="application/octet-stream",N=b):typeof b=="string"?(M["Content-Type"]="text/plain",N=b):typeof FormData<"u"&&b instanceof FormData?N=b:(M["Content-Type"]="application/json",N=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?N=JSON.stringify(b):N=b;let it=A;R&&(_=new AbortController,p=setTimeout(()=>_.abort(),R),A?(it=_.signal,A.addEventListener("abort",()=>_.abort())):it=_.signal);const ut=yield this.fetch(Z.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},M),this.headers),w),body:N,signal:it}).catch(zt=>{throw new Ev(zt)}),at=ut.headers.get("x-relay-error");if(at&&at==="true")throw new xp(ut);if(!ut.ok)throw new Ep(ut);let Q=((d=ut.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),mt;return Q==="application/json"?mt=yield ut.json():Q==="application/octet-stream"||Q==="application/pdf"?mt=yield ut.blob():Q==="text/event-stream"?mt=ut:Q==="multipart/form-data"?mt=yield ut.formData():mt=yield ut.text(),{data:mt,error:null,response:ut}}catch(w){return{data:null,error:w,response:w instanceof Ep||w instanceof xp?w.context:void 0}}finally{p&&clearTimeout(p)}})}}var Ov=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Cv=class{constructor(l){var a,o;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(o=l.isMaybeSingle)!==null&&o!==void 0?o:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var o=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{let _=null,w=null,y=null,b=p.status,A=p.statusText;if(p.ok){var R,M;if(o.method!=="HEAD"){var P;const ut=await p.text();ut===""||(o.headers.get("Accept")==="text/csv"||o.headers.get("Accept")&&(!((P=o.headers.get("Accept"))===null||P===void 0)&&P.includes("application/vnd.pgrst.plan+text"))?w=ut:w=JSON.parse(ut))}const N=(R=o.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),it=(M=p.headers.get("content-range"))===null||M===void 0?void 0:M.split("/");N&&it&&it.length>1&&(y=parseInt(it[1])),o.isMaybeSingle&&o.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,b=406,A="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{var Z;const N=await p.text();try{_=JSON.parse(N),Array.isArray(_)&&p.status===404&&(w=[],_=null,b=200,A="OK")}catch{p.status===404&&N===""?(b=204,A="No Content"):_={message:N}}if(_&&o.isMaybeSingle&&(!(_==null||(Z=_.details)===null||Z===void 0)&&Z.includes("0 rows"))&&(_=null,b=200,A="OK"),_&&o.shouldThrowOnError)throw new Ov(_)}return{error:_,data:w,count:y,status:b,statusText:A}});return this.shouldThrowOnError||(d=d.catch(p=>{var _;let w="";const y=p?.cause;if(y){var b,A,R,M;const Z=(b=y?.message)!==null&&b!==void 0?b:"",N=(A=y?.code)!==null&&A!==void 0?A:"";w=`${(R=p?.name)!==null&&R!==void 0?R:"FetchError"}: ${p?.message}`,w+=`

Caused by: ${(M=y?.name)!==null&&M!==void 0?M:"Error"}: ${Z}`,N&&(w+=` (${N})`),y?.stack&&(w+=`
${y.stack}`)}else{var P;w=(P=p?.stack)!==null&&P!==void 0?P:""}return{error:{message:`${(_=p?.name)!==null&&_!==void 0?_:"FetchError"}: ${p?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}},Rv=class extends Cv{select(l){let a=!1;const o=(l??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:d=u}={}){const p=d?`${d}.order`:"order",_=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${_?`${_},`:""}${l}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${l}`),this}range(l,a,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${l}`),this.url.searchParams.set(p,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:d=!1,format:p="text"}={}){var _;const w=[l?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${y}"; options=${w};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const Ap=new RegExp("[,()]");var kr=class extends Rv{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&Ap.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`in.(${o})`),this}notIn(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&Ap.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`not.in.(${o})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:o,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const p=o===void 0?"":`(${o})`;return this.url.searchParams.append(l,`${d}fts${p}.${a}`),this}match(l){return Object.entries(l).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(l,a,o){return this.url.searchParams.append(l,`not.${a}.${o}`),this}or(l,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${l})`),this}filter(l,a,o){return this.url.searchParams.append(l,`${a}.${o}`),this}},kv=class{constructor(l,{headers:a={},schema:o,fetch:u}){this.url=l,this.headers=new Headers(a),this.schema=o,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,a){const{head:o=!1,count:u}=a??{},d=o?"HEAD":"GET";let p=!1;const _=(l??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join(""),{url:w,headers:y}=this.cloneRequestState();return w.searchParams.set("select",_),u&&y.append("Prefer",`count=${u}`),new kr({method:d,url:w,headers:y,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:o=!0}={}){var u;const d="POST",{url:p,headers:_}=this.cloneRequestState();if(a&&_.append("Prefer",`count=${a}`),o||_.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(w.length>0){const y=[...new Set(w)].map(b=>`"${b}"`);p.searchParams.set("columns",y.join(","))}}return new kr({method:d,url:p,headers:_,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:d=!0}={}){var p;const _="POST",{url:w,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&w.searchParams.set("on_conflict",a),u&&y.append("Prefer",`count=${u}`),d||y.append("Prefer","missing=default"),Array.isArray(l)){const b=l.reduce((A,R)=>A.concat(Object.keys(R)),[]);if(b.length>0){const A=[...new Set(b)].map(R=>`"${R}"`);w.searchParams.set("columns",A.join(","))}}return new kr({method:_,url:w,headers:y,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:a}={}){var o;const u="PATCH",{url:d,headers:p}=this.cloneRequestState();return a&&p.append("Prefer",`count=${a}`),new kr({method:u,url:d,headers:p,schema:this.schema,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:l}={}){var a;const o="DELETE",{url:u,headers:d}=this.cloneRequestState();return l&&d.append("Prefer",`count=${l}`),new kr({method:o,url:u,headers:d,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Lv=class r_{constructor(a,{headers:o={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r_(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:d=!1,count:p}={}){var _;let w;const y=new URL(`${this.url}/rpc/${a}`);let b;const A=P=>P!==null&&typeof P=="object"&&(!Array.isArray(P)||P.some(A)),R=u&&Object.values(o).some(A);R?(w="POST",b=o):u||d?(w=u?"HEAD":"GET",Object.entries(o).filter(([P,Z])=>Z!==void 0).map(([P,Z])=>[P,Array.isArray(Z)?`{${Z.join(",")}}`:`${Z}`]).forEach(([P,Z])=>{y.searchParams.append(P,Z)})):(w="POST",b=o);const M=new Headers(this.headers);return R?M.set("Prefer",p?`count=${p},return=minimal`:"return=minimal"):p&&M.set("Prefer",`count=${p}`),new kr({method:w,url:y,headers:M,schema:this.schemaName,body:b,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}};class zv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const o=globalThis.process;if(o){const u=o.versions;if(u&&u.node){const d=u.node,p=parseInt(d.replace(/^v/,"").split(".")[0]);return p>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${p} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${p} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`

Suggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){const u=this.getWebSocketConstructor();return new u(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Mv="2.90.1",Nv=`realtime-js/${Mv}`,o_="1.0.0",jv="2.0.0",Op=o_,$h=1e4,Dv=1e3,Uv=100;var Za;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Za||(Za={}));var Ve;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Ve||(Ve={}));var di;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(di||(di={}));var Xh;(function(l){l.websocket="websocket"})(Xh||(Xh={}));var Ns;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Ns||(Ns={}));class Bv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return o(this._binaryEncodeUserBroadcastPush(a));let u=[a.join_ref,a.ref,a.topic,a.event,a.payload];return o(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer((o=a.payload)===null||o===void 0?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,u;const d=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var o,u;const d=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:{},_=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,_)}_encodeUserBroadcastPush(a,o,u){var d,p;const _=a.topic,w=(d=a.ref)!==null&&d!==void 0?d:"",y=(p=a.join_ref)!==null&&p!==void 0?p:"",b=a.payload.event,A=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},R=Object.keys(A).length===0?"":JSON.stringify(A);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`ref length ${w.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`topic length ${_.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const M=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+w.length+_.length+b.length+R.length,P=new ArrayBuffer(this.HEADER_LENGTH+M);let Z=new DataView(P),N=0;Z.setUint8(N++,this.KINDS.userBroadcastPush),Z.setUint8(N++,y.length),Z.setUint8(N++,w.length),Z.setUint8(N++,_.length),Z.setUint8(N++,b.length),Z.setUint8(N++,R.length),Z.setUint8(N++,o),Array.from(y,ut=>Z.setUint8(N++,ut.charCodeAt(0))),Array.from(w,ut=>Z.setUint8(N++,ut.charCodeAt(0))),Array.from(_,ut=>Z.setUint8(N++,ut.charCodeAt(0))),Array.from(b,ut=>Z.setUint8(N++,ut.charCodeAt(0))),Array.from(R,ut=>Z.setUint8(N++,ut.charCodeAt(0)));var it=new Uint8Array(P.byteLength+u.byteLength);return it.set(new Uint8Array(P),0),it.set(new Uint8Array(u),P.byteLength),it.buffer}decode(a,o){if(this._isArrayBuffer(a)){let u=this._binaryDecode(a);return o(u)}if(typeof a=="string"){const u=JSON.parse(a),[d,p,_,w,y]=u;return o({join_ref:d,ref:p,topic:_,event:w,payload:y})}return o({})}_binaryDecode(a){const o=new DataView(a),u=o.getUint8(0),d=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,o,d)}_decodeUserBroadcast(a,o,u){const d=o.getUint8(1),p=o.getUint8(2),_=o.getUint8(3),w=o.getUint8(4);let y=this.HEADER_LENGTH+4;const b=u.decode(a.slice(y,y+d));y=y+d;const A=u.decode(a.slice(y,y+p));y=y+p;const R=u.decode(a.slice(y,y+_));y=y+_;const M=a.slice(y,a.byteLength),P=w===this.JSON_ENCODING?JSON.parse(u.decode(M)):M,Z={type:this.BROADCAST_EVENT,event:A,payload:P};return _>0&&(Z.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:Z}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||((o=a?.constructor)===null||o===void 0?void 0:o.name)==="ArrayBuffer"}_pick(a,o){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([u])=>o.includes(u)))}}class l_{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ge||(ge={}));const Cp=(l,a,o={})=>{var u;const d=(u=o.skipTypes)!==null&&u!==void 0?u:[];return a?Object.keys(a).reduce((p,_)=>(p[_]=Pv(_,l,a,d),p),{}):{}},Pv=(l,a,o,u)=>{const d=a.find(w=>w.name===l),p=d?.type,_=o[l];return p&&!u.includes(p)?u_(p,_):Jh(_)},u_=(l,a)=>{if(l.charAt(0)==="_"){const o=l.slice(1,l.length);return Iv(a,o)}switch(l){case ge.bool:return Hv(a);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return qv(a);case ge.json:case ge.jsonb:return Zv(a);case ge.timestamp:return Gv(a);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Jh(a);default:return Jh(a)}},Jh=l=>l,Hv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},qv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Zv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},Iv=(l,a)=>{if(typeof l!="string")return l;const o=l.length-1,u=l[o];if(l[0]==="{"&&u==="}"){let p;const _=l.slice(1,o);try{p=JSON.parse("["+_+"]")}catch{p=_?_.split(","):[]}return p.map(w=>u_(a,w))}return l},Gv=l=>typeof l=="string"?l.replace(" ","T"):l,c_=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Dh{constructor(a,o,u={},d=$h){this.channel=a,this.event=o,this.payload=u,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var u;return this._hasReceived(a)&&o((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Rp;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Rp||(Rp={}));class Zo{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},d=>{const{onJoin:p,onLeave:_,onSync:w}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zo.syncState(this.state,d,p,_),this.pendingDiffs.forEach(y=>{this.state=Zo.syncDiff(this.state,y,p,_)}),this.pendingDiffs=[],w()}),this.channel._on(u.diff,{},d=>{const{onJoin:p,onLeave:_,onSync:w}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Zo.syncDiff(this.state,d,p,_),w())}),this.onJoin((d,p,_)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:p,newPresences:_})}),this.onLeave((d,p,_)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:p,leftPresences:_})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,u,d){const p=this.cloneDeep(a),_=this.transformState(o),w={},y={};return this.map(p,(b,A)=>{_[b]||(y[b]=A)}),this.map(_,(b,A)=>{const R=p[b];if(R){const M=A.map(it=>it.presence_ref),P=R.map(it=>it.presence_ref),Z=A.filter(it=>P.indexOf(it.presence_ref)<0),N=R.filter(it=>M.indexOf(it.presence_ref)<0);Z.length>0&&(w[b]=Z),N.length>0&&(y[b]=N)}else w[b]=A}),this.syncDiff(p,{joins:w,leaves:y},u,d)}static syncDiff(a,o,u,d){const{joins:p,leaves:_}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return u||(u=()=>{}),d||(d=()=>{}),this.map(p,(w,y)=>{var b;const A=(b=a[w])!==null&&b!==void 0?b:[];if(a[w]=this.cloneDeep(y),A.length>0){const R=a[w].map(P=>P.presence_ref),M=A.filter(P=>R.indexOf(P.presence_ref)<0);a[w].unshift(...M)}u(w,A,y)}),this.map(_,(w,y)=>{let b=a[w];if(!b)return;const A=y.map(R=>R.presence_ref);b=b.filter(R=>A.indexOf(R.presence_ref)<0),a[w]=b,d(w,b,y),b.length===0&&delete a[w]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(u=>o(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,u)=>{const d=a[u];return"metas"in d?o[u]=d.metas.map(p=>(p.presence_ref=p.phx_ref,delete p.phx_ref,delete p.phx_ref_prev,p)):o[u]=d,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kp;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(kp||(kp={}));var Io;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Io||(Io={}));var na;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(na||(na={}));class Mr{constructor(a,o={config:{}},u){var d,p;if(this.topic=a,this.params=o,this.socket=u,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Dh(this,di.join,this.params,this.timeout),this.rejoinTimer=new l_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(_=>_.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(_=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,_),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",_=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,_),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(di.reply,{},(_,w)=>{this._trigger(this._replyEventName(w),_)}),this.presence=new Zo(this),this.broadcastEndpointURL=c_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((p=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var u,d,p;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:_,presence:w,private:y}}=this.params,b=(d=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(P=>P.filter))!==null&&d!==void 0?d:[],A=!!this.bindings[Io.PRESENCE]&&this.bindings[Io.PRESENCE].length>0||((p=this.params.config.presence)===null||p===void 0?void 0:p.enabled)===!0,R={},M={broadcast:_,presence:Object.assign(Object.assign({},w),{enabled:A}),postgres_changes:b,private:y};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(P=>a?.(na.CHANNEL_ERROR,P)),this._onClose(()=>a?.(na.CLOSED)),this.updateJoinPayload(Object.assign({config:M},R)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:P})=>{var Z;if(this.socket._isManualToken()||this.socket.setAuth(),P===void 0){a?.(na.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,it=(Z=N?.length)!==null&&Z!==void 0?Z:0,ut=[];for(let at=0;at<it;at++){const Q=N[at],{filter:{event:mt,schema:zt,table:gt,filter:rt}}=Q,z=P&&P[at];if(z&&z.event===mt&&Mr.isFilterValueEqual(z.schema,zt)&&Mr.isFilterValueEqual(z.table,gt)&&Mr.isFilterValueEqual(z.filter,rt))ut.push(Object.assign(Object.assign({},Q),{id:z.id}));else{this.unsubscribe(),this.state=Ve.errored,a?.(na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ut,a&&a(na.SUBSCRIBED);return}}).receive("error",P=>{this.state=Ve.errored,a?.(na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{a?.(na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,o={}){return await this.send({type:"presence",event:"track",payload:a},o.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,o,u){return this.state===Ve.joined&&a===Io.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,o,u)}async httpSend(a,o,u={}){var d;if(o==null)return Promise.reject("Payload is required for httpSend()");const p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const _={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})},w=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(d=u.timeout)!==null&&d!==void 0?d:this.timeout);if(w.status===202)return{success:!0};let y=w.statusText;try{const b=await w.json();y=b.error||b.message||y}catch{}return Promise.reject(new Error(y))}async send(a,o={}){var u,d;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:p,payload:_}=a,w={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(w.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:w,body:JSON.stringify({messages:[{topic:this.subTopic,event:p,payload:_,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);return await((d=b.body)===null||d===void 0?void 0:d.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(p=>{var _,w,y;const b=this._push(a.type,a,o.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(w=(_=this.params)===null||_===void 0?void 0:_.config)===null||w===void 0?void 0:w.broadcast)===null||y===void 0)&&y.ack)&&p("ok"),b.receive("ok",()=>p("ok")),b.receive("error",()=>p("error")),b.receive("timeout",()=>p("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ve.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(di.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(d=>{u=new Dh(this,di.leave,{},a),u.receive("ok",()=>{o(),d("ok")}).receive("timeout",()=>{o(),d("timed out")}).receive("error",()=>{d("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(a,o,u){const d=new AbortController,p=setTimeout(()=>d.abort(),u),_=await this.socket.fetch(a,Object.assign(Object.assign({},o),{signal:d.signal}));return clearTimeout(p),_}_push(a,o,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Dh(this,a,o,u);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Uv){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,u){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,u){var d,p;const _=a.toLocaleLowerCase(),{close:w,error:y,leave:b,join:A}=di;if(u&&[w,y,b,A].indexOf(_)>=0&&u!==this._joinRef())return;let M=this._onMessage(_,o,u);if(o&&!M)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(_)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(P=>{var Z,N,it;return((Z=P.filter)===null||Z===void 0?void 0:Z.event)==="*"||((it=(N=P.filter)===null||N===void 0?void 0:N.event)===null||it===void 0?void 0:it.toLocaleLowerCase())===_}).map(P=>P.callback(M,u)):(p=this.bindings[_])===null||p===void 0||p.filter(P=>{var Z,N,it,ut,at,Q,mt,zt;if(["broadcast","presence","postgres_changes"].includes(_))if("id"in P){const gt=P.id,rt=(Z=P.filter)===null||Z===void 0?void 0:Z.event;return gt&&((N=o.ids)===null||N===void 0?void 0:N.includes(gt))&&(rt==="*"||rt?.toLocaleLowerCase()===((it=o.data)===null||it===void 0?void 0:it.type.toLocaleLowerCase()))&&(!(!((ut=P.filter)===null||ut===void 0)&&ut.table)||P.filter.table===((at=o.data)===null||at===void 0?void 0:at.table))}else{const gt=(mt=(Q=P?.filter)===null||Q===void 0?void 0:Q.event)===null||mt===void 0?void 0:mt.toLocaleLowerCase();return gt==="*"||gt===((zt=o?.event)===null||zt===void 0?void 0:zt.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===_}).map(P=>{if(typeof M=="object"&&"ids"in M){const Z=M.data,{schema:N,table:it,commit_timestamp:ut,type:at,errors:Q}=Z;M=Object.assign(Object.assign({},{schema:N,table:it,commit_timestamp:ut,eventType:at,new:{},old:{},errors:Q}),this._getPayloadRecords(Z))}P.callback(M,u)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,u){const d=a.toLocaleLowerCase(),p={type:d,filter:o,callback:u};return this.bindings[d]?this.bindings[d].push(p):this.bindings[d]=[p],this}_off(a,o){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(d=>{var p;return!(((p=d.type)===null||p===void 0?void 0:p.toLocaleLowerCase())===u&&Mr.isEqual(d.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const u in a)if(a[u]!==o[u])return!1;return!0}static isFilterValueEqual(a,o){return(a??void 0)===(o??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(di.close,{},a)}_onError(a){this._on(di.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(o.new=Cp(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(o.old=Cp(a.columns,a.old_record)),o}}const Uh=()=>{},xu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vv=[1e3,2e3,5e3,1e4],Kv=1e4,Yv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $v{constructor(a,o){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$h,this.transport=null,this.heartbeatIntervalMs=xu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uh,this.ref=0,this.reconnectTimer=null,this.vsn=Op,this.logger=Uh,this.conn=null,this.sendBuffer=[],this.serializer=new Bv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...p)=>d(...p):(...p)=>fetch(...p),!(!((u=o?.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${Xh.websocket}`,this.httpEndpoint=c_(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const o=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const a=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,o,u){this.logger(a,o,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Za.connecting:return Ns.Connecting;case Za.open:return Ns.Open;case Za.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,o={config:{}}){const u=`realtime:${a}`,d=this.getChannels().find(p=>p.topic===u);if(d)return d;{const p=new Mr(`realtime:${a}`,o,this);return this.channels.push(p),p}}push(a){const{topic:o,event:u,payload:d,ref:p}=a,_=()=>{this.encode(a,w=>{var y;(y=this.conn)===null||y===void 0||y.send(w)})};this.log("push",`${o} ${u} (${p})`,d),this.isConnected()?_():this.sendBuffer.push(_)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Dv,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},xu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply"&&o.ref&&o.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error",b)}catch(A){this.log("error","error in heartbeat callback",A)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:d,payload:p,ref:_}=o,w=_?`(${_})`:"",y=p.status||"";this.log("receive",`${y} ${u} ${d} ${w}`.trim(),p),this.channels.filter(b=>b._isMember(u)).forEach(b=>b._trigger(d,p,_)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Za.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Za.open||this.conn.readyState===Za.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this._terminateWorker()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(di.error))}_appendParams(a,o){if(Object.keys(o).length===0)return a;const u=a.match(/\?/)?"&":"?",d=new URLSearchParams(o);return`${a}${u}${d}`}_workerObjectUrl(a){let o;if(a)o=a;else{const u=new Blob([Yv],{type:"application/javascript"});o=URL.createObjectURL(u)}return o}_setConnectionState(a,o=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(a=null){let o,u=!1;if(a)o=a,u=!0;else if(this.accessToken)try{o=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),o=this.accessTokenValue}else o=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(d=>{const p={access_token:o,version:Nv};o&&d.updateJoinPayload(p),d.joinedOnce&&d._isJoined()&&d._push(di.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(o=>{this.log("error",`Error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(o)}catch(d){this.log("error",`error in ${a} callback`,d)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new l_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var o,u,d,p,_,w,y,b,A,R,M,P;switch(this.transport=(o=a?.transport)!==null&&o!==void 0?o:null,this.timeout=(u=a?.timeout)!==null&&u!==void 0?u:$h,this.heartbeatIntervalMs=(d=a?.heartbeatIntervalMs)!==null&&d!==void 0?d:xu.HEARTBEAT_INTERVAL,this.worker=(p=a?.worker)!==null&&p!==void 0?p:!1,this.accessToken=(_=a?.accessToken)!==null&&_!==void 0?_:null,this.heartbeatCallback=(w=a?.heartbeatCallback)!==null&&w!==void 0?w:Uh,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:Op,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=a?.reconnectAfterMs)!==null&&b!==void 0?b:(Z=>Vv[Z-1]||Kv),this.vsn){case o_:this.encode=(A=a?.encode)!==null&&A!==void 0?A:((Z,N)=>N(JSON.stringify(Z))),this.decode=(R=a?.decode)!==null&&R!==void 0?R:((Z,N)=>N(JSON.parse(Z)));break;case jv:this.encode=(M=a?.encode)!==null&&M!==void 0?M:this.serializer.encode.bind(this.serializer),this.decode=(P=a?.decode)!==null&&P!==void 0?P:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Go=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Xv(l,a,o){const u=new URL(a,l);if(o)for(const[d,p]of Object.entries(o))p!==void 0&&u.searchParams.set(d,p);return u.toString()}async function Jv(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Qv(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:o,path:u,query:d,body:p,headers:_}){const w=Xv(l.baseUrl,u,d),y=await Jv(l.auth),b=await a(w,{method:o,headers:{...p?{"Content-Type":"application/json"}:{},...y,..._},body:p?JSON.stringify(p):void 0}),A=await b.text(),R=(b.headers.get("content-type")||"").includes("application/json"),M=R&&A?JSON.parse(A):A;if(!b.ok){const P=R?M:void 0,Z=P?.error;throw new Go(Z?.message??`Request failed with status ${b.status}`,{status:b.status,icebergType:Z?.type,icebergCode:Z?.code,details:P})}return{status:b.status,headers:b.headers,data:M}}}}function Eu(l){return l.join("")}var Wv=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:Eu(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(l,a){const o={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:o})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eu(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eu(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eu(l.namespace)}`}),!0}catch(a){if(a instanceof Go&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(o){if(o instanceof Go&&o.status===409)return;throw o}}};function xr(l){return l.join("")}var Fv=class{constructor(l,a="",o){this.client=l,this.prefix=a,this.accessDelegation=o}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const o={};return this.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables`,body:a,headers:o})).data.metadata}async updateTable(l,a){const o=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":o.data["metadata-location"],metadata:o.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(o){if(o instanceof Go&&o.status===404)return!1;throw o}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(o){if(o instanceof Go&&o.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw o}}},ty=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const o=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Qv({baseUrl:o,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Wv(this.client,a),this.tableOps=new Fv(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},Mu=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function xe(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var ey=class extends Mu{constructor(l,a,o){super(l),this.name="StorageApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qh=class extends Mu{constructor(l,a){super(l),this.name="StorageUnknownError",this.originalError=a}};const df=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ny=()=>Response,Wh=l=>{if(Array.isArray(l))return l.map(o=>Wh(o));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([o,u])=>{const d=o.replace(/([-_][a-z])/gi,p=>p.toUpperCase().replace(/[-_]/g,""));a[d]=Wh(u)}),a},iy=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},ay=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function Vo(l){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Vo(l)}function sy(l,a){if(Vo(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Vo(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function ry(l){var a=sy(l,"string");return Vo(a)=="symbol"?a:a+""}function oy(l,a,o){return(a=ry(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function Lp(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,u)}return o}function Rt(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Lp(Object(o),!0).forEach(function(u){oy(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):Lp(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const Bh=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},ly=async(l,a,o)=>{l instanceof await ny()&&!o?.noResolveJson?l.json().then(u=>{const d=l.status||500,p=u?.statusCode||d+"";a(new ey(Bh(u),d,p))}).catch(u=>{a(new Qh(Bh(u),u))}):a(new Qh(Bh(l),l))},uy=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"||!u?d:(iy(u)?(d.headers=Rt({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(u)):d.body=u,a?.duplex&&(d.duplex=a.duplex),Rt(Rt({},d),o))};async function Qo(l,a,o,u,d,p){return new Promise((_,w)=>{l(o,uy(a,u,d,p)).then(y=>{if(!y.ok)throw y;return u?.noResolveJson?y:y.json()}).then(y=>_(y)).catch(y=>ly(y,w,u))})}async function Ko(l,a,o,u){return Qo(l,"GET",a,o,u)}async function fi(l,a,o,u,d){return Qo(l,"POST",a,u,d,o)}async function Fh(l,a,o,u,d){return Qo(l,"PUT",a,u,d,o)}async function cy(l,a,o,u){return Qo(l,"HEAD",a,Rt(Rt({},o),{},{noResolveJson:!0}),u)}async function mf(l,a,o,u,d){return Qo(l,"DELETE",a,u,d,o)}var hy=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(xe(a))return{data:null,error:a};throw a}}};let h_;h_=Symbol.toStringTag;var fy=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[h_]="BlobDownloadBuilder",this.promise=null}asStream(){return new hy(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(xe(a))return{data:null,error:a};throw a}}};const dy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var my=class{constructor(l,a={},o,u){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.bucketId=o,this.fetch=df(u)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,a,o,u){var d=this;try{let p;const _=Rt(Rt({},zp),u);let w=Rt(Rt({},d.headers),l==="POST"&&{"x-upsert":String(_.upsert)});const y=_.metadata;typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",_.cacheControl),y&&p.append("metadata",d.encodeMetadata(y)),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.has("cacheControl")||p.append("cacheControl",_.cacheControl),y&&!p.has("metadata")&&p.append("metadata",d.encodeMetadata(y))):(p=o,w["cache-control"]=`max-age=${_.cacheControl}`,w["content-type"]=_.contentType,y&&(w["x-metadata"]=d.toBase64(d.encodeMetadata(y))),(typeof ReadableStream<"u"&&p instanceof ReadableStream||p&&typeof p=="object"&&"pipe"in p&&typeof p.pipe=="function")&&!_.duplex&&(_.duplex="half")),u?.headers&&(w=Rt(Rt({},w),u.headers));const b=d._removeEmptyFolders(a),A=d._getFinalPath(b),R=await(l=="PUT"?Fh:fi)(d.fetch,`${d.url}/object/${A}`,p,Rt({headers:w},_?.duplex?{duplex:_.duplex}:{}));return{data:{path:b,id:R.Id,fullPath:R.Key},error:null}}catch(p){if(d.shouldThrowOnError)throw p;if(xe(p))return{data:null,error:p};throw p}}async upload(l,a,o){return this.uploadOrUpdate("POST",l,a,o)}async uploadToSignedUrl(l,a,o,u){var d=this;const p=d._removeEmptyFolders(l),_=d._getFinalPath(p),w=new URL(d.url+`/object/upload/sign/${_}`);w.searchParams.set("token",a);try{let y;const b=Rt({upsert:zp.upsert},u),A=Rt(Rt({},d.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&o instanceof Blob?(y=new FormData,y.append("cacheControl",b.cacheControl),y.append("",o)):typeof FormData<"u"&&o instanceof FormData?(y=o,y.append("cacheControl",b.cacheControl)):(y=o,A["cache-control"]=`max-age=${b.cacheControl}`,A["content-type"]=b.contentType),{data:{path:p,fullPath:(await Fh(d.fetch,w.toString(),y,{headers:A})).Key},error:null}}catch(y){if(d.shouldThrowOnError)throw y;if(xe(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(l,a){var o=this;try{let u=o._getFinalPath(l);const d=Rt({},o.headers);a?.upsert&&(d["x-upsert"]="true");const p=await fi(o.fetch,`${o.url}/object/upload/sign/${u}`,{},{headers:d}),_=new URL(o.url+p.url),w=_.searchParams.get("token");if(!w)throw new Mu("No token returned by API");return{data:{signedUrl:_.toString(),path:l,token:w},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(xe(u))return{data:null,error:u};throw u}}async update(l,a,o){return this.uploadOrUpdate("PUT",l,a,o)}async move(l,a,o){var u=this;try{return{data:await fi(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers}),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(xe(d))return{data:null,error:d};throw d}}async copy(l,a,o){var u=this;try{return{data:{path:(await fi(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers})).Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(xe(d))return{data:null,error:d};throw d}}async createSignedUrl(l,a,o){var u=this;try{let d=u._getFinalPath(l),p=await fi(u.fetch,`${u.url}/object/sign/${d}`,Rt({expiresIn:a},o?.transform?{transform:o.transform}:{}),{headers:u.headers});const _=o?.download?`&download=${o.download===!0?"":o.download}`:"";return p={signedUrl:encodeURI(`${u.url}${p.signedURL}${_}`)},{data:p,error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(xe(d))return{data:null,error:d};throw d}}async createSignedUrls(l,a,o){var u=this;try{const d=await fi(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:a,paths:l},{headers:u.headers}),p=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(_=>Rt(Rt({},_),{},{signedUrl:_.signedURL?encodeURI(`${u.url}${_.signedURL}${p}`):null})),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(xe(d))return{data:null,error:d};throw d}}download(l,a){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),d=u?`?${u}`:"",p=this._getFinalPath(l),_=()=>Ko(this.fetch,`${this.url}/${o}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new fy(_,this.shouldThrowOnError)}async info(l){var a=this;const o=a._getFinalPath(l);try{return{data:Wh(await Ko(a.fetch,`${a.url}/object/info/${o}`,{headers:a.headers})),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(xe(u))return{data:null,error:u};throw u}}async exists(l){var a=this;const o=a._getFinalPath(l);try{return await cy(a.fetch,`${a.url}/object/${o}`,{headers:a.headers}),{data:!0,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(xe(u)&&u instanceof Qh){const d=u.originalError;if([400,404].includes(d?.status))return{data:!1,error:u}}throw u}}getPublicUrl(l,a){const o=this._getFinalPath(l),u=[],d=a?.download?`download=${a.download===!0?"":a.download}`:"";d!==""&&u.push(d);const p=typeof a?.transform<"u"?"render/image":"object",_=this.transformOptsToQueryString(a?.transform||{});_!==""&&u.push(_);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${w}`)}}}async remove(l){var a=this;try{return{data:await mf(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}}async list(l,a,o){var u=this;try{const d=Rt(Rt(Rt({},dy),a),{},{prefix:l||""});return{data:await fi(u.fetch,`${u.url}/object/list/${u.bucketId}`,d,{headers:u.headers},o),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(xe(d))return{data:null,error:d};throw d}}async listV2(l,a){var o=this;try{const u=Rt({},l);return{data:await fi(o.fetch,`${o.url}/object/list-v2/${o.bucketId}`,u,{headers:o.headers},a),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(xe(u))return{data:null,error:u};throw u}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const f_="2.90.1",d_={"X-Client-Info":`storage-js/${f_}`};var py=class{constructor(l,a={},o,u){this.shouldThrowOnError=!1;const d=new URL(l);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Rt(Rt({},d_),a),this.fetch=df(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var a=this;try{const o=a.listBucketOptionsToQueryString(l);return{data:await Ko(a.fetch,`${a.url}/bucket${o}`,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}}async getBucket(l){var a=this;try{return{data:await Ko(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}}async createBucket(l,a={public:!1}){var o=this;try{return{data:await fi(o.fetch,`${o.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(xe(u))return{data:null,error:u};throw u}}async updateBucket(l,a){var o=this;try{return{data:await Fh(o.fetch,`${o.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(xe(u))return{data:null,error:u};throw u}}async emptyBucket(l){var a=this;try{return{data:await fi(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await mf(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},_y=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=Rt(Rt({},d_),a),this.fetch=df(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await fi(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}}async listBuckets(l){var a=this;try{const o=new URLSearchParams;l?.limit!==void 0&&o.set("limit",l.limit.toString()),l?.offset!==void 0&&o.set("offset",l.offset.toString()),l?.sortColumn&&o.set("sortColumn",l.sortColumn),l?.sortOrder&&o.set("sortOrder",l.sortOrder),l?.search&&o.set("search",l.search);const u=o.toString(),d=u?`${a.url}/bucket?${u}`:`${a.url}/bucket`;return{data:await Ko(a.fetch,d,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await mf(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xe(o))return{data:null,error:o};throw o}}from(l){var a=this;if(!ay(l))throw new Mu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const o=new ty({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(o,{get(d,p){const _=d[p];return typeof _!="function"?_:async(...w)=>{try{return{data:await _.apply(d,w),error:null}}catch(y){if(u)throw y;return{data:null,error:y}}}}})}};const pf={"X-Client-Info":`storage-js/${f_}`,"Content-Type":"application/json"};var m_=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pn(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var Ph=class extends m_{constructor(l,a,o){super(l),this.name="StorageVectorsApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gy=class extends m_{constructor(l,a){super(l),this.name="StorageVectorsUnknownError",this.originalError=a}};const _f=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),vy=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Mp=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),yy=async(l,a,o)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!o?.noResolveJson){const u=l.status||500,d=l;if(typeof d.json=="function")d.json().then(p=>{const _=p?.statusCode||p?.code||u+"";a(new Ph(Mp(p),u,_))}).catch(()=>{const p=u+"";a(new Ph(d.statusText||`HTTP ${u} error`,u,p))});else{const p=u+"";a(new Ph(d.statusText||`HTTP ${u} error`,u,p))}}else a(new gy(Mp(l),l))},by=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return u?(vy(u)?(d.headers=Rt({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(u)):d.body=u,Rt(Rt({},d),o)):d};async function wy(l,a,o,u,d,p){return new Promise((_,w)=>{l(o,by(a,u,d,p)).then(y=>{if(!y.ok)throw y;if(u?.noResolveJson)return y;const b=y.headers.get("content-type");return!b||!b.includes("application/json")?{}:y.json()}).then(y=>_(y)).catch(y=>yy(y,w,u))})}async function Hn(l,a,o,u,d){return wy(l,"POST",a,u,d,o)}var Sy=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=Rt(Rt({},pf),a),this.fetch=_f(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async getIndex(l,a){var o=this;try{return{data:await Hn(o.fetch,`${o.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Pn(u))return{data:null,error:u};throw u}}async listIndexes(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async deleteIndex(l,a){var o=this;try{return{data:await Hn(o.fetch,`${o.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers})||{},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Pn(u))return{data:null,error:u};throw u}}},Ty=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=Rt(Rt({},pf),a),this.fetch=_f(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var a=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Hn(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async getVectors(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async listVectors(l){var a=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await Hn(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async queryVectors(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async deleteVectors(l){var a=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Hn(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}},xy=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=Rt(Rt({},pf),a),this.fetch=_f(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async getBucket(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async listBuckets(l={}){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}},Ey=class extends xy{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new Ay(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,o=this;return a().call(o,l)}async getBucket(l){var a=()=>super.getBucket,o=this;return a().call(o,l)}async listBuckets(l={}){var a=()=>super.listBuckets,o=this;return a().call(o,l)}async deleteBucket(l){var a=()=>super.deleteBucket,o=this;return a().call(o,l)}},Ay=class extends Sy{constructor(l,a,o,u){super(l,a,u),this.vectorBucketName=o}async createIndex(l){var a=()=>super.createIndex,o=this;return a().call(o,Rt(Rt({},l),{},{vectorBucketName:o.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,o=this;return a().call(o,Rt(Rt({},l),{},{vectorBucketName:o.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,o=this;return a().call(o,o.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,o=this;return a().call(o,o.vectorBucketName,l)}index(l){return new Oy(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Oy=class extends Ty{constructor(l,a,o,u,d){super(l,a,d),this.vectorBucketName=o,this.indexName=u}async putVectors(l){var a=()=>super.putVectors,o=this;return a().call(o,Rt(Rt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async getVectors(l){var a=()=>super.getVectors,o=this;return a().call(o,Rt(Rt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,o=this;return a().call(o,Rt(Rt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,o=this;return a().call(o,Rt(Rt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,o=this;return a().call(o,Rt(Rt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}},Cy=class extends py{constructor(l,a={},o,u){super(l,a,o,u)}from(l){return new my(this.url,this.headers,l,this.fetch)}get vectors(){return new Ey(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _y(this.url+"/iceberg",this.headers,this.fetch)}};const p_="2.90.1",Lr=30*1e3,tf=3,Hh=tf*Lr,Ry="http://localhost:9999",ky="supabase.auth.token",Ly={"X-Client-Info":`gotrue-js/${p_}`},ef="X-Supabase-Api-Version",__={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,My=600*1e3;class Yo extends Error{constructor(a,o,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=u}}function Tt(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Ny extends Yo{constructor(a,o,u){super(a,o,u),this.name="AuthApiError",this.status=o,this.code=u}}function jy(l){return Tt(l)&&l.name==="AuthApiError"}class js extends Yo{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class ia extends Yo{constructor(a,o,u,d){super(a,u,d),this.name=o,this.status=u}}class Bn extends ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dy(l){return Tt(l)&&l.name==="AuthSessionMissingError"}class Er extends ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Au extends ia{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Ou extends ia{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uy(l){return Tt(l)&&l.name==="AuthImplicitGrantRedirectError"}class Np extends ia{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class By extends ia{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nf extends ia{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function qh(l){return Tt(l)&&l.name==="AuthRetryableFetchError"}class jp extends ia{constructor(a,o,u){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=u}}class af extends ia{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dp=` 	
\r=`.split(""),Py=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Dp.length;a+=1)l[Dp[a].charCodeAt(0)]=-2;for(let a=0;a<Ru.length;a+=1)l[Ru[a].charCodeAt(0)]=a;return l})();function Up(l,a,o){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(Ru[u]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(Ru[u]),a.queuedBits-=6}}function g_(l,a,o){const u=Py[l];if(u>-1)for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Bp(l){const a=[],o=_=>{a.push(String.fromCodePoint(_))},u={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},p=_=>{Zy(_,u,o)};for(let _=0;_<l.length;_+=1)g_(l.charCodeAt(_),d,p);return a.join("")}function Hy(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function qy(l,a){for(let o=0;o<l.length;o+=1){let u=l.charCodeAt(o);if(u>55295&&u<=56319){const d=(u-55296)*1024&65535;u=(l.charCodeAt(o+1)-56320&65535|d)+65536,o+=1}Hy(u,a)}}function Zy(l,a,o){if(a.utf8seq===0){if(l<=127){o(l);return}for(let u=1;u<6;u+=1)if((l>>7-u&1)===0){a.utf8seq=u;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&o(a.codepoint)}}function Nr(l){const a=[],o={queue:0,queuedBits:0},u=d=>{a.push(d)};for(let d=0;d<l.length;d+=1)g_(l.charCodeAt(d),o,u);return new Uint8Array(a)}function Iy(l){const a=[];return qy(l,o=>a.push(o)),new Uint8Array(a)}function Ds(l){const a=[],o={queue:0,queuedBits:0},u=d=>{a.push(d)};return l.forEach(d=>Up(d,o,u)),Up(null,o,u),a.join("")}function Gy(l){return Math.round(Date.now()/1e3)+l}function Vy(){return Symbol("auth-callback")}const nn=()=>typeof window<"u"&&typeof document<"u",Ls={tested:!1,writable:!1},v_=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ls.tested)return Ls.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Ls.tested=!0,Ls.writable=!0}catch{Ls.tested=!0,Ls.writable=!1}return Ls.writable};function Ky(l){const a={},o=new URL(l);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((d,p)=>{a[p]=d})}catch{}return o.searchParams.forEach((u,d)=>{a[d]=u}),a}const y_=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Yy=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",zr=async(l,a,o)=>{await l.setItem(a,JSON.stringify(o))},zs=async(l,a)=>{const o=await l.getItem(a);if(!o)return null;try{return JSON.parse(o)}catch{return o}},en=async(l,a)=>{await l.removeItem(a)};class Nu{constructor(){this.promise=new Nu.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}Nu.promiseConstructor=Promise;function Zh(l){const a=l.split(".");if(a.length!==3)throw new af("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!zy.test(a[u]))throw new af("JWT not in base64url format");return{header:JSON.parse(Bp(a[0])),payload:JSON.parse(Bp(a[1])),signature:Nr(a[2]),raw:{header:a[0],payload:a[1]}}}async function $y(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function Xy(l,a){return new Promise((u,d)=>{(async()=>{for(let p=0;p<1/0;p++)try{const _=await l(p);if(!a(p,null,_)){u(_);return}}catch(_){if(!a(p,_)){d(_);return}}})()})}function Jy(l){return("0"+l.toString(16)).substr(-2)}function Qy(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=o.length;let d="";for(let p=0;p<56;p++)d+=o.charAt(Math.floor(Math.random()*u));return d}return crypto.getRandomValues(a),Array.from(a,Jy).join("")}async function Wy(l){const o=new TextEncoder().encode(l),u=await crypto.subtle.digest("SHA-256",o),d=new Uint8Array(u);return Array.from(d).map(p=>String.fromCharCode(p)).join("")}async function Fy(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const o=await Wy(l);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(l,a,o=!1){const u=Qy();let d=u;o&&(d+="/PASSWORD_RECOVERY"),await zr(l,`${a}-code-verifier`,d);const p=await Fy(u);return[p,u===p?"plain":"s256"]}const t0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e0(l){const a=l.headers.get(ef);if(!a||!a.match(t0))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function n0(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function i0(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Or(l){if(!a0.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ih(){const l={};return new Proxy(l,{get:(a,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s0(l,a){return new Proxy(l,{get:(o,u,d)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const p=u.toString();if(p==="Symbol(Symbol.toPrimitive)"||p==="Symbol(Symbol.toStringTag)"||p==="Symbol(util.inspect.custom)"||p==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(o,u,d)}return!a.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,u,d)}})}function Pp(l){return JSON.parse(JSON.stringify(l))}const Ms=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),r0=[502,503,504];async function Hp(l){var a;if(!Yy(l))throw new nf(Ms(l),0);if(r0.includes(l.status))throw new nf(Ms(l),l.status);let o;try{o=await l.json()}catch(p){throw new js(Ms(p),p)}let u;const d=e0(l);if(d&&d.getTime()>=__["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?u=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(u=o.error_code),u){if(u==="weak_password")throw new jp(Ms(o),l.status,((a=o.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(u==="session_not_found")throw new Bn}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((p,_)=>p&&typeof _=="string",!0))throw new jp(Ms(o),l.status,o.weak_password.reasons);throw new Ny(Ms(o),l.status||500,u)}const o0=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),d.body=JSON.stringify(u),Object.assign(Object.assign({},d),o))};async function Ct(l,a,o,u){var d;const p=Object.assign({},u?.headers);p[ef]||(p[ef]=__["2024-01-01"].name),u?.jwt&&(p.Authorization=`Bearer ${u.jwt}`);const _=(d=u?.query)!==null&&d!==void 0?d:{};u?.redirectTo&&(_.redirect_to=u.redirectTo);const w=Object.keys(_).length?"?"+new URLSearchParams(_).toString():"",y=await l0(l,a,o+w,{headers:p,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(y):{data:Object.assign({},y),error:null}}async function l0(l,a,o,u,d,p){const _=o0(a,u,d,p);let w;try{w=await l(o,Object.assign({},_))}catch(y){throw console.error(y),new nf(Ms(y),0)}if(w.ok||await Hp(w),u?.noResolveJson)return w;try{return await w.json()}catch(y){await Hp(y)}}function hi(l){var a;let o=null;h0(l)&&(o=Object.assign({},l),l.expires_at||(o.expires_at=Gy(l.expires_in)));const u=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:o,user:u},error:null}}function qp(l){const a=hi(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Ia(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function u0(l){return{data:l,error:null}}function c0(l){const{action_link:a,email_otp:o,hashed_token:u,redirect_to:d,verification_type:p}=l,_=zu(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),w={action_link:a,email_otp:o,hashed_token:u,redirect_to:d,verification_type:p},y=Object.assign({},_);return{data:{properties:w,user:y},error:null}}function Zp(l){return l}function h0(l){return l.access_token&&l.refresh_token&&l.expires_in}const Gh=["global","local","others"];class f0{constructor({url:a="",headers:o={},fetch:u}){this.url=a,this.headers=o,this.fetch=y_(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,o=Gh[0]){if(Gh.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gh.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(u){if(Tt(u))return{data:null,error:u};throw u}}async inviteUserByEmail(a,o={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ia})}catch(u){if(Tt(u))return{data:{user:null},error:u};throw u}}async generateLink(a){try{const{options:o}=a,u=zu(a,["options"]),d=Object.assign(Object.assign({},u),o);return"newEmail"in u&&(d.new_email=u?.newEmail,delete d.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:c0,redirectTo:o?.redirectTo})}catch(o){if(Tt(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(a){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Ia})}catch(o){if(Tt(o))return{data:{user:null},error:o};throw o}}async listUsers(a){var o,u,d,p,_,w,y;try{const b={nextPage:null,lastPage:0,total:0},A=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(p=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&p!==void 0?p:""},xform:Zp});if(A.error)throw A.error;const R=await A.json(),M=(_=A.headers.get("x-total-count"))!==null&&_!==void 0?_:0,P=(y=(w=A.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&y!==void 0?y:[];return P.length>0&&(P.forEach(Z=>{const N=parseInt(Z.split(";")[0].split("=")[1].substring(0,1)),it=JSON.parse(Z.split(";")[1].split("=")[1]);b[`${it}Page`]=N}),b.total=parseInt(M)),{data:Object.assign(Object.assign({},R),b),error:null}}catch(b){if(Tt(b))return{data:{users:[]},error:b};throw b}}async getUserById(a){Or(a);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Ia})}catch(o){if(Tt(o))return{data:{user:null},error:o};throw o}}async updateUserById(a,o){Or(a);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:o,headers:this.headers,xform:Ia})}catch(u){if(Tt(u))return{data:{user:null},error:u};throw u}}async deleteUser(a,o=!1){Or(a);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ia})}catch(u){if(Tt(u))return{data:{user:null},error:u};throw u}}async _listFactors(a){Or(a.userId);try{const{data:o,error:u}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:o,error:u}}catch(o){if(Tt(o))return{data:null,error:o};throw o}}async _deleteFactor(a){Or(a.userId),Or(a.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(o){if(Tt(o))return{data:null,error:o};throw o}}async _listOAuthClients(a){var o,u,d,p,_,w,y;try{const b={nextPage:null,lastPage:0,total:0},A=await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(p=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&p!==void 0?p:""},xform:Zp});if(A.error)throw A.error;const R=await A.json(),M=(_=A.headers.get("x-total-count"))!==null&&_!==void 0?_:0,P=(y=(w=A.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&y!==void 0?y:[];return P.length>0&&(P.forEach(Z=>{const N=parseInt(Z.split(";")[0].split("=")[1].substring(0,1)),it=JSON.parse(Z.split(";")[1].split("=")[1]);b[`${it}Page`]=N}),b.total=parseInt(M)),{data:Object.assign(Object.assign({},R),b),error:null}}catch(b){if(Tt(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(a){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Tt(o))return{data:null,error:o};throw o}}async _getOAuthClient(a){try{return await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Tt(o))return{data:null,error:o};throw o}}async _updateOAuthClient(a,o){try{return await Ct(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:o,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(Tt(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(a){try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Tt(o))return{data:null,error:o};throw o}}async _regenerateOAuthClientSecret(a){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Tt(o))return{data:null,error:o};throw o}}}function Ip(l={}){return{getItem:a=>l[a]||null,setItem:(a,o)=>{l[a]=o},removeItem:a=>{delete l[a]}}}const Cr={debug:!!(globalThis&&v_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class b_ extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class d0 extends b_{}async function m0(l,a,o){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async d=>{if(d){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,d.name);try{return await o()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,d.name)}}else{if(a===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new d0(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Cr.debug)try{const p=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function p0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w_(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function _0(l){return parseInt(l,16)}function g0(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}function v0(l){var a;const{chainId:o,domain:u,expirationTime:d,issuedAt:p=new Date,nonce:_,notBefore:w,requestId:y,resources:b,scheme:A,uri:R,version:M}=l;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(_&&_.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${_}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(M!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${M}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const P=w_(l.address),Z=A?`${A}://${u}`:u,N=l.statement?`${l.statement}
`:"",it=`${Z} wants you to sign in with your Ethereum account:
${P}

${N}`;let ut=`URI: ${R}
Version: ${M}
Chain ID: ${o}${_?`
Nonce: ${_}`:""}
Issued At: ${p.toISOString()}`;if(d&&(ut+=`
Expiration Time: ${d.toISOString()}`),w&&(ut+=`
Not Before: ${w.toISOString()}`),y&&(ut+=`
Request ID: ${y}`),b){let at=`
Resources:`;for(const Q of b){if(!Q||typeof Q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Q}`);at+=`
- ${Q}`}ut+=at}return`${it}
${ut}`}class qe extends Error{constructor({message:a,code:o,cause:u,name:d}){var p;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=(p=d??(u instanceof Error?u.name:void 0))!==null&&p!==void 0?p:"Unknown Error",this.code=o}}class ku extends qe{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function y0({error:l,options:a}){var o,u,d;const{publicKey:p}=a;if(!p)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((o=p.authenticatorSelection)===null||o===void 0?void 0:o.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((u=p.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((d=p.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new qe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return p.pubKeyCredParams.filter(w=>w.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const _=window.location.hostname;if(S_(_)){if(p.rp.id!==_)return new qe({message:`The RP ID "${p.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(p.user.id.byteLength<1||p.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function b0({error:l,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new qe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const u=window.location.hostname;if(S_(u)){if(o.rpId!==u)return new qe({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class w0{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const S0=new w0;function T0(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:o,excludeCredentials:u}=l,d=zu(l,["challenge","user","excludeCredentials"]),p=Nr(a).buffer,_=Object.assign(Object.assign({},o),{id:Nr(o.id).buffer}),w=Object.assign(Object.assign({},d),{challenge:p,user:_});if(u&&u.length>0){w.excludeCredentials=new Array(u.length);for(let y=0;y<u.length;y++){const b=u[y];w.excludeCredentials[y]=Object.assign(Object.assign({},b),{id:Nr(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return w}function x0(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:o}=l,u=zu(l,["challenge","allowCredentials"]),d=Nr(a).buffer,p=Object.assign(Object.assign({},u),{challenge:d});if(o&&o.length>0){p.allowCredentials=new Array(o.length);for(let _=0;_<o.length;_++){const w=o[_];p.allowCredentials[_]=Object.assign(Object.assign({},w),{id:Nr(w.id).buffer,type:w.type||"public-key",transports:w.transports})}}return p}function E0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l;return{id:l.id,rawId:l.id,response:{attestationObject:Ds(new Uint8Array(l.response.attestationObject)),clientDataJSON:Ds(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function A0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l,u=l.getClientExtensionResults(),d=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Ds(new Uint8Array(d.authenticatorData)),clientDataJSON:Ds(new Uint8Array(d.clientDataJSON)),signature:Ds(new Uint8Array(d.signature)),userHandle:d.userHandle?Ds(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function S_(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Gp(){var l,a;return!!(nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function O0(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ku("Browser returned unexpected credential type",a)}:{data:null,error:new ku("Empty credential response",a)}}catch(a){return{data:null,error:y0({error:a,options:l})}}}async function C0(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ku("Browser returned unexpected credential type",a)}:{data:null,error:new ku("Empty credential response",a)}}catch(a){return{data:null,error:b0({error:a,options:l})}}}const R0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lu(...l){const a=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),o=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),u={};for(const d of l)if(d)for(const p in d){const _=d[p];if(_!==void 0)if(Array.isArray(_))u[p]=_;else if(o(_))u[p]=_;else if(a(_)){const w=u[p];a(w)?u[p]=Lu(w,_):u[p]=Lu(_)}else u[p]=_}return u}function L0(l,a){return Lu(R0,l,a||{})}function z0(l,a){return Lu(k0,l,a||{})}class M0{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:o,friendlyName:u,signal:d},p){try{const{data:_,error:w}=await this.client.mfa.challenge({factorId:a,webauthn:o});if(!_)return{data:null,error:w};const y=d??S0.createNewAbortSignal();if(_.webauthn.type==="create"){const{user:b}=_.webauthn.credential_options.publicKey;b.name||(b.name=`${b.id}:${u}`),b.displayName||(b.displayName=b.name)}switch(_.webauthn.type){case"create":{const b=L0(_.webauthn.credential_options.publicKey,p?.create),{data:A,error:R}=await O0({publicKey:b,signal:y});return A?{data:{factorId:a,challengeId:_.id,webauthn:{type:_.webauthn.type,credential_response:A}},error:null}:{data:null,error:R}}case"request":{const b=z0(_.webauthn.credential_options.publicKey,p?.request),{data:A,error:R}=await C0(Object.assign(Object.assign({},_.webauthn.credential_options),{publicKey:b,signal:y}));return A?{data:{factorId:a,challengeId:_.id,webauthn:{type:_.webauthn.type,credential_response:A}},error:null}:{data:null,error:R}}}}catch(_){return Tt(_)?{data:null,error:_}:{data:null,error:new js("Unexpected error in challenge",_)}}}async _verify({challengeId:a,factorId:o,webauthn:u}){return this.client.mfa.verify({factorId:o,challengeId:a,webauthn:u})}async _authenticate({factorId:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},p){if(!o)return{data:null,error:new Yo("rpId is required for WebAuthn authentication")};try{if(!Gp())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:_,error:w}=await this.challenge({factorId:a,webauthn:{rpId:o,rpOrigins:u},signal:d},{request:p});if(!_)return{data:null,error:w};const{webauthn:y}=_;return this._verify({factorId:a,challengeId:_.challengeId,webauthn:{type:y.type,rpId:o,rpOrigins:u,credential_response:y.credential_response}})}catch(_){return Tt(_)?{data:null,error:_}:{data:null,error:new js("Unexpected error in authenticate",_)}}}async _register({friendlyName:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},p){if(!o)return{data:null,error:new Yo("rpId is required for WebAuthn registration")};try{if(!Gp())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:_,error:w}=await this._enroll({friendlyName:a});if(!_)return await this.client.mfa.listFactors().then(A=>{var R;return(R=A.data)===null||R===void 0?void 0:R.all.find(M=>M.factor_type==="webauthn"&&M.friendly_name===a&&M.status!=="unverified")}).then(A=>A?this.client.mfa.unenroll({factorId:A?.id}):void 0),{data:null,error:w};const{data:y,error:b}=await this._challenge({factorId:_.id,friendlyName:_.friendly_name,webauthn:{rpId:o,rpOrigins:u},signal:d},{create:p});return y?this._verify({factorId:_.id,challengeId:y.challengeId,webauthn:{rpId:o,rpOrigins:u,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:b}}catch(_){return Tt(_)?{data:null,error:_}:{data:null,error:new js("Unexpected error in register",_)}}}}p0();const N0={url:Ry,storageKey:ky,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ly,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Vp(l,a,o){return await o()}const Rr={};class $o{get jwks(){var a,o;return(o=(a=Rr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(a){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,o;return(o=(a=Rr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:a})}constructor(a){var o,u,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const p=Object.assign(Object.assign({},N0),a);if(this.storageKey=p.storageKey,this.instanceID=(o=$o.nextInstanceID[this.storageKey])!==null&&o!==void 0?o:0,$o.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!p.debug,typeof p.debug=="function"&&(this.logger=p.debug),this.instanceID>0&&nn()){const _=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(_),this.logDebugMessages&&console.trace(_)}if(this.persistSession=p.persistSession,this.autoRefreshToken=p.autoRefreshToken,this.admin=new f0({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=y_(p.fetch),this.lock=p.lock||Vp,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.hasCustomAuthorizationHeader=p.hasCustomAuthorizationHeader,this.throwOnError=p.throwOnError,this.lockAcquireTimeout=p.lockAcquireTimeout,p.lock?this.lock=p.lock:this.persistSession&&nn()&&(!((u=globalThis?.navigator)===null||u===void 0)&&u.locks)?this.lock=m0:this.lock=Vp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new M0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(p.storage?this.storage=p.storage:v_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ip(this.memoryStorage)),p.userStorage&&(this.userStorage=p.userStorage)):(this.memoryStorage={},this.storage=Ip(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(_){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",_)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async _=>{this._debug("received broadcast notification from other tab or client",_),await this._notifyAllSubscribers(_.data.event,_.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${p_}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let o={},u="none";if(nn()&&(o=Ky(window.location.href),this._isImplicitGrantCallback(o)?u="implicit":await this._isPKCECallback(o)&&(u="pkce")),nn()&&this.detectSessionInUrl&&u!=="none"){const{data:d,error:p}=await this._getSessionFromURL(o,u);if(p){if(this._debug("#_initialize()","error detecting session from URL",p),Uy(p)){const y=(a=p.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:p}}return{error:p}}const{session:_,redirectType:w}=d;return this._debug("#_initialize()","detected session in URL",_,"redirect type",w),await this._saveSession(_),setTimeout(async()=>{w==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",_):await this._notifyAllSubscribers("SIGNED_IN",_)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return Tt(o)?this._returnResult({error:o}):this._returnResult({error:new js("Unexpected error during initialization",o)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var o,u,d;try{const p=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(o=a?.options)===null||o===void 0?void 0:o.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(d=a?.options)===null||d===void 0?void 0:d.captchaToken}},xform:hi}),{data:_,error:w}=p;if(w||!_)return this._returnResult({data:{user:null,session:null},error:w});const y=_.session,b=_.user;return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:b,session:y},error:null})}catch(p){if(Tt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signUp(a){var o,u,d;try{let p;if("email"in a){const{email:A,password:R,options:M}=a;let P=null,Z=null;this.flowType==="pkce"&&([P,Z]=await Ar(this.storage,this.storageKey)),p=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:M?.emailRedirectTo,body:{email:A,password:R,data:(o=M?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:M?.captchaToken},code_challenge:P,code_challenge_method:Z},xform:hi})}else if("phone"in a){const{phone:A,password:R,options:M}=a;p=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:R,data:(u=M?.data)!==null&&u!==void 0?u:{},channel:(d=M?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:M?.captchaToken}},xform:hi})}else throw new Au("You must provide either an email or phone number and a password");const{data:_,error:w}=p;if(w||!_)return await en(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:w});const y=_.session,b=_.user;return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:b,session:y},error:null})}catch(p){if(await en(this.storage,`${this.storageKey}-code-verifier`),Tt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithPassword(a){try{let o;if("email"in a){const{email:p,password:_,options:w}=a;o=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:p,password:_,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:qp})}else if("phone"in a){const{phone:p,password:_,options:w}=a;o=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:p,password:_,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:qp})}else throw new Au("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const p=new Er;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:d})}catch(o){if(Tt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOAuth(a){var o,u,d,p;return await this._handleProviderSignIn(a.provider,{redirectTo:(o=a.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=a.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=a.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(p=a.options)===null||p===void 0?void 0:p.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:o}=a;switch(o){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(a){var o,u,d,p,_,w,y,b,A,R,M;let P,Z;if("message"in a)P=a.message,Z=a.signature;else{const{chain:N,wallet:it,statement:ut,options:at}=a;let Q;if(nn())if(typeof it=="object")Q=it;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")Q=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof it!="object"||!at?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=it}const mt=new URL((o=at?.url)!==null&&o!==void 0?o:window.location.href),zt=await Q.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!zt||zt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const gt=w_(zt[0]);let rt=(u=at?.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!rt){const C=await Q.request({method:"eth_chainId"});rt=_0(C)}const z={domain:mt.host,address:gt,statement:ut,uri:mt.href,version:"1",chainId:rt,nonce:(d=at?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(_=(p=at?.signInWithEthereum)===null||p===void 0?void 0:p.issuedAt)!==null&&_!==void 0?_:new Date,expirationTime:(w=at?.signInWithEthereum)===null||w===void 0?void 0:w.expirationTime,notBefore:(y=at?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(b=at?.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(A=at?.signInWithEthereum)===null||A===void 0?void 0:A.resources};P=v0(z),Z=await Q.request({method:"personal_sign",params:[g0(P),gt]})}try{const{data:N,error:it}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:P,signature:Z},!((R=a.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(M=a.options)===null||M===void 0?void 0:M.captchaToken}}:null),xform:hi});if(it)throw it;if(!N||!N.session||!N.user){const ut=new Er;return this._returnResult({data:{user:null,session:null},error:ut})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:it})}catch(N){if(Tt(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var o,u,d,p,_,w,y,b,A,R,M,P;let Z,N;if("message"in a)Z=a.message,N=a.signature;else{const{chain:it,wallet:ut,statement:at,options:Q}=a;let mt;if(nn())if(typeof ut=="object")mt=ut;else{const gt=window;if("solana"in gt&&typeof gt.solana=="object"&&("signIn"in gt.solana&&typeof gt.solana.signIn=="function"||"signMessage"in gt.solana&&typeof gt.solana.signMessage=="function"))mt=gt.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ut!="object"||!Q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");mt=ut}const zt=new URL((o=Q?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in mt&&mt.signIn){const gt=await mt.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Q?.signInWithSolana),{version:"1",domain:zt.host,uri:zt.href}),at?{statement:at}:null));let rt;if(Array.isArray(gt)&&gt[0]&&typeof gt[0]=="object")rt=gt[0];else if(gt&&typeof gt=="object"&&"signedMessage"in gt&&"signature"in gt)rt=gt;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in rt&&"signature"in rt&&(typeof rt.signedMessage=="string"||rt.signedMessage instanceof Uint8Array)&&rt.signature instanceof Uint8Array)Z=typeof rt.signedMessage=="string"?rt.signedMessage:new TextDecoder().decode(rt.signedMessage),N=rt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in mt)||typeof mt.signMessage!="function"||!("publicKey"in mt)||typeof mt!="object"||!mt.publicKey||!("toBase58"in mt.publicKey)||typeof mt.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Z=[`${zt.host} wants you to sign in with your Solana account:`,mt.publicKey.toBase58(),...at?["",at,""]:[""],"Version: 1",`URI: ${zt.href}`,`Issued At: ${(d=(u=Q?.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((p=Q?.signInWithSolana)===null||p===void 0)&&p.notBefore?[`Not Before: ${Q.signInWithSolana.notBefore}`]:[],...!((_=Q?.signInWithSolana)===null||_===void 0)&&_.expirationTime?[`Expiration Time: ${Q.signInWithSolana.expirationTime}`]:[],...!((w=Q?.signInWithSolana)===null||w===void 0)&&w.chainId?[`Chain ID: ${Q.signInWithSolana.chainId}`]:[],...!((y=Q?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${Q.signInWithSolana.nonce}`]:[],...!((b=Q?.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${Q.signInWithSolana.requestId}`]:[],...!((R=(A=Q?.signInWithSolana)===null||A===void 0?void 0:A.resources)===null||R===void 0)&&R.length?["Resources",...Q.signInWithSolana.resources.map(rt=>`- ${rt}`)]:[]].join(`
`);const gt=await mt.signMessage(new TextEncoder().encode(Z),"utf8");if(!gt||!(gt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=gt}}try{const{data:it,error:ut}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:Z,signature:Ds(N)},!((M=a.options)===null||M===void 0)&&M.captchaToken?{gotrue_meta_security:{captcha_token:(P=a.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:hi});if(ut)throw ut;if(!it||!it.session||!it.user){const at=new Er;return this._returnResult({data:{user:null,session:null},error:at})}return it.session&&(await this._saveSession(it.session),await this._notifyAllSubscribers("SIGNED_IN",it.session)),this._returnResult({data:Object.assign({},it),error:ut})}catch(it){if(Tt(it))return this._returnResult({data:{user:null,session:null},error:it});throw it}}async _exchangeCodeForSession(a){const o=await zs(this.storage,`${this.storageKey}-code-verifier`),[u,d]=(o??"").split("/");try{if(!u&&this.flowType==="pkce")throw new By;const{data:p,error:_}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:u},xform:hi});if(await en(this.storage,`${this.storageKey}-code-verifier`),_)throw _;if(!p||!p.session||!p.user){const w=new Er;return this._returnResult({data:{user:null,session:null,redirectType:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign(Object.assign({},p),{redirectType:d??null}),error:_})}catch(p){if(await en(this.storage,`${this.storageKey}-code-verifier`),Tt(p))return this._returnResult({data:{user:null,session:null,redirectType:null},error:p});throw p}}async signInWithIdToken(a){try{const{options:o,provider:u,token:d,access_token:p,nonce:_}=a,w=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:d,access_token:p,nonce:_,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:hi}),{data:y,error:b}=w;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!y||!y.session||!y.user){const A=new Er;return this._returnResult({data:{user:null,session:null},error:A})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:b})}catch(o){if(Tt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOtp(a){var o,u,d,p,_;try{if("email"in a){const{email:w,options:y}=a;let b=null,A=null;this.flowType==="pkce"&&([b,A]=await Ar(this.storage,this.storageKey));const{error:R}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:w,data:(o=y?.data)!==null&&o!==void 0?o:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:A},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in a){const{phone:w,options:y}=a,{data:b,error:A}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:w,data:(d=y?.data)!==null&&d!==void 0?d:{},create_user:(p=y?.shouldCreateUser)!==null&&p!==void 0?p:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(_=y?.channel)!==null&&_!==void 0?_:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b?.message_id},error:A})}throw new Au("You must provide either an email or phone number.")}catch(w){if(await en(this.storage,`${this.storageKey}-code-verifier`),Tt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async verifyOtp(a){var o,u;try{let d,p;"options"in a&&(d=(o=a.options)===null||o===void 0?void 0:o.redirectTo,p=(u=a.options)===null||u===void 0?void 0:u.captchaToken);const{data:_,error:w}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:p}}),redirectTo:d,xform:hi});if(w)throw w;if(!_)throw new Error("An error occurred on token verification.");const y=_.session,b=_.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:b,session:y},error:null})}catch(d){if(Tt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(a){var o,u,d,p,_;try{let w=null,y=null;this.flowType==="pkce"&&([w,y]=await Ar(this.storage,this.storageKey));const b=await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(u=(o=a.options)===null||o===void 0?void 0:o.redirectTo)!==null&&u!==void 0?u:void 0}),!((d=a?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:w,code_challenge_method:y}),headers:this.headers,xform:u0});return!((p=b.data)===null||p===void 0)&&p.url&&nn()&&!(!((_=a.options)===null||_===void 0)&&_.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(w){if(await en(this.storage,`${this.storageKey}-code-verifier`),Tt(w))return this._returnResult({data:null,error:w});throw w}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)throw u;if(!o)throw new Bn;const{error:d}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(Tt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const o=`${this.url}/resend`;if("email"in a){const{email:u,type:d,options:p}=a,{error:_}=await Ct(this.fetch,"POST",o,{headers:this.headers,body:{email:u,type:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}else if("phone"in a){const{phone:u,type:d,options:p}=a,{data:_,error:w}=await Ct(this.fetch,"POST",o,{headers:this.headers,body:{phone:u,type:d,gotrue_meta_security:{captcha_token:p?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:w})}throw new Au("You must provide either an email or phone number and a type")}catch(o){if(Tt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async o=>o))}async _acquireLock(a,o){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await u,await o()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=o();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await a(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const o=await zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?a=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const u=a.expires_at?a.expires_at*1e3-Date.now()<Hh:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",a.expires_at),!u){if(this.userStorage){const _=await zs(this.userStorage,this.storageKey+"-user");_?.user?a.user=_.user:a.user=Ih()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const _={value:this.suppressGetSessionWarning};a.user=s0(a.user,_),_.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:d,error:p}=await this._callRefreshToken(a.refresh_token);return p?this._returnResult({data:{session:null},error:p}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const o=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return o.data.user&&(this.suppressGetSessionWarning=!0),o}async _getUser(a){try{return a?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Ia}):await this._useSession(async o=>{var u,d,p;const{data:_,error:w}=o;if(w)throw w;return!(!((u=_.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(p=(d=_.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0,xform:Ia})})}catch(o){if(Tt(o))return Dy(o)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:o});throw o}}async updateUser(a,o={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,o))}async _updateUser(a,o={}){try{return await this._useSession(async u=>{const{data:d,error:p}=u;if(p)throw p;if(!d.session)throw new Bn;const _=d.session;let w=null,y=null;this.flowType==="pkce"&&a.email!=null&&([w,y]=await Ar(this.storage,this.storageKey));const{data:b,error:A}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:w,code_challenge_method:y}),jwt:_.access_token,xform:Ia});if(A)throw A;return _.user=b.user,await this._saveSession(_),await this._notifyAllSubscribers("USER_UPDATED",_),this._returnResult({data:{user:_.user},error:null})})}catch(u){if(await en(this.storage,`${this.storageKey}-code-verifier`),Tt(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Bn;const o=Date.now()/1e3;let u=o,d=!0,p=null;const{payload:_}=Zh(a.access_token);if(_.exp&&(u=_.exp,d=u<=o),d){const{data:w,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!w)return{data:{user:null,session:null},error:null};p=w}else{const{data:w,error:y}=await this._getUser(a.access_token);if(y)throw y;p={access_token:a.access_token,refresh_token:a.refresh_token,user:w.user,token_type:"bearer",expires_in:u-o,expires_at:u},await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)}return this._returnResult({data:{user:p.user,session:p},error:null})}catch(o){if(Tt(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async o=>{var u;if(!a){const{data:_,error:w}=o;if(w)throw w;a=(u=_.session)!==null&&u!==void 0?u:void 0}if(!a?.refresh_token)throw new Bn;const{data:d,error:p}=await this._callRefreshToken(a.refresh_token);return p?this._returnResult({data:{user:null,session:null},error:p}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(o){if(Tt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async _getSessionFromURL(a,o){try{if(!nn())throw new Ou("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ou(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new Np("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ou("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Np("No code detected.");const{data:at,error:Q}=await this._exchangeCodeForSession(a.code);if(Q)throw Q;const mt=new URL(window.location.href);return mt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",mt.toString()),{data:{session:at.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:d,access_token:p,refresh_token:_,expires_in:w,expires_at:y,token_type:b}=a;if(!p||!w||!_||!b)throw new Ou("No session defined in URL");const A=Math.round(Date.now()/1e3),R=parseInt(w);let M=A+R;y&&(M=parseInt(y));const P=M-A;P*1e3<=Lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${R}s`);const Z=M-R;A-Z>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Z,M,A):A-Z<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Z,M,A);const{data:N,error:it}=await this._getUser(p);if(it)throw it;const ut={provider_token:u,provider_refresh_token:d,access_token:p,expires_in:R,expires_at:M,refresh_token:_,token_type:b,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:ut,redirectType:a.type},error:null})}catch(u){if(Tt(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const o=await zs(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&o)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({error:p});const _=(u=d.session)===null||u===void 0?void 0:u.access_token;if(_){const{error:w}=await this.admin.signOut(_,a);if(w&&!(jy(w)&&(w.status===404||w.status===401||w.status===403)))return this._returnResult({error:w})}return a!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const o=Vy(),u={id:o,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:u}}}async _emitInitialSession(a){return await this._useSession(async o=>{var u,d;try{const{data:{session:p},error:_}=o;if(_)throw _;await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",p)),this._debug("INITIAL_SESSION","callback id",a,"session",p)}catch(p){await((d=this.stateChangeEmitters.get(a))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",p),console.error(p)}})}async resetPasswordForEmail(a,o={}){let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ar(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:u,code_challenge_method:d,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(p){if(await en(this.storage,`${this.storageKey}-code-verifier`),Tt(p))return this._returnResult({data:null,error:p});throw p}}async getUserIdentities(){var a;try{const{data:o,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(a=o.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(o){if(Tt(o))return this._returnResult({data:null,error:o});throw o}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var o;try{const{data:u,error:d}=await this._useSession(async p=>{var _,w,y,b,A;const{data:R,error:M}=p;if(M)throw M;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(_=a.options)===null||_===void 0?void 0:_.redirectTo,scopes:(w=a.options)===null||w===void 0?void 0:w.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",P,{headers:this.headers,jwt:(A=(b=R.session)===null||b===void 0?void 0:b.access_token)!==null&&A!==void 0?A:void 0})});if(d)throw d;return nn()&&!(!((o=a.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u?.url),this._returnResult({data:{provider:a.provider,url:u?.url},error:null})}catch(u){if(Tt(u))return this._returnResult({data:{provider:a.provider,url:null},error:u});throw u}}async linkIdentityIdToken(a){return await this._useSession(async o=>{var u;try{const{error:d,data:{session:p}}=o;if(d)throw d;const{options:_,provider:w,token:y,access_token:b,nonce:A}=a,R=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=p?.access_token)!==null&&u!==void 0?u:void 0,body:{provider:w,id_token:y,access_token:b,nonce:A,link_identity:!0,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:hi}),{data:M,error:P}=R;return P?this._returnResult({data:{user:null,session:null},error:P}):!M||!M.session||!M.user?this._returnResult({data:{user:null,session:null},error:new Er}):(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("USER_UPDATED",M.session)),this._returnResult({data:M,error:P}))}catch(d){if(await en(this.storage,`${this.storageKey}-code-verifier`),Tt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(a){try{return await this._useSession(async o=>{var u,d;const{data:p,error:_}=o;if(_)throw _;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})})}catch(o){if(Tt(o))return this._returnResult({data:null,error:o});throw o}}async _refreshAccessToken(a){const o=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{const u=Date.now();return await Xy(async d=>(d>0&&await $y(200*Math.pow(2,d-1)),this._debug(o,"refreshing attempt",d),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:hi})),(d,p)=>{const _=200*Math.pow(2,d);return p&&qh(p)&&Date.now()+_-u<Lr})}catch(u){if(this._debug(o,"error",u),Tt(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(o,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,o){const u=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",o,"url",u),nn()&&!o.skipBrowserRedirect&&window.location.assign(u),{data:{provider:a,url:u},error:null}}async _recoverAndRefresh(){var a,o;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const d=await zs(this.storage,this.storageKey);if(d&&this.userStorage){let _=await zs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!_&&(_={user:d.user},await zr(this.userStorage,this.storageKey+"-user",_)),d.user=(a=_?.user)!==null&&a!==void 0?a:Ih()}else if(d&&!d.user&&!d.user){const _=await zs(this.storage,this.storageKey+"-user");_&&_?.user?(d.user=_.user,await en(this.storage,this.storageKey+"-user"),await zr(this.storage,this.storageKey,d)):d.user=Ih()}if(this._debug(u,"session from storage",d),!this._isValidSession(d)){this._debug(u,"session is not valid"),d!==null&&await this._removeSession();return}const p=((o=d.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Hh;if(this._debug(u,`session has${p?"":" not"} expired with margin of ${Hh}s`),p){if(this.autoRefreshToken&&d.refresh_token){const{error:_}=await this._callRefreshToken(d.refresh_token);_&&(console.error(_),qh(_)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",_),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:_,error:w}=await this._getUser(d.access_token);!w&&_?.user?(d.user=_.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(_){console.error("Error getting user data:",_),this._debug(u,"error getting user data, skipping SIGNED_IN notification",_)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(u,"error",d),console.error(d);return}finally{this._debug(u,"end")}}async _callRefreshToken(a){var o,u;if(!a)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Nu;const{data:p,error:_}=await this._refreshAccessToken(a);if(_)throw _;if(!p.session)throw new Bn;await this._saveSession(p.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",p.session);const w={data:p.session,error:null};return this.refreshingDeferred.resolve(w),w}catch(p){if(this._debug(d,"error",p),Tt(p)){const _={data:null,error:p};return qh(p)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(_),_}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(p),p}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,o,u=!0){const d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",o,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:a,session:o});const p=[],_=Array.from(this.stateChangeEmitters.values()).map(async w=>{try{await w.callback(a,o)}catch(y){p.push(y)}});if(await Promise.all(_),p.length>0){for(let w=0;w<p.length;w+=1)console.error(p[w]);throw p[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await en(this.storage,`${this.storageKey}-code-verifier`);const o=Object.assign({},a),u=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&o.user&&await zr(this.userStorage,this.storageKey+"-user",{user:o.user});const d=Object.assign({},o);delete d.user;const p=Pp(d);await zr(this.storage,this.storageKey,p)}else{const d=Pp(o);await zr(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&nn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Lr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const o=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=o,o&&typeof o=="object"&&typeof o.unref=="function"?o.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(o)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const o=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,o&&clearTimeout(o)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async o=>{const{data:{session:u}}=o;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((u.expires_at*1e3-a)/Lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Lr}ms, refresh threshold is ${tf} ticks`),d<=tf&&await this._callRefreshToken(u.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof b_)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const o=`#_onVisibilityChanged(${a})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,o,u){const d=[`provider=${encodeURIComponent(o)}`];if(u?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&d.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[p,_]=await Ar(this.storage,this.storageKey),w=new URLSearchParams({code_challenge:`${encodeURIComponent(p)}`,code_challenge_method:`${encodeURIComponent(_)}`});d.push(w.toString())}if(u?.queryParams){const p=new URLSearchParams(u.queryParams);d.push(p.toString())}return u?.skipBrowserRedirect&&d.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;return p?this._returnResult({data:null,error:p}):await Ct(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token})})}catch(o){if(Tt(o))return this._returnResult({data:null,error:o});throw o}}async _enroll(a){try{return await this._useSession(async o=>{var u,d;const{data:p,error:_}=o;if(_)return this._returnResult({data:null,error:_});const w=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:b}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:w,headers:this.headers,jwt:(u=p?.session)===null||u===void 0?void 0:u.access_token});return b?this._returnResult({data:null,error:b}):(a.factorType==="totp"&&y.type==="totp"&&(!((d=y?.totp)===null||d===void 0)&&d.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(o){if(Tt(o))return this._returnResult({data:null,error:o});throw o}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({data:null,error:p});const _=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?E0(a.webauthn.credential_response):A0(a.webauthn.credential_response)})}:{code:a.code}),{data:w,error:y}=await Ct(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:_,headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+w.expires_in},w)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",w),this._returnResult({data:w,error:y}))})}catch(o){if(Tt(o))return this._returnResult({data:null,error:o});throw o}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({data:null,error:p});const _=await Ct(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token});if(_.error)return _;const{data:w}=_;if(w.type!=="webauthn")return{data:w,error:null};switch(w.webauthn.type){case"create":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:T0(w.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:x0(w.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(o){if(Tt(o))return this._returnResult({data:null,error:o});throw o}})}async _challengeAndVerify(a){const{data:o,error:u}=await this._challenge({factorId:a.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:a.factorId,challengeId:o.id,code:a.code})}async _listFactors(){var a;const{data:{user:o},error:u}=await this.getUser();if(u)return{data:null,error:u};const d={all:[],phone:[],totp:[],webauthn:[]};for(const p of(a=o?.factors)!==null&&a!==void 0?a:[])d.all.push(p),p.status==="verified"&&d[p.factor_type].push(p);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var a,o;const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Zh(u.access_token);let _=null;p.aal&&(_=p.aal);let w=_;((o=(a=u.user.factors)===null||a===void 0?void 0:a.filter(A=>A.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(w="aal2");const b=p.amr||[];return{data:{currentLevel:_,nextLevel:w,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;return d?this._returnResult({data:null,error:d}):u?await Ct(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:u.access_token,xform:p=>({data:p,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(o){if(Tt(o))return this._returnResult({data:null,error:o});throw o}}async _approveAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:d},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!d)return this._returnResult({data:null,error:new Bn});const _=await Ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:w=>({data:w,error:null})});return _.data&&_.data.redirect_url&&nn()&&!o?.skipBrowserRedirect&&window.location.assign(_.data.redirect_url),_})}catch(u){if(Tt(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:d},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!d)return this._returnResult({data:null,error:new Bn});const _=await Ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:w=>({data:w,error:null})});return _.data&&_.data.redirect_url&&nn()&&!o?.skipBrowserRedirect&&window.location.assign(_.data.redirect_url),_})}catch(u){if(Tt(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;return u?this._returnResult({data:null,error:u}):o?await Ct(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(a){if(Tt(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;return d?this._returnResult({data:null,error:d}):u?(await Ct(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bn})})}catch(o){if(Tt(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(a,o={keys:[]}){let u=o.keys.find(w=>w.kid===a);if(u)return u;const d=Date.now();if(u=this.jwks.keys.find(w=>w.kid===a),u&&this.jwks_cached_at+My>d)return u;const{data:p,error:_}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(_)throw _;return!p.keys||p.keys.length===0||(this.jwks=p,this.jwks_cached_at=d,u=p.keys.find(w=>w.kid===a),!u)?null:u}async getClaims(a,o={}){try{let u=a;if(!u){const{data:P,error:Z}=await this.getSession();if(Z||!P.session)return this._returnResult({data:null,error:Z});u=P.session.access_token}const{header:d,payload:p,signature:_,raw:{header:w,payload:y}}=Zh(u);o?.allowExpired||n0(p.exp);const b=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!b){const{error:P}=await this.getUser(u);if(P)throw P;return{data:{claims:p,header:d,signature:_},error:null}}const A=i0(d.alg),R=await crypto.subtle.importKey("jwk",b,A,!0,["verify"]);if(!await crypto.subtle.verify(A,R,_,Iy(`${w}.${y}`)))throw new af("Invalid JWT signature");return{data:{claims:p,header:d,signature:_},error:null}}catch(u){if(Tt(u))return this._returnResult({data:null,error:u});throw u}}}$o.nextInstanceID={};const j0=$o,D0="2.90.1";let qo="";typeof Deno<"u"?qo="deno":typeof document<"u"?qo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qo="react-native":qo="node";const U0={"X-Client-Info":`supabase-js-${qo}/${D0}`},B0={headers:U0},P0={schema:"public"},H0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q0={};function Xo(l){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Xo(l)}function Z0(l,a){if(Xo(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Xo(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function I0(l){var a=Z0(l,"string");return Xo(a)=="symbol"?a:a+""}function G0(l,a,o){return(a=I0(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function Kp(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,u)}return o}function ke(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Kp(Object(o),!0).forEach(function(u){G0(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):Kp(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const V0=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),K0=()=>Headers,Y0=(l,a,o)=>{const u=V0(o),d=K0();return async(p,_)=>{var w;const y=(w=await a())!==null&&w!==void 0?w:l;let b=new d(_?.headers);return b.has("apikey")||b.set("apikey",l),b.has("Authorization")||b.set("Authorization",`Bearer ${y}`),u(p,ke(ke({},_),{},{headers:b}))}};function $0(l){return l.endsWith("/")?l:l+"/"}function X0(l,a){var o,u;const{db:d,auth:p,realtime:_,global:w}=l,{db:y,auth:b,realtime:A,global:R}=a,M={db:ke(ke({},y),d),auth:ke(ke({},b),p),realtime:ke(ke({},A),_),storage:{},global:ke(ke(ke({},R),w),{},{headers:ke(ke({},(o=R?.headers)!==null&&o!==void 0?o:{}),(u=w?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return l.accessToken?M.accessToken=l.accessToken:delete M.accessToken,M}function J0(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($0(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Q0=class extends j0{constructor(l){super(l)}},W0=class{constructor(l,a,o){var u,d;this.supabaseUrl=l,this.supabaseKey=a;const p=J0(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const _=`sb-${p.hostname.split(".")[0]}-auth-token`,w={db:P0,realtime:q0,auth:ke(ke({},H0),{},{storageKey:_}),global:B0},y=X0(o??{},w);if(this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(A,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=y.auth)!==null&&b!==void 0?b:{},this.headers,y.global.fetch)}this.fetch=Y0(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(A=>this.realtime.setAuth(A)).catch(A=>console.warn("Failed to set initial Realtime auth token:",A)),this.rest=new Lv(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Cy(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Av(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,o)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,o;if(l.accessToken)return await l.accessToken();const{data:u}=await l.auth.getSession();return(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:d,storageKey:p,flowType:_,lock:w,debug:y,throwOnError:b},A,R){const M={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q0({url:this.authUrl.href,headers:ke(ke({},M),A),storageKey:p,autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:d,flowType:_,lock:w,debug:y,throwOnError:b,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new $v(this.realtimeUrl.href,ke(ke({},l),{},{params:ke(ke({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a?.access_token)})}_handleTokenChanged(l,a,o){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const F0=(l,a,o)=>new W0(l,a,o);function tb(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const a=l.version;if(a==null)return!1;const o=a.match(/^v(\d+)\./);return o?parseInt(o[1],10)<=18:!1}tb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eb="https://vkhomoxzjdmdwzswsiin.supabase.co",nb="sb_publishable_oI77V7iOjy607qi0EOInGQ_MaCTd1fH",Wn=F0(eb,nb);var Cu={exports:{}};var ib=Cu.exports,Yp;function ab(){return Yp||(Yp=1,(function(l,a){((o,u)=>{l.exports=u()})(ib,function o(){var u=typeof self<"u"?self:typeof window<"u"?window:u!==void 0?u:{},d,p=!u.document&&!!u.postMessage,_=u.IS_PAPA_WORKER||!1,w={},y=0,b={};function A(z){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var W=zt(C);W.chunkSize=parseInt(W.chunkSize),C.step||C.chunk||(W.chunkSize=null),this._handle=new N(W),(this._handle.streamer=this)._config=W}).call(this,z),this.parseChunk=function(C,W){var ht=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<ht){let At=this._config.newline;At||(ot=this._config.quoteChar||'"',At=this._handle.guessLineEndings(C,ot)),C=[...C.split(At).slice(ht)].join(At)}this.isFirstChunk&&rt(this._config.beforeFirstChunk)&&(ot=this._config.beforeFirstChunk(C))!==void 0&&(C=ot),this.isFirstChunk=!1,this._halted=!1;var ht=this._partialLine+C,ot=(this._partialLine="",this._handle.parse(ht,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=ot.meta.cursor,ht=(this._finished||(this._partialLine=ht.substring(C-this._baseIndex),this._baseIndex=C),ot&&ot.data&&(this._rowCount+=ot.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),_)u.postMessage({results:ot,workerId:b.WORKER_ID,finished:ht});else if(rt(this._config.chunk)&&!W){if(this._config.chunk(ot,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=ot=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ot.data),this._completeResults.errors=this._completeResults.errors.concat(ot.errors),this._completeResults.meta=ot.meta),this._completed||!ht||!rt(this._config.complete)||ot&&ot.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ht||ot&&ot.meta.paused||this._nextChunk(),ot}this._halted=!0},this._sendError=function(C){rt(this._config.error)?this._config.error(C):_&&this._config.error&&u.postMessage({workerId:b.WORKER_ID,error:C,finished:!1})}}function R(z){var C;(z=z||{}).chunkSize||(z.chunkSize=b.RemoteChunkSize),A.call(this,z),this._nextChunk=p?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),p||(C.onload=gt(this._chunkLoaded,this),C.onerror=gt(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!p),this._config.downloadRequestHeaders){var W,ht=this._config.downloadRequestHeaders;for(W in ht)C.setRequestHeader(W,ht[W])}var ot;this._config.chunkSize&&(ot=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+ot));try{C.send(this._config.downloadRequestBody)}catch(At){this._chunkError(At.message)}p&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(W=>(W=W.getResponseHeader("Content-Range"))!==null?parseInt(W.substring(W.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(W){W=C.statusText||W,this._sendError(new Error(W))}}function M(z){(z=z||{}).chunkSize||(z.chunkSize=b.LocalChunkSize),A.call(this,z);var C,W,ht=typeof FileReader<"u";this.stream=function(ot){this._input=ot,W=ot.slice||ot.webkitSlice||ot.mozSlice,ht?((C=new FileReader).onload=gt(this._chunkLoaded,this),C.onerror=gt(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ot=this._input,At=(this._config.chunkSize&&(At=Math.min(this._start+this._config.chunkSize,this._input.size),ot=W.call(ot,this._start,At)),C.readAsText(ot,this._config.encoding));ht||this._chunkLoaded({target:{result:At}})},this._chunkLoaded=function(ot){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ot.target.result)},this._chunkError=function(){this._sendError(C.error)}}function P(z){var C;A.call(this,z=z||{}),this.stream=function(W){return C=W,this._nextChunk()},this._nextChunk=function(){var W,ht;if(!this._finished)return W=this._config.chunkSize,C=W?(ht=C.substring(0,W),C.substring(W)):(ht=C,""),this._finished=!C,this.parseChunk(ht)}}function Z(z){A.call(this,z=z||{});var C=[],W=!0,ht=!1;this.pause=function(){A.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){A.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ot){this._input=ot,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ht&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):W=!0},this._streamData=gt(function(ot){try{C.push(typeof ot=="string"?ot:ot.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(At){this._streamError(At)}},this),this._streamError=gt(function(ot){this._streamCleanUp(),this._sendError(ot)},this),this._streamEnd=gt(function(){this._streamCleanUp(),ht=!0,this._streamData("")},this),this._streamCleanUp=gt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function N(z){var C,W,ht,ot,At=Math.pow(2,53),Dt=-At,ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,F=0,dt=0,ct=!1,x=!1,j=[],K={data:[],errors:[],meta:{}};function nt(_t){return z.skipEmptyLines==="greedy"?_t.join("").trim()==="":_t.length===1&&_t[0].length===0}function st(){if(K&&ht&&(St("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+b.DefaultDelimiter+"'"),ht=!1),z.skipEmptyLines&&(K.data=K.data.filter(function(Zt){return!nt(Zt)})),lt()){let Zt=function(Ut,Yt){rt(z.transformHeader)&&(Ut=z.transformHeader(Ut,Yt)),j.push(Ut)};var kt=Zt;if(K)if(Array.isArray(K.data[0])){for(var _t=0;lt()&&_t<K.data.length;_t++)K.data[_t].forEach(Zt);K.data.splice(0,1)}else K.data.forEach(Zt)}function bt(Zt,Ut){for(var Yt=z.header?{}:[],Wt=0;Wt<Zt.length;Wt++){var Mt=Wt,Ee=Zt[Wt],Ee=((qt,se)=>(_e=>(z.dynamicTypingFunction&&z.dynamicTyping[_e]===void 0&&(z.dynamicTyping[_e]=z.dynamicTypingFunction(_e)),(z.dynamicTyping[_e]||z.dynamicTyping)===!0))(qt)?se==="true"||se==="TRUE"||se!=="false"&&se!=="FALSE"&&((_e=>{if(ue.test(_e)&&(_e=parseFloat(_e),Dt<_e&&_e<At))return 1})(se)?parseFloat(se):V.test(se)?new Date(se):se===""?null:se):se)(Mt=z.header?Wt>=j.length?"__parsed_extra":j[Wt]:Mt,Ee=z.transform?z.transform(Ee,Mt):Ee);Mt==="__parsed_extra"?(Yt[Mt]=Yt[Mt]||[],Yt[Mt].push(Ee)):Yt[Mt]=Ee}return z.header&&(Wt>j.length?St("FieldMismatch","TooManyFields","Too many fields: expected "+j.length+" fields but parsed "+Wt,dt+Ut):Wt<j.length&&St("FieldMismatch","TooFewFields","Too few fields: expected "+j.length+" fields but parsed "+Wt,dt+Ut)),Yt}var Qt;K&&(z.header||z.dynamicTyping||z.transform)&&(Qt=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(bt),Qt=K.data.length):K.data=bt(K.data,0),z.header&&K.meta&&(K.meta.fields=j),dt+=Qt)}function lt(){return z.header&&j.length===0}function St(_t,bt,Qt,kt){_t={type:_t,code:bt,message:Qt},kt!==void 0&&(_t.row=kt),K.errors.push(_t)}rt(z.step)&&(ot=z.step,z.step=function(_t){K=_t,lt()?st():(st(),K.data.length!==0&&(F+=_t.data.length,z.preview&&F>z.preview?W.abort():(K.data=K.data[0],ot(K,X))))}),this.parse=function(_t,bt,Qt){var kt=z.quoteChar||'"',kt=(z.newline||(z.newline=this.guessLineEndings(_t,kt)),ht=!1,z.delimiter?rt(z.delimiter)&&(z.delimiter=z.delimiter(_t),K.meta.delimiter=z.delimiter):((kt=((Zt,Ut,Yt,Wt,Mt)=>{var Ee,qt,se,_e;Mt=Mt||[",","	","|",";",b.RECORD_SEP,b.UNIT_SEP];for(var dn=0;dn<Mt.length;dn++){for(var ln,mi=Mt[dn],Ft=0,mn=0,ve=0,Me=(se=void 0,new ut({comments:Wt,delimiter:mi,newline:Ut,preview:10}).parse(Zt)),Je=0;Je<Me.data.length;Je++)Yt&&nt(Me.data[Je])?ve++:(ln=Me.data[Je].length,mn+=ln,se===void 0?se=ln:0<ln&&(Ft+=Math.abs(ln-se),se=ln));0<Me.data.length&&(mn/=Me.data.length-ve),(qt===void 0||Ft<=qt)&&(_e===void 0||_e<mn)&&1.99<mn&&(qt=Ft,Ee=mi,_e=mn)}return{successful:!!(z.delimiter=Ee),bestDelimiter:Ee}})(_t,z.newline,z.skipEmptyLines,z.comments,z.delimitersToGuess)).successful?z.delimiter=kt.bestDelimiter:(ht=!0,z.delimiter=b.DefaultDelimiter),K.meta.delimiter=z.delimiter),zt(z));return z.preview&&z.header&&kt.preview++,C=_t,W=new ut(kt),K=W.parse(C,bt,Qt),st(),ct?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return ct},this.pause=function(){ct=!0,W.abort(),C=rt(z.chunk)?"":C.substring(W.getCharIndex())},this.resume=function(){X.streamer._halted?(ct=!1,X.streamer.parseChunk(C,!0)):setTimeout(X.resume,3)},this.aborted=function(){return x},this.abort=function(){x=!0,W.abort(),K.meta.aborted=!0,rt(z.complete)&&z.complete(K),C=""},this.guessLineEndings=function(Zt,kt){Zt=Zt.substring(0,1048576);var kt=new RegExp(it(kt)+"([^]*?)"+it(kt),"gm"),Qt=(Zt=Zt.replace(kt,"")).split("\r"),kt=Zt.split(`
`),Zt=1<kt.length&&kt[0].length<Qt[0].length;if(Qt.length===1||Zt)return`
`;for(var Ut=0,Yt=0;Yt<Qt.length;Yt++)Qt[Yt][0]===`
`&&Ut++;return Ut>=Qt.length/2?`\r
`:"\r"}}function it(z){return z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ut(z){var C=(z=z||{}).delimiter,W=z.newline,ht=z.comments,ot=z.step,At=z.preview,Dt=z.fastMode,ue=null,V=!1,X=z.quoteChar==null?'"':z.quoteChar,F=X;if(z.escapeChar!==void 0&&(F=z.escapeChar),(typeof C!="string"||-1<b.BAD_DELIMITERS.indexOf(C))&&(C=","),ht===C)throw new Error("Comment character same as delimiter");ht===!0?ht="#":(typeof ht!="string"||-1<b.BAD_DELIMITERS.indexOf(ht))&&(ht=!1),W!==`
`&&W!=="\r"&&W!==`\r
`&&(W=`
`);var dt=0,ct=!1;this.parse=function(x,j,K){if(typeof x!="string")throw new Error("Input must be a string");var nt=x.length,st=C.length,lt=W.length,St=ht.length,_t=rt(ot),bt=[],Qt=[],kt=[],Zt=dt=0;if(!x)return Ft();if(Dt||Dt!==!1&&x.indexOf(X)===-1){for(var Ut=x.split(W),Yt=0;Yt<Ut.length;Yt++){if(kt=Ut[Yt],dt+=kt.length,Yt!==Ut.length-1)dt+=W.length;else if(K)return Ft();if(!ht||kt.substring(0,St)!==ht){if(_t){if(bt=[],_e(kt.split(C)),mn(),ct)return Ft()}else _e(kt.split(C));if(At&&At<=Yt)return bt=bt.slice(0,At),Ft(!0)}}return Ft()}for(var Wt=x.indexOf(C,dt),Mt=x.indexOf(W,dt),Ee=new RegExp(it(F)+it(X),"g"),qt=x.indexOf(X,dt);;)if(x[dt]===X)for(qt=dt,dt++;;){if((qt=x.indexOf(X,qt+1))===-1)return K||Qt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:bt.length,index:dt}),ln();if(qt===nt-1)return ln(x.substring(dt,qt).replace(Ee,X));if(X===F&&x[qt+1]===F)qt++;else if(X===F||qt===0||x[qt-1]!==F){Wt!==-1&&Wt<qt+1&&(Wt=x.indexOf(C,qt+1));var se=dn((Mt=Mt!==-1&&Mt<qt+1?x.indexOf(W,qt+1):Mt)===-1?Wt:Math.min(Wt,Mt));if(x.substr(qt+1+se,st)===C){kt.push(x.substring(dt,qt).replace(Ee,X)),x[dt=qt+1+se+st]!==X&&(qt=x.indexOf(X,dt)),Wt=x.indexOf(C,dt),Mt=x.indexOf(W,dt);break}if(se=dn(Mt),x.substring(qt+1+se,qt+1+se+lt)===W){if(kt.push(x.substring(dt,qt).replace(Ee,X)),mi(qt+1+se+lt),Wt=x.indexOf(C,dt),qt=x.indexOf(X,dt),_t&&(mn(),ct))return Ft();if(At&&bt.length>=At)return Ft(!0);break}Qt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:bt.length,index:dt}),qt++}}else if(ht&&kt.length===0&&x.substring(dt,dt+St)===ht){if(Mt===-1)return Ft();dt=Mt+lt,Mt=x.indexOf(W,dt),Wt=x.indexOf(C,dt)}else if(Wt!==-1&&(Wt<Mt||Mt===-1))kt.push(x.substring(dt,Wt)),dt=Wt+st,Wt=x.indexOf(C,dt);else{if(Mt===-1)break;if(kt.push(x.substring(dt,Mt)),mi(Mt+lt),_t&&(mn(),ct))return Ft();if(At&&bt.length>=At)return Ft(!0)}return ln();function _e(ve){bt.push(ve),Zt=dt}function dn(ve){var Me=0;return Me=ve!==-1&&(ve=x.substring(qt+1,ve))&&ve.trim()===""?ve.length:Me}function ln(ve){return K||(ve===void 0&&(ve=x.substring(dt)),kt.push(ve),dt=nt,_e(kt),_t&&mn()),Ft()}function mi(ve){dt=ve,_e(kt),kt=[],Mt=x.indexOf(W,dt)}function Ft(ve){if(z.header&&!j&&bt.length&&!V){var Me=bt[0],Je=Object.create(null),Ga=new Set(Me);let aa=!1;for(let Fn=0;Fn<Me.length;Fn++){let pn=Me[Fn];if(Je[pn=rt(z.transformHeader)?z.transformHeader(pn,Fn):pn]){let _n,Ne=Je[pn];for(;_n=pn+"_"+Ne,Ne++,Ga.has(_n););Ga.add(_n),Me[Fn]=_n,Je[pn]++,aa=!0,(ue=ue===null?{}:ue)[_n]=pn}else Je[pn]=1,Me[Fn]=pn;Ga.add(pn)}aa&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:bt,errors:Qt,meta:{delimiter:C,linebreak:W,aborted:ct,truncated:!!ve,cursor:Zt+(j||0),renamedHeaders:ue}}}function mn(){ot(Ft()),bt=[],Qt=[]}},this.abort=function(){ct=!0},this.getCharIndex=function(){return dt}}function at(z){var C=z.data,W=w[C.workerId],ht=!1;if(C.error)W.userError(C.error,C.file);else if(C.results&&C.results.data){var ot={abort:function(){ht=!0,Q(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:mt,resume:mt};if(rt(W.userStep)){for(var At=0;At<C.results.data.length&&(W.userStep({data:C.results.data[At],errors:C.results.errors,meta:C.results.meta},ot),!ht);At++);delete C.results}else rt(W.userChunk)&&(W.userChunk(C.results,ot,C.file),delete C.results)}C.finished&&!ht&&Q(C.workerId,C.results)}function Q(z,C){var W=w[z];rt(W.userComplete)&&W.userComplete(C),W.terminate(),delete w[z]}function mt(){throw new Error("Not implemented.")}function zt(z){if(typeof z!="object"||z===null)return z;var C,W=Array.isArray(z)?[]:{};for(C in z)W[C]=zt(z[C]);return W}function gt(z,C){return function(){z.apply(C,arguments)}}function rt(z){return typeof z=="function"}return b.parse=function(z,C){var W=(C=C||{}).dynamicTyping||!1;if(rt(W)&&(C.dynamicTypingFunction=W,W={}),C.dynamicTyping=W,C.transform=!!rt(C.transform)&&C.transform,!C.worker||!b.WORKERS_SUPPORTED)return W=null,b.NODE_STREAM_INPUT,typeof z=="string"?(z=(ht=>ht.charCodeAt(0)!==65279?ht:ht.slice(1))(z),W=new(C.download?R:P)(C)):z.readable===!0&&rt(z.read)&&rt(z.on)?W=new Z(C):(u.File&&z instanceof File||z instanceof Object)&&(W=new M(C)),W.stream(z);(W=(()=>{var ht;return!!b.WORKERS_SUPPORTED&&(ht=(()=>{var ot=u.URL||u.webkitURL||null,At=o.toString();return b.BLOB_URL||(b.BLOB_URL=ot.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",At,")();"],{type:"text/javascript"})))})(),(ht=new u.Worker(ht)).onmessage=at,ht.id=y++,w[ht.id]=ht)})()).userStep=C.step,W.userChunk=C.chunk,W.userComplete=C.complete,W.userError=C.error,C.step=rt(C.step),C.chunk=rt(C.chunk),C.complete=rt(C.complete),C.error=rt(C.error),delete C.worker,W.postMessage({input:z,config:C,workerId:W.id})},b.unparse=function(z,C){var W=!1,ht=!0,ot=",",At=`\r
`,Dt='"',ue=Dt+Dt,V=!1,X=null,F=!1,dt=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||b.BAD_DELIMITERS.filter(function(j){return C.delimiter.indexOf(j)!==-1}).length||(ot=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(W=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(V=C.skipEmptyLines),typeof C.newline=="string"&&(At=C.newline),typeof C.quoteChar=="string"&&(Dt=C.quoteChar),typeof C.header=="boolean"&&(ht=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");X=C.columns}C.escapeChar!==void 0&&(ue=C.escapeChar+Dt),C.escapeFormulae instanceof RegExp?F=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(it(Dt),"g"));if(typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(z)){if(!z.length||Array.isArray(z[0]))return ct(null,z,V);if(typeof z[0]=="object")return ct(X||Object.keys(z[0]),z,V)}else if(typeof z=="object")return typeof z.data=="string"&&(z.data=JSON.parse(z.data)),Array.isArray(z.data)&&(z.fields||(z.fields=z.meta&&z.meta.fields||X),z.fields||(z.fields=Array.isArray(z.data[0])?z.fields:typeof z.data[0]=="object"?Object.keys(z.data[0]):[]),Array.isArray(z.data[0])||typeof z.data[0]=="object"||(z.data=[z.data])),ct(z.fields||[],z.data||[],V);throw new Error("Unable to serialize unrecognized input");function ct(j,K,nt){var st="",lt=(typeof j=="string"&&(j=JSON.parse(j)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(j)&&0<j.length),St=!Array.isArray(K[0]);if(lt&&ht){for(var _t=0;_t<j.length;_t++)0<_t&&(st+=ot),st+=x(j[_t],_t);0<K.length&&(st+=At)}for(var bt=0;bt<K.length;bt++){var Qt=(lt?j:K[bt]).length,kt=!1,Zt=lt?Object.keys(K[bt]).length===0:K[bt].length===0;if(nt&&!lt&&(kt=nt==="greedy"?K[bt].join("").trim()==="":K[bt].length===1&&K[bt][0].length===0),nt==="greedy"&&lt){for(var Ut=[],Yt=0;Yt<Qt;Yt++){var Wt=St?j[Yt]:Yt;Ut.push(K[bt][Wt])}kt=Ut.join("").trim()===""}if(!kt){for(var Mt=0;Mt<Qt;Mt++){0<Mt&&!Zt&&(st+=ot);var Ee=lt&&St?j[Mt]:Mt;st+=x(K[bt][Ee],Mt)}bt<K.length-1&&(!nt||0<Qt&&!Zt)&&(st+=At)}}return st}function x(j,K){var nt,st;return j==null?"":j.constructor===Date?JSON.stringify(j).slice(1,25):(st=!1,F&&typeof j=="string"&&F.test(j)&&(j="'"+j,st=!0),nt=j.toString().replace(dt,ue),(st=st||W===!0||typeof W=="function"&&W(j,K)||Array.isArray(W)&&W[K]||((lt,St)=>{for(var _t=0;_t<St.length;_t++)if(-1<lt.indexOf(St[_t]))return!0;return!1})(nt,b.BAD_DELIMITERS)||-1<nt.indexOf(ot)||nt.charAt(0)===" "||nt.charAt(nt.length-1)===" ")?Dt+nt+Dt:nt)}},b.RECORD_SEP="",b.UNIT_SEP="",b.BYTE_ORDER_MARK="\uFEFF",b.BAD_DELIMITERS=["\r",`
`,'"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!p&&!!u.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=",",b.Parser=ut,b.ParserHandle=N,b.NetworkStreamer=R,b.FileStreamer=M,b.StringStreamer=P,b.ReadableStreamStreamer=Z,u.jQuery&&((d=u.jQuery).fn.parse=function(z){var C=z.config||{},W=[];return this.each(function(At){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&u.FileReader)||!this.files||this.files.length===0)return!0;for(var Dt=0;Dt<this.files.length;Dt++)W.push({file:this.files[Dt],inputElem:this,instanceConfig:d.extend({},C)})}),ht(),this;function ht(){if(W.length===0)rt(z.complete)&&z.complete();else{var At,Dt,ue,V,X=W[0];if(rt(z.before)){var F=z.before(X.file,X.inputElem);if(typeof F=="object"){if(F.action==="abort")return At="AbortError",Dt=X.file,ue=X.inputElem,V=F.reason,void(rt(z.error)&&z.error({name:At},Dt,ue,V));if(F.action==="skip")return void ot();typeof F.config=="object"&&(X.instanceConfig=d.extend(X.instanceConfig,F.config))}else if(F==="skip")return void ot()}var dt=X.instanceConfig.complete;X.instanceConfig.complete=function(ct){rt(dt)&&dt(ct,X.file,X.inputElem),ot()},b.parse(X.file,X.instanceConfig)}}function ot(){W.splice(0,1),ht()}}),_&&(u.onmessage=function(z){z=z.data,b.WORKER_ID===void 0&&z&&(b.WORKER_ID=z.workerId),typeof z.input=="string"?u.postMessage({workerId:b.WORKER_ID,results:b.parse(z.input,z.config),finished:!0}):(u.File&&z.input instanceof File||z.input instanceof Object)&&(z=b.parse(z.input,z.config))&&u.postMessage({workerId:b.WORKER_ID,results:z,finished:!0})}),(R.prototype=Object.create(A.prototype)).constructor=R,(M.prototype=Object.create(A.prototype)).constructor=M,(P.prototype=Object.create(P.prototype)).constructor=P,(Z.prototype=Object.create(A.prototype)).constructor=Z,b})})(Cu)),Cu.exports}var sb=ab();const T_=sf(sb);let Vh=null;const $p=async()=>{if(Vh)return Vh;const l="/airport_tracker/",a=l.endsWith("/")?`${l}airports.csv`:`${l}/airports.csv`;console.log("Fetching airport database from:",a);const o=await fetch(a);if(!o.ok)throw new Error(`Failed to load airport database: ${o.statusText}`);const u=await o.text();return new Promise((d,p)=>{T_.parse(u,{header:!0,skipEmptyLines:!0,complete:_=>{console.log(`Parsed ${_.data.length} airports from database.`),Vh=_.data,d(_.data)},error:_=>p(_)})})},rb=()=>typeof window>"u"?!1:new URLSearchParams(window.location.search).has("share"),Wo=yv()(Sv((l,a)=>({airports:[],user:null,isLoading:!1,focusAirportId:null,setFocusAirportId:o=>l({focusAirportId:o}),focusBounds:null,setFocusBounds:o=>l({focusBounds:o}),isSharedView:rb(),setSharedView:o=>l({isSharedView:o}),setAirports:o=>l({airports:o}),mapLayer:"sectional",setMapLayer:o=>l({mapLayer:o}),setUser:async o=>{const u=a().user,d=a().airports;if(l({user:o}),o){if(console.log("User signed in:",o.email),await a().syncAirports(),!u&&d.length>0){const p=a().airports,_=d.filter(w=>!p.some(y=>y.code===w.code&&y.type===w.type));if(_.length>0){console.log(`Merging ${_.length} guest airports into account...`);const w=_.map(b=>({id:b.id,user_id:o.id,code:b.code,name:b.name,lat:b.lat,lng:b.lng,type:b.type,notes:b.notes,date_visited:b.dateVisited})),{error:y}=await Wn.from("airports").insert(w);y?(console.error("Merge error:",y),alert(`Failed to sync guest data: ${y.message}`)):await a().syncAirports()}}}else u&&(console.log("User signed out, clearing local pins."),l({airports:[]}))},syncAirports:async()=>{const{user:o}=a();if(l({isSharedView:!1}),!o)return;l({isLoading:!0});const{data:u,error:d}=await Wn.from("airports").select("*").eq("user_id",o.id);if(d)console.error("Sync error:",d),alert(`Cloud Sync Failed: ${d.message}
(Please ensure you ran the SQL script in your Supabase SQL Editor)`);else{const p=u.map(_=>({id:_.id,code:_.code,name:_.name,lat:_.lat,lng:_.lng,type:_.type,notes:_.notes,dateVisited:_.date_visited}));l({airports:p})}l({isLoading:!1})},addAirport:async o=>{const{user:u}=a();if(!a().airports.some(d=>d.code===o.code&&d.type===o.type)&&(l(d=>({airports:[...d.airports,o],focusAirportId:o.id})),u)){const{error:d}=await Wn.from("airports").insert({id:o.id,user_id:u.id,code:o.code,name:o.name,lat:o.lat,lng:o.lng,type:o.type,notes:o.notes,date_visited:o.dateVisited});d&&console.error("Supabase error:",d)}},addAirports:async o=>{const{user:u}=a();if(o.length!==0){if(o.length===1)l(d=>({airports:[...d.airports,...o],focusAirportId:o[0].id,focusBounds:null}));else{const d=o.map(p=>[p.lat,p.lng]);l(p=>({airports:[...p.airports,...o],focusAirportId:null,focusBounds:d}))}if(u){const d=o.map(_=>({id:_.id,user_id:u.id,code:_.code,name:_.name,lat:_.lat,lng:_.lng,type:_.type,notes:_.notes,date_visited:_.dateVisited})),{error:p}=await Wn.from("airports").insert(d);p&&(console.error("Supabase error:",p),alert(`Failed to save to cloud: ${p.message}`))}}},removeAirport:async o=>{const{user:u,focusAirportId:d}=a();if(l(p=>({airports:p.airports.filter(_=>_.id!==o),focusAirportId:d===o?null:d})),u){const{error:p}=await Wn.from("airports").delete().eq("id",o);p&&console.error("Supabase error:",p)}},getAirportByCode:o=>a().airports.find(u=>u.code===o),addManualAirport:async(o,u)=>{const d=o.trim().toUpperCase();try{const p=await $p();let _=p.find(M=>M.ident===d||M.iata_code===d||M.local_code===d||M.gps_code===d);if(!_){const M=p.filter(P=>P.name&&P.name.toUpperCase().includes(d));if(M.length===1)_=M[0];else if(M.length>1)return{status:"ambiguous",candidates:M.slice(0,10),message:`Multiple matches found for "${o}". Please select one:`}}if(!_)return{status:"not_found",message:`No exact code or name matches for "${o}".`};const w=o.trim().toUpperCase();if(/^[A-Z]{3}$/.test(w)&&_.ident!==w)return{status:"not_found",message:`Matched ${_.name} (${_.ident}), but skipping because "${w}" is likely a VOR waypoint, not the airport itself.`};let b=_.ident;if((_.iata_code===w||_.local_code===w)&&(b=w),a().airports.find(M=>M.code===b&&M.type===u))return{status:"success",message:`Airport ${b} (${_.name}) is already in your ${u} list.`};const R={id:crypto.randomUUID(),code:b,name:_.name,lat:parseFloat(_.latitude_deg),lng:parseFloat(_.longitude_deg),type:u,dateVisited:u==="visited"?new Date().toISOString().split("T")[0]:void 0,notes:`Manually added: "${o}".`};return await a().addAirport(R),{status:"success",message:`Added ${_.name} (${b})`}}catch(p){return console.error(p),{status:"not_found",message:"Database error"}}},importFlightLog:async o=>{const{airports:u}=a(),d=[],p=new Set,_=new Set(u.map(w=>w.code));try{const w=await $p(),y=new Map,b=(A,R)=>{if(!A)return;const M=y.get(A);if(!M){y.set(A,R);return}const P=Z=>{let N=0;return Z.iso_country==="US"&&(N+=10),Z.type==="large_airport"&&(N+=5),Z.type==="medium_airport"&&(N+=3),Z.type==="small_airport"&&(N+=1),Z.ident===A&&(N+=20),Z.type==="closed"&&(N-=100),N};P(R)>P(M)&&y.set(A,R)};return w.forEach(A=>{b(A.ident,A),b(A.icao_code,A),b(A.iata_code,A),b(A.gps_code,A),b(A.local_code,A)}),o.forEach(A=>{const R=(M,P)=>{if(!M)return;const Z=M.trim().toUpperCase();if(!Z)return;const N=y.get(Z);if(N){if(p.has(N.ident)||_.has(N.ident)||/^[A-Z]{3}$/.test(Z)&&N.ident!==Z)return;let ut=N.ident;if((N.iata_code===Z||N.local_code===Z)&&(ut=Z),_.has(ut)||p.has(ut))return;d.push({id:crypto.randomUUID(),code:ut,name:N.name,lat:parseFloat(N.latitude_deg),lng:parseFloat(N.longitude_deg),type:"visited",dateVisited:A.date,notes:"Imported from flight log.",source:P}),p.add(Z),p.add(N.ident),p.add(ut)}};R(A.from,"from"),R(A.to,"to"),A.route&&A.route.split(/[\s->]+/).filter(Boolean).forEach(P=>R(P,"route"))}),d}catch(w){throw console.error("Failed to map airports",w),w}},clearAirports:async()=>{const{user:o}=a();if(l({airports:[]}),o){const{error:u}=await Wn.from("airports").delete().eq("user_id",o.id);u&&console.error("Supabase error:",u)}},loadUserAirports:async o=>{l({isLoading:!0,isSharedView:!0});const{data:u,error:d}=await Wn.from("airports").select("*").eq("user_id",o);if(d)console.error("Error loading public airports:",d);else{const p=u.map(_=>({id:_.id,code:_.code,name:_.name,lat:_.lat,lng:_.lng,type:_.type,notes:_.notes,dateVisited:_.date_visited}));l({airports:p})}l({isLoading:!1})}}),{name:"airport-storage",partialize:l=>l.isSharedView?{}:{airports:l.airports}})),ob="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",lb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let ub=i_.icon({iconUrl:ob,shadowUrl:lb,iconSize:[25,41],iconAnchor:[12,41]});i_.Marker.prototype.options.icon=ub;const cb=({markerRefs:l})=>{const a=s_(),{focusAirportId:o,airports:u,setFocusAirportId:d,focusBounds:p,setFocusBounds:_}=Wo();return Et.useEffect(()=>{if(o){const w=u.find(b=>b.id===o),y=l.current.get(o);w&&y&&(a.flyTo([w.lat,w.lng],12,{duration:1.5}),setTimeout(()=>{y.openPopup(),d(null)},500))}},[o,u,a,l,d]),Et.useEffect(()=>{p&&p.length>0&&(a.fitBounds(p,{padding:[50,50],maxZoom:12,animate:!0,duration:1.5}),_(null))},[p,a,_]),null},hb=()=>{const l=s_(),[a,o]=Li.useState(l.getZoom());return Li.useEffect(()=>{const u=()=>{o(l.getZoom())};return l.on("zoomend",u),()=>{l.off("zoomend",u)}},[l]),B.jsx("div",{className:"leaflet-top leaflet-left",style:{marginTop:"10px",marginLeft:"10px",pointerEvents:"none"},children:B.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-lg border border-gray-200",children:[B.jsx("div",{className:"text-xs font-mono text-gray-500",children:"Zoom Level"}),B.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a})]})})},fb=()=>{const{airports:l,removeAirport:a,mapLayer:o}=Wo(),u=Et.useRef(new Map);return B.jsx("div",{className:"h-full w-full relative z-0",children:B.jsxs(fv,{center:[47.5,-122.2],zoom:8,minZoom:4,maxZoom:12,scrollWheelZoom:!0,className:"h-full w-full",children:[B.jsx(cb,{markerRefs:u}),B.jsx(hb,{}),B.jsx(Sp,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",detectRetina:!0}),o==="sectional"&&B.jsx(Sp,{attribution:'FAA VFR Sectional  <a href="https://www.faa.gov">FAA</a>',url:"https://tiles.arcgis.com/tiles/ssFJjBXIUyZDrSYZ/arcgis/rest/services/VFR_Sectional/MapServer/tile/{z}/{y}/{x}",minZoom:8,maxZoom:12,minNativeZoom:8,maxNativeZoom:14,detectRetina:!0,opacity:1,zIndex:100}),l.map(d=>B.jsx(dv,{position:[d.lat,d.lng],ref:p=>{p?u.current.set(d.id,p):u.current.delete(d.id)},children:B.jsx(mv,{children:B.jsxs("div",{className:"min-w-[120px]",children:[B.jsxs("div",{className:"font-bold flex justify-between items-center mb-1",children:[B.jsx("span",{children:d.code}),B.jsx("span",{className:`h-2 w-2 rounded-full ${d.type==="visited"?"bg-green-500":"bg-blue-500"}`})]}),B.jsx("div",{className:"text-sm mb-2",children:d.name}),B.jsx("div",{className:"text-[10px] uppercase font-bold text-gray-500 mb-2",children:d.type}),B.jsx("button",{onClick:()=>a(d.id),className:"w-full py-1 px-2 bg-red-50 text-red-600 text-xs rounded hover:bg-red-500 hover:text-white transition-colors border border-red-100",children:"Remove Airport"})]})})},d.id))]})})};const db=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mb=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,u)=>u?u.toUpperCase():o.toLowerCase()),Xp=l=>{const a=mb(l);return a.charAt(0).toUpperCase()+a.slice(1)},x_=(...l)=>l.filter((a,o,u)=>!!a&&a.trim()!==""&&u.indexOf(a)===o).join(" ").trim(),pb=l=>{for(const a in l)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var _b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gb=Et.forwardRef(({color:l="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:p,iconNode:_,...w},y)=>Et.createElement("svg",{ref:y,..._b,width:a,height:a,stroke:l,strokeWidth:u?Number(o)*24/Number(a):o,className:x_("lucide",d),...!p&&!pb(w)&&{"aria-hidden":"true"},...w},[..._.map(([b,A])=>Et.createElement(b,A)),...Array.isArray(p)?p:[p]]));const on=(l,a)=>{const o=Et.forwardRef(({className:u,...d},p)=>Et.createElement(gb,{ref:p,iconNode:a,className:x_(`lucide-${db(Xp(l))}`,`lucide-${l}`,u),...d}));return o.displayName=Xp(l),o};const vb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yb=on("check",vb);const bb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],wb=on("list",bb);const Sb=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Jp=on("log-in",Sb);const Tb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xb=on("log-out",Tb);const Eb=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ab=on("map",Eb);const Ob=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Cb=on("plane",Ob);const Rb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kb=on("search",Rb);const Lb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zb=on("settings",Lb);const Mb=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Nb=on("share-2",Mb);const jb=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qp=on("square-check-big",jb);const Db=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Wp=on("square",Db);const Ub=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fp=on("trash-2",Ub);const Bb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Pb=on("upload",Bb);const Hb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qb=on("user-plus",Hb);const Zb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ib=on("user",Zb);const Gb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vb=on("x",Gb),Kb=()=>{const{user:l,setUser:a}=Wo(),[o,u]=Et.useState(""),[d,p]=Et.useState(""),[_,w]=Et.useState(!1),[y,b]=Et.useState("login"),[A,R]=Et.useState(!1);Et.useEffect(()=>{Wn.auth.getSession().then(({data:{session:N}})=>{a(N?.user??null)});const{data:{subscription:Z}}=Wn.auth.onAuthStateChange((N,it)=>{a(it?.user??null)});return()=>Z.unsubscribe()},[a]);const M=async Z=>{Z.preventDefault(),w(!0);try{if(y==="login"){const{error:N}=await Wn.auth.signInWithPassword({email:o,password:d});if(N)throw N;R(!1)}else{const{error:N}=await Wn.auth.signUp({email:o,password:d});if(N)throw N;alert("Check your email for the confirmation link!"),b("login")}}catch(N){alert(N.message)}finally{w(!1)}},P=async()=>{await Wn.auth.signOut(),a(null)};return l?B.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[B.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[B.jsx(Ib,{className:"h-4 w-4 text-blue-500 shrink-0"}),B.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:l.email})]}),B.jsx("button",{onClick:P,className:"hover:bg-red-50 text-red-600 p-2 rounded-lg transition-colors shrink-0",title:"Sign Out",children:B.jsx(xb,{className:"h-4 w-4"})})]}):B.jsxs("div",{className:"p-3 bg-blue-50/50 rounded-xl border border-blue-100",children:[B.jsxs("button",{onClick:()=>R(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg shadow-sm flex items-center justify-center gap-2 transition-all font-medium text-sm",children:[B.jsx(Jp,{className:"h-4 w-4"})," Sign In to Cloud Sync"]}),A&&B.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:B.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[B.jsxs("div",{className:"p-8",children:[B.jsxs("div",{className:"flex justify-between items-center mb-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:y==="login"?"Welcome Back":"Create Account"}),B.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),B.jsxs("form",{onSubmit:M,className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),B.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"pilot@example.com",value:o,onChange:Z=>u(Z.target.value)})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),B.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"",value:d,onChange:Z=>p(Z.target.value)})]}),B.jsx("button",{type:"submit",disabled:_,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-200 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:_?"Processing...":y==="login"?B.jsxs(B.Fragment,{children:[B.jsx(Jp,{className:"h-5 w-5"})," Sign In"]}):B.jsxs(B.Fragment,{children:[B.jsx(qb,{className:"h-5 w-5"})," Create Account"]})})]}),B.jsx("div",{className:"mt-6 text-center",children:B.jsx("button",{onClick:()=>b(y==="login"?"signup":"login"),className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",children:y==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),B.jsx("div",{className:"bg-gray-50 px-8 py-4 text-center",children:B.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Cloud Sync Powered by Supabase"})})]})})]})},Yb=()=>{const{airports:l,user:a,importFlightLog:o,addAirports:u,addManualAirport:d,addAirport:p,removeAirport:_,clearAirports:w,mapLayer:y,setMapLayer:b}=Wo(),[A,R]=Et.useState(!0),[M,P]=Et.useState("upload"),[Z,N]=Et.useState(null),[it,ut]=Et.useState(!1),[at,Q]=Et.useState(null),[mt,zt]=Et.useState(new Set);Li.useEffect(()=>{if(Z){const x=setTimeout(()=>N(null),3e3);return()=>clearTimeout(x)}},[Z]);const gt=()=>{if(!a)return;const x=`${window.location.origin}${window.location.pathname}?share=${a.id}`;navigator.clipboard.writeText(x),ut(!0),N({text:"Share link copied!",type:"success"}),setTimeout(()=>ut(!1),2e3)},[rt,z]=Et.useState([]),[C,W]=Et.useState({code:"",type:"visited",lat:"",lng:"",name:""}),[ht,ot]=Et.useState(!1),[At,Dt]=Et.useState(!1),ue=x=>{const j=x.target.files?.[0];j&&T_.parse(j,{header:!1,complete:K=>{const nt=K.data,st=nt.findIndex(Ut=>Ut[0]?.includes("Flights Table"));if(st===-1){alert("Could not find Flights Table in the CSV");return}const lt=st+1,St=nt[lt],_t=St.indexOf("Date"),bt=St.indexOf("From"),Qt=St.indexOf("To"),kt=St.indexOf("Route");console.log(`Found columns - Date: ${_t}, From: ${bt}, To: ${Qt}, Route: ${kt}`);const Zt=nt.slice(lt+1).map(Ut=>({date:Ut[_t],from:Ut[bt],to:Ut[Qt],route:Ut[kt]})).filter(Ut=>Ut.date&&Ut.from&&Ut.to);console.log(`[V1.14] Parsed ${Zt.length} valid flight entries.`),o(Zt).then(Ut=>{if(console.log(`[V1.14] Store returned ${Ut.length} new airports.`),Ut.length===0){alert("Log processed. No new airports found to add.");return}Q(Ut),zt(new Set(Ut.map(Yt=>Yt.id)))}).catch(Ut=>{console.error("Import error:",Ut),alert("Import failed unexpectedly.")})}})},V=async()=>{if(!at)return;const x=at.filter(j=>mt.has(j.id));x.length>0&&(await u(x),N({text:`Successfully added ${x.length} new airports!`,type:"success"})),Q(null),zt(new Set),P("manage")},X=x=>{const j=new Set(mt);j.has(x)?j.delete(x):j.add(x),zt(j)},F=()=>{at&&(mt.size===at.length?zt(new Set):zt(new Set(at.map(x=>x.id))))},dt=async x=>{if(x.preventDefault(),!C.code){alert("Airport Code is required.");return}if(ot(!0),z([]),At&&C.lat&&C.lng){p({id:crypto.randomUUID(),code:C.code.toUpperCase(),name:C.name||void 0,lat:parseFloat(C.lat),lng:parseFloat(C.lng),type:C.type,notes:"Manually added custom airport",dateVisited:C.type==="visited"?new Date().toISOString().split("T")[0]:void 0}),N({text:`Added custom airport ${C.code}.`,type:"success"}),W(K=>({...K,code:"",lat:"",lng:"",name:""})),Dt(!1),ot(!1);return}const j=await d(C.code,C.type);j.status==="success"?(N({text:j.message||"Added successfully",type:"success"}),W(K=>({...K,code:""})),Dt(!1),z([])):j.status==="ambiguous"&&j.candidates?z(j.candidates):(N({text:j.message||`"${C.code}" not found.`,type:"error"}),confirm(`"${C.code}" not found. Enter manual coordinates?`)&&Dt(!0)),ot(!1)},ct=async x=>{const j=await d(x.ident,C.type);j.status==="success"?(N({text:j.message||"Added successfully",type:"success"}),W(K=>({...K,code:""})),z([])):N({text:j.message||"Error adding airport.",type:"error"})};return B.jsxs("div",{className:`absolute bottom-8 left-4 z-[1000] bg-white p-4 rounded-lg shadow-xl w-80 transition-all ${A?"opacity-100":"opacity-90"}`,children:[B.jsxs("div",{className:"flex justify-between items-center mb-4",children:[B.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[B.jsx(Cb,{className:"h-5 w-5"})," Flight Log"]}),B.jsxs("div",{className:"flex items-center gap-2",children:[a&&B.jsxs("button",{onClick:gt,className:`p-1.5 rounded-full transition-all flex items-center gap-1 ${it?"bg-green-50 text-green-600":"text-blue-600 hover:bg-blue-50"}`,title:it?"Copied!":"Share Map",children:[it?B.jsx(yb,{className:"h-4 w-4"}):B.jsx(Nb,{className:"h-4 w-4"}),it&&B.jsx("span",{className:"text-[10px] font-bold pr-1",children:"Copied!"})]}),B.jsx("button",{onClick:()=>R(!A),className:"text-sm text-gray-500 hover:text-black",children:A?"Minimize":"Expand"})]})]}),A&&B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"flex border-b border-gray-200",children:[B.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${M==="upload"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("upload"),children:"Upload"}),B.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${M==="manual"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("manual"),children:"Add"}),B.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${M==="manage"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("manage"),children:"Manage"}),B.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${M==="settings"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("settings"),children:"Settings"})]}),M==="upload"?B.jsx(B.Fragment,{children:at?B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"Preview Import"}),B.jsx("button",{onClick:()=>Q(null),className:"text-gray-400 hover:text-black",children:B.jsx(Vb,{className:"h-4 w-4"})})]}),B.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["From your log: ",at.length," items found."]}),B.jsx("div",{className:"flex items-center gap-2 mb-2",children:B.jsxs("button",{onClick:F,className:"text-[10px] flex items-center gap-1 text-blue-600 font-bold hover:underline",children:[mt.size===at.length?B.jsx(Qp,{className:"h-3 w-3"}):B.jsx(Wp,{className:"h-3 w-3"}),mt.size===at.length?"Deselect All":"Select All"]})}),B.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-md p-2 bg-gray-50 custom-scrollbar",children:at.map(x=>B.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border border-gray-100 cursor-pointer hover:bg-blue-50 transition-colors",onClick:()=>X(x.id),children:[mt.has(x.id)?B.jsx(Qp,{className:"h-4 w-4 text-blue-600"}):B.jsx(Wp,{className:"h-4 w-4 text-gray-300"}),B.jsx("div",{className:"min-w-0 flex-1",children:B.jsxs("div",{className:"flex items-center justify-between gap-2",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"font-bold text-xs",children:x.code}),B.jsx("span",{className:"text-[10px] text-gray-400 truncate max-w-[120px]",children:x.name})]}),x.source&&B.jsx("span",{className:`text-[8px] uppercase px-1.5 py-0.5 rounded-full font-bold border ${x.source==="from"?"bg-blue-50 text-blue-600 border-blue-100":x.source==="to"?"bg-green-50 text-green-600 border-green-100":"bg-purple-50 text-purple-600 border-purple-100"}`,children:x.source})]})})]},x.id))}),B.jsxs("button",{onClick:V,disabled:mt.size===0,className:`w-full py-2 px-4 rounded-md shadow-sm text-sm font-medium text-white transition-all ${mt.size===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:scale-95"}`,children:["Import ",mt.size," Airports"]})]}):B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-6 flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer relative",children:[B.jsx(Pb,{className:"h-8 w-8 text-gray-400 mb-2"}),B.jsx("span",{className:"text-sm text-gray-600",children:"Upload ForeFlight CSV"}),B.jsx("input",{type:"file",accept:".csv",onChange:ue,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),B.jsx("div",{className:"text-xs text-gray-400",children:B.jsx("p",{children:"Supporting ForeFlight exports."})})]})}):M==="manual"?B.jsx("div",{className:"space-y-3",children:rt.length>0?B.jsxs("div",{className:"space-y-2",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("p",{className:"text-xs font-bold text-gray-700",children:"Did you mean?"}),B.jsx("button",{onClick:()=>z([]),className:"text-xs text-red-500 hover:underline",children:"Cancel"})]}),B.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1 border rounded-md p-1 bg-gray-50",children:rt.map(x=>B.jsxs("button",{onClick:()=>ct(x),className:"w-full text-left p-2 text-xs hover:bg-blue-100 rounded border-b last:border-0 border-gray-100 transition-colors",children:[B.jsx("span",{className:"font-bold block",children:x.ident}),B.jsx("span",{className:"block truncate",children:x.name}),B.jsxs("span",{className:"text-gray-500 block truncate",children:[x.municipality,", ",x.iso_region]})]},x.ident))})]}):B.jsxs("form",{onSubmit:dt,className:"space-y-3",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Airport Code or Name"}),B.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[B.jsx("input",{type:"text",placeholder:"e.g. JFK or Forks",className:"focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border",value:C.code,onChange:x=>W({...C,code:x.target.value})}),B.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:B.jsx(kb,{className:"h-4 w-4 text-gray-400"})})]})]}),At&&B.jsxs("div",{className:"p-3 bg-gray-50 rounded-md space-y-2 border border-blue-100",children:[B.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Custom Airport Details"}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Name"}),B.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm p-1 border",value:C.name,onChange:x=>W({...C,name:x.target.value})})]}),B.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Lat"}),B.jsx("input",{type:"number",step:"any",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm p-1 border",value:C.lat,onChange:x=>W({...C,lat:x.target.value})})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Lng"}),B.jsx("input",{type:"number",step:"any",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm p-1 border",value:C.lng,onChange:x=>W({...C,lng:x.target.value})})]})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Type"}),B.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border bg-white",value:C.type,onChange:x=>W({...C,type:x.target.value}),children:[B.jsx("option",{value:"visited",children:"Visited (or Fuel Stop)"}),B.jsx("option",{value:"wishlist",children:"Wishlist / Planned"})]})]}),B.jsx("button",{type:"submit",disabled:ht,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${ht?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:ht?"Searching...":At?"Add Custom Airport":"Find & Add"}),Z&&B.jsx("div",{className:`mt-2 text-xs font-medium text-center p-2 rounded ${Z.type==="success"?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:Z.text}),!At&&B.jsx("p",{className:"text-xs text-gray-500 text-center",children:"* Searches 70k+ airports by Code or Name."})]})}):B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsxs("p",{className:"text-xs font-bold text-gray-700 uppercase tracking-widest",children:["Added Airports (",l.length,")"]}),l.length>0&&B.jsxs("button",{onClick:()=>{confirm("Are you sure you want to clear ALL airports? This cannot be undone.")&&w()},className:"text-[10px] text-gray-400 hover:text-red-500 transition-colors flex items-center gap-1",children:[B.jsx(Fp,{className:"h-3 w-3"})," Clear All"]})]}),B.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:l.length===0?B.jsxs("div",{className:"text-center py-8",children:[B.jsx(wb,{className:"h-8 w-8 text-gray-200 mx-auto mb-2"}),B.jsx("p",{className:"text-sm text-gray-400",children:"No airports added yet."})]}):l.map(x=>B.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-md border border-gray-100 group",children:[B.jsxs("div",{className:"min-w-0 flex-1",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"font-bold text-xs",children:x.code}),B.jsx("span",{className:`h-2 w-2 rounded-full ${x.type==="visited"?"bg-green-500":"bg-blue-500"}`})]}),B.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:x.name||"Unknown name"})]}),B.jsx("button",{onClick:()=>_(x.id),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-all ml-2",title:"Remove",children:B.jsx(Fp,{className:"h-4 w-4"})})]},x.id))})]}),M==="settings"&&B.jsxs("div",{className:"space-y-6",children:[B.jsxs("div",{className:"space-y-3",children:[B.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[B.jsx(Ab,{className:"h-4 w-4"})," Map Display"]}),B.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[B.jsx("button",{onClick:()=>b("osm"),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${y==="osm"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-blue-300"}`,children:"OpenStreetMap"}),B.jsx("button",{onClick:()=>b("sectional"),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${y==="sectional"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-blue-300"}`,children:"VFR Sectional"})]})]}),B.jsxs("div",{className:"space-y-3",children:[B.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[B.jsx(zb,{className:"h-4 w-4"})," Account"]}),B.jsx(Kb,{})]})]})]})]})};function $b(){const{user:l,loadUserAirports:a,syncAirports:o,isSharedView:u,setSharedView:d,setAirports:p}=Wo();Et.useEffect(()=>{console.log("[V1.17] Airport Tracker initialized.")},[]),Et.useEffect(()=>{const y=new URLSearchParams(window.location.search).get("share");y?a(y):u&&(l?o():p([]),d(!1))},[l,u,a,o,d,p]);const _=new URLSearchParams(window.location.search).has("share");return B.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-gray-100 flex flex-col",children:[_&&B.jsxs("div",{className:"absolute top-4 right-4 z-[1000] bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-xl shadow-lg flex items-center gap-4 backdrop-blur-sm bg-opacity-95",children:[B.jsxs("div",{className:"flex flex-col",children:[B.jsx("span",{className:"font-bold text-[10px] uppercase tracking-wider text-yellow-600",children:"Viewing Shared Map"}),B.jsx("a",{href:window.location.origin+window.location.pathname,className:"text-sm text-blue-600 hover:text-blue-800 font-bold transition-colors",children:"Start your own tracker "})]}),B.jsx("button",{onClick:()=>window.location.href=window.location.origin+window.location.pathname,className:"w-6 h-6 flex items-center justify-center hover:bg-yellow-200 rounded-full transition-colors text-lg",title:"Back to my map",children:""})]}),B.jsxs("div",{className:"flex-1 relative",children:[B.jsx(fb,{}),!_&&B.jsx(Yb,{})]})]})}Xg.createRoot(document.getElementById("root")).render(B.jsx(Et.StrictMode,{children:B.jsx($b,{})}));
