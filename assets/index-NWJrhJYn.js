(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&u(_)}).observe(document,{childList:!0,subtree:!0});function o(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(d){if(d.ep)return;d.ep=!0;const p=o(d);fetch(d.href,p)}})();function sf(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var kh={exports:{}},Po={};var fp;function qg(){if(fp)return Po;fp=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(u,d,p){var _=null;if(p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),"key"in d){p={};for(var w in d)w!=="key"&&(p[w]=d[w])}else p=d;return d=p.ref,{$$typeof:l,type:u,key:_,ref:d!==void 0?d:null,props:p}}return Po.Fragment=a,Po.jsx=o,Po.jsxs=o,Po}var dp;function Zg(){return dp||(dp=1,kh.exports=qg()),kh.exports}var N=Zg(),Lh={exports:{}},Ut={};var mp;function Ig(){if(mp)return Ut;mp=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.iterator;function P(T){return T===null||typeof T!="object"?null:(T=D&&T[D]||T["@@iterator"],typeof T=="function"?T:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,it={};function rt(T,C,H){this.props=T,this.context=C,this.refs=it,this.updater=H||I}rt.prototype.isReactComponent={},rt.prototype.setState=function(T,C){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,C,"setState")},rt.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ht(){}ht.prototype=rt.prototype;function J(T,C,H){this.props=T,this.context=C,this.refs=it,this.updater=H||I}var gt=J.prototype=new ht;gt.constructor=J,j(gt,rt.prototype),gt.isPureReactComponent=!0;var Mt=Array.isArray;function mt(){}var ut={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function M(T,C,H){var nt=H.ref;return{$$typeof:l,type:T,key:C,ref:nt!==void 0?nt:null,props:H}}function $(T,C){return M(T.type,C,T.props)}function st(T){return typeof T=="object"&&T!==null&&T.$$typeof===l}function ot(T){var C={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(H){return C[H]})}var Ot=/\/+/g;function Nt(T,C){return typeof T=="object"&&T!==null&&T.key!=null?ot(""+T.key):C.toString(36)}function ae(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(mt,mt):(T.status="pending",T.then(function(C){T.status==="pending"&&(T.status="fulfilled",T.value=C)},function(C){T.status==="pending"&&(T.status="rejected",T.reason=C)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function K(T,C,H,nt,at){var lt=typeof T;(lt==="undefined"||lt==="boolean")&&(T=null);var xt=!1;if(T===null)xt=!0;else switch(lt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(T.$$typeof){case l:case a:xt=!0;break;case A:return xt=T._init,K(xt(T._payload),C,H,nt,at)}}if(xt)return at=at(T),xt=nt===""?"."+Nt(T,0):nt,Mt(at)?(H="",xt!=null&&(H=xt.replace(Ot,"$&/")+"/"),K(at,C,H,"",function(Qt){return Qt})):at!=null&&(st(at)&&(at=$(at,H+(at.key==null||T&&T.key===at.key?"":(""+at.key).replace(Ot,"$&/")+"/")+xt)),C.push(at)),1;xt=0;var pt=nt===""?".":nt+":";if(Mt(T))for(var bt=0;bt<T.length;bt++)nt=T[bt],lt=pt+Nt(nt,bt),xt+=K(nt,C,H,lt,at);else if(bt=P(T),typeof bt=="function")for(T=bt.call(T),bt=0;!(nt=T.next()).done;)nt=nt.value,lt=pt+Nt(nt,bt++),xt+=K(nt,C,H,lt,at);else if(lt==="object"){if(typeof T.then=="function")return K(ae(T),C,H,nt,at);throw C=String(T),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return xt}function Q(T,C,H){if(T==null)return T;var nt=[],at=0;return K(T,nt,"","",function(lt){return C.call(H,lt,at++)}),nt}function W(T){if(T._status===-1){var C=T._result;C=C(),C.then(function(H){(T._status===0||T._status===-1)&&(T._status=1,T._result=H)},function(H){(T._status===0||T._status===-1)&&(T._status=2,T._result=H)}),T._status===-1&&(T._status=0,T._result=C)}if(T._status===1)return T._result.default;throw T._result}var dt=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},ct={map:Q,forEach:function(T,C,H){Q(T,function(){C.apply(this,arguments)},H)},count:function(T){var C=0;return Q(T,function(){C++}),C},toArray:function(T){return Q(T,function(C){return C})||[]},only:function(T){if(!st(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ut.Activity=R,Ut.Children=ct,Ut.Component=rt,Ut.Fragment=o,Ut.Profiler=d,Ut.PureComponent=J,Ut.StrictMode=u,Ut.Suspense=y,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ut.H.useMemoCache(T)}},Ut.cache=function(T){return function(){return T.apply(null,arguments)}},Ut.cacheSignal=function(){return null},Ut.cloneElement=function(T,C,H){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var nt=j({},T.props),at=T.key;if(C!=null)for(lt in C.key!==void 0&&(at=""+C.key),C)!z.call(C,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&C.ref===void 0||(nt[lt]=C[lt]);var lt=arguments.length-2;if(lt===1)nt.children=H;else if(1<lt){for(var xt=Array(lt),pt=0;pt<lt;pt++)xt[pt]=arguments[pt+2];nt.children=xt}return M(T.type,at,nt)},Ut.createContext=function(T){return T={$$typeof:_,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:p,_context:T},T},Ut.createElement=function(T,C,H){var nt,at={},lt=null;if(C!=null)for(nt in C.key!==void 0&&(lt=""+C.key),C)z.call(C,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(at[nt]=C[nt]);var xt=arguments.length-2;if(xt===1)at.children=H;else if(1<xt){for(var pt=Array(xt),bt=0;bt<xt;bt++)pt[bt]=arguments[bt+2];at.children=pt}if(T&&T.defaultProps)for(nt in xt=T.defaultProps,xt)at[nt]===void 0&&(at[nt]=xt[nt]);return M(T,lt,at)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(T){return{$$typeof:w,render:T}},Ut.isValidElement=st,Ut.lazy=function(T){return{$$typeof:A,_payload:{_status:-1,_result:T},_init:W}},Ut.memo=function(T,C){return{$$typeof:b,type:T,compare:C===void 0?null:C}},Ut.startTransition=function(T){var C=ut.T,H={};ut.T=H;try{var nt=T(),at=ut.S;at!==null&&at(H,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(mt,dt)}catch(lt){dt(lt)}finally{C!==null&&H.types!==null&&(C.types=H.types),ut.T=C}},Ut.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Ut.use=function(T){return ut.H.use(T)},Ut.useActionState=function(T,C,H){return ut.H.useActionState(T,C,H)},Ut.useCallback=function(T,C){return ut.H.useCallback(T,C)},Ut.useContext=function(T){return ut.H.useContext(T)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(T,C){return ut.H.useDeferredValue(T,C)},Ut.useEffect=function(T,C){return ut.H.useEffect(T,C)},Ut.useEffectEvent=function(T){return ut.H.useEffectEvent(T)},Ut.useId=function(){return ut.H.useId()},Ut.useImperativeHandle=function(T,C,H){return ut.H.useImperativeHandle(T,C,H)},Ut.useInsertionEffect=function(T,C){return ut.H.useInsertionEffect(T,C)},Ut.useLayoutEffect=function(T,C){return ut.H.useLayoutEffect(T,C)},Ut.useMemo=function(T,C){return ut.H.useMemo(T,C)},Ut.useOptimistic=function(T,C){return ut.H.useOptimistic(T,C)},Ut.useReducer=function(T,C,H){return ut.H.useReducer(T,C,H)},Ut.useRef=function(T){return ut.H.useRef(T)},Ut.useState=function(T){return ut.H.useState(T)},Ut.useSyncExternalStore=function(T,C,H){return ut.H.useSyncExternalStore(T,C,H)},Ut.useTransition=function(){return ut.H.useTransition()},Ut.version="19.2.3",Ut}var pp;function rf(){return pp||(pp=1,Lh.exports=Ig()),Lh.exports}var Et=rf();const Li=sf(Et);var zh={exports:{}},Ho={},Mh={exports:{}},Nh={};var _p;function Gg(){return _p||(_p=1,(function(l){function a(K,Q){var W=K.length;K.push(Q);t:for(;0<W;){var dt=W-1>>>1,ct=K[dt];if(0<d(ct,Q))K[dt]=Q,K[W]=ct,W=dt;else break t}}function o(K){return K.length===0?null:K[0]}function u(K){if(K.length===0)return null;var Q=K[0],W=K.pop();if(W!==Q){K[0]=W;t:for(var dt=0,ct=K.length,T=ct>>>1;dt<T;){var C=2*(dt+1)-1,H=K[C],nt=C+1,at=K[nt];if(0>d(H,W))nt<ct&&0>d(at,H)?(K[dt]=at,K[nt]=W,dt=nt):(K[dt]=H,K[C]=W,dt=C);else if(nt<ct&&0>d(at,W))K[dt]=at,K[nt]=W,dt=nt;else break t}}return Q}function d(K,Q){var W=K.sortIndex-Q.sortIndex;return W!==0?W:K.id-Q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var _=Date,w=_.now();l.unstable_now=function(){return _.now()-w}}var y=[],b=[],A=1,R=null,D=3,P=!1,I=!1,j=!1,it=!1,rt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function gt(K){for(var Q=o(b);Q!==null;){if(Q.callback===null)u(b);else if(Q.startTime<=K)u(b),Q.sortIndex=Q.expirationTime,a(y,Q);else break;Q=o(b)}}function Mt(K){if(j=!1,gt(K),!I)if(o(y)!==null)I=!0,mt||(mt=!0,ot());else{var Q=o(b);Q!==null&&ae(Mt,Q.startTime-K)}}var mt=!1,ut=-1,z=5,M=-1;function $(){return it?!0:!(l.unstable_now()-M<z)}function st(){if(it=!1,mt){var K=l.unstable_now();M=K;var Q=!0;try{t:{I=!1,j&&(j=!1,ht(ut),ut=-1),P=!0;var W=D;try{e:{for(gt(K),R=o(y);R!==null&&!(R.expirationTime>K&&$());){var dt=R.callback;if(typeof dt=="function"){R.callback=null,D=R.priorityLevel;var ct=dt(R.expirationTime<=K);if(K=l.unstable_now(),typeof ct=="function"){R.callback=ct,gt(K),Q=!0;break e}R===o(y)&&u(y),gt(K)}else u(y);R=o(y)}if(R!==null)Q=!0;else{var T=o(b);T!==null&&ae(Mt,T.startTime-K),Q=!1}}break t}finally{R=null,D=W,P=!1}Q=void 0}}finally{Q?ot():mt=!1}}}var ot;if(typeof J=="function")ot=function(){J(st)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Nt=Ot.port2;Ot.port1.onmessage=st,ot=function(){Nt.postMessage(null)}}else ot=function(){rt(st,0)};function ae(K,Q){ut=rt(function(){K(l.unstable_now())},Q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(K){K.callback=null},l.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},l.unstable_getCurrentPriorityLevel=function(){return D},l.unstable_next=function(K){switch(D){case 1:case 2:case 3:var Q=3;break;default:Q=D}var W=D;D=Q;try{return K()}finally{D=W}},l.unstable_requestPaint=function(){it=!0},l.unstable_runWithPriority=function(K,Q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var W=D;D=K;try{return Q()}finally{D=W}},l.unstable_scheduleCallback=function(K,Q,W){var dt=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?dt+W:dt):W=dt,K){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=W+ct,K={id:A++,callback:Q,priorityLevel:K,startTime:W,expirationTime:ct,sortIndex:-1},W>dt?(K.sortIndex=W,a(b,K),o(y)===null&&K===o(b)&&(j?(ht(ut),ut=-1):j=!0,ae(Mt,W-dt))):(K.sortIndex=ct,a(y,K),I||P||(I=!0,mt||(mt=!0,ot()))),K},l.unstable_shouldYield=$,l.unstable_wrapCallback=function(K){var Q=D;return function(){var W=D;D=Q;try{return K.apply(this,arguments)}finally{D=W}}}})(Nh)),Nh}var gp;function Vg(){return gp||(gp=1,Mh.exports=Gg()),Mh.exports}var jh={exports:{}},on={};var vp;function Kg(){if(vp)return on;vp=1;var l=rf();function a(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)b+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var u={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(y,b,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:R==null?null:""+R,children:y,containerInfo:b,implementation:A}}var _=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,on.createPortal=function(y,b){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(a(299));return p(y,b,null,A)},on.flushSync=function(y){var b=_.T,A=u.p;try{if(_.T=null,u.p=2,y)return y()}finally{_.T=b,u.p=A,u.d.f()}},on.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,u.d.C(y,b))},on.prefetchDNS=function(y){typeof y=="string"&&u.d.D(y)},on.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var A=b.as,R=w(A,b.crossOrigin),D=typeof b.integrity=="string"?b.integrity:void 0,P=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;A==="style"?u.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:R,integrity:D,fetchPriority:P}):A==="script"&&u.d.X(y,{crossOrigin:R,integrity:D,fetchPriority:P,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},on.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var A=w(b.as,b.crossOrigin);u.d.M(y,{crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&u.d.M(y)},on.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var A=b.as,R=w(A,b.crossOrigin);u.d.L(y,A,{crossOrigin:R,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},on.preloadModule=function(y,b){if(typeof y=="string")if(b){var A=w(b.as,b.crossOrigin);u.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else u.d.m(y)},on.requestFormReset=function(y){u.d.r(y)},on.unstable_batchedUpdates=function(y,b){return y(b)},on.useFormState=function(y,b,A){return _.H.useFormState(y,b,A)},on.useFormStatus=function(){return _.H.useHostTransitionStatus()},on.version="19.2.3",on}var yp;function t_(){if(yp)return jh.exports;yp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),jh.exports=Kg(),jh.exports}var bp;function Yg(){if(bp)return Ho;bp=1;var l=Vg(),a=rf(),o=t_();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function _(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(p(t)!==t)throw Error(u(188))}function b(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,r=e;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(r=h.return,r!==null){i=r;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return y(h),t;if(f===r)return y(h),e;f=f.sibling}throw Error(u(188))}if(i.return!==r.return)i=h,r=f;else{for(var v=!1,x=h.child;x;){if(x===i){v=!0,i=h,r=f;break}if(x===r){v=!0,r=h,i=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===i){v=!0,i=f,r=h;break}if(x===r){v=!0,r=f,i=h;break}x=x.sibling}if(!v)throw Error(u(189))}}if(i.alternate!==r)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function A(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A(t),e!==null)return e;t=t.sibling}return null}var R=Object.assign,D=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),J=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Mt=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function ot(t){return t===null||typeof t!="object"?null:(t=st&&t[st]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Symbol.for("react.client.reference");function Nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ot?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case rt:return"Profiler";case it:return"StrictMode";case Mt:return"Suspense";case mt:return"SuspenseList";case M:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case J:return t.displayName||"Context";case ht:return(t._context.displayName||"Context")+".Consumer";case gt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ut:return e=t.displayName||null,e!==null?e:Nt(t.type)||"Memo";case z:e=t._payload,t=t._init;try{return Nt(t(e))}catch{}}return null}var ae=Array.isArray,K=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},dt=[],ct=-1;function T(t){return{current:t}}function C(t){0>ct||(t.current=dt[ct],dt[ct]=null,ct--)}function H(t,e){ct++,dt[ct]=t.current,t.current=e}var nt=T(null),at=T(null),lt=T(null),xt=T(null);function pt(t,e){switch(H(lt,e),H(at,t),H(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?jm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=jm(e),t=Dm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}C(nt),H(nt,t)}function bt(){C(nt),C(at),C(lt)}function Qt(t){t.memoizedState!==null&&H(xt,t);var e=nt.current,i=Dm(e,t.type);e!==i&&(H(at,t),H(nt,i))}function Lt(t){at.current===t&&(C(nt),C(at)),xt.current===t&&(C(xt),jo._currentValue=W)}var Zt,ue;function At(t){if(Zt===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Zt=e&&e[1]||"",ue=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+t+ue}var It=!1;function jt(t,e){if(!t||It)return"";It=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Y){var V=Y}Reflect.construct(t,[],et)}else{try{et.call()}catch(Y){V=Y}t.call(et.prototype)}}else{try{throw Error()}catch(Y){V=Y}(et=t())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Y){if(Y&&V&&typeof Y.stack=="string")return[Y.stack,V.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var O=v.split(`
`),Z=x.split(`
`);for(h=r=0;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(r===O.length||h===Z.length)for(r=O.length-1,h=Z.length-1;1<=r&&0<=h&&O[r]!==Z[h];)h--;for(;1<=r&&0<=h;r--,h--)if(O[r]!==Z[h]){if(r!==1||h!==1)do if(r--,h--,0>h||O[r]!==Z[h]){var X=`
`+O[r].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=r&&0<=h);break}}}finally{It=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?At(i):""}function Ee(t,e){switch(t.tag){case 26:case 27:case 5:return At(t.type);case 16:return At("Lazy");case 13:return t.child!==e&&e!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return jt(t.type,!1);case 11:return jt(t.type.render,!1);case 1:return jt(t.type,!0);case 31:return At("Activity");default:return""}}function qt(t){try{var e="",i=null;do e+=Ee(t,i),i=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var se=Object.prototype.hasOwnProperty,_e=l.unstable_scheduleCallback,dn=l.unstable_cancelCallback,ln=l.unstable_shouldYield,mi=l.unstable_requestPaint,Ft=l.unstable_now,mn=l.unstable_getCurrentPriorityLevel,ve=l.unstable_ImmediatePriority,Me=l.unstable_UserBlockingPriority,Qe=l.unstable_NormalPriority,Va=l.unstable_LowPriority,sa=l.unstable_IdlePriority,Wn=l.log,pn=l.unstable_setDisableYieldValue,_n=null,Ne=null;function ti(t){if(typeof Wn=="function"&&pn(t),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(_n,t)}catch{}}var un=Math.clz32?Math.clz32:Du,Ka=Math.log,ju=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Ka(t)/ju|0)|0}var Ya=256,$a=262144,Xa=4194304;function zi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bs(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=r&134217727;return x!==0?(r=x&~f,r!==0?h=zi(r):(v&=x,v!==0?h=zi(v):i||(i=x&~t,i!==0&&(h=zi(i))))):(x=r&~f,x!==0?h=zi(x):v!==0?h=zi(v):i||(i=r&~t,i!==0&&(h=zi(i)))),h===0?0:e!==0&&e!==h&&(e&f)===0&&(f=h&-h,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:h}function Ja(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Uu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var t=Xa;return Xa<<=1,(Xa&62914560)===0&&(Xa=4194304),t}function Dr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Mi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bu(t,e,i,r,h,f){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var x=t.entanglements,O=t.expirationTimes,Z=t.hiddenUpdates;for(i=v&~i;0<i;){var X=31-un(i),et=1<<X;x[X]=0,O[X]=-1;var V=Z[X];if(V!==null)for(Z[X]=null,X=0;X<V.length;X++){var Y=V[X];Y!==null&&(Y.lane&=-536870913)}i&=~et}r!==0&&tl(t,r,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~e))}function tl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-un(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&261930}function el(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-un(i),h=1<<r;h&e|t[r]&e&&(t[r]|=e),i&=~h}}function nl(t,e){var i=e&-e;return i=(i&42)!==0?1:gn(i),(i&(t.suspendedLanes|e))!==0?0:i}function gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ur(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:sp(t.type))}function Br(t,e){var i=Q.p;try{return Q.p=t,e()}finally{Q.p=i}}var ei=Math.random().toString(36).slice(2),je="__reactFiber$"+ei,Ke="__reactProps$"+ei,Ni="__reactContainer$"+ei,pi="__reactEvents$"+ei,il="__reactListeners$"+ei,Pu="__reactHandles$"+ei,al="__reactResources$"+ei,Qa="__reactMarker$"+ei;function Pr(t){delete t[je],delete t[Ke],delete t[pi],delete t[il],delete t[Pu]}function ji(t){var e=t[je];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ni]||i[je]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Im(t);t!==null;){if(i=t[je])return i;t=Im(t)}return e}t=i,i=t.parentNode}return null}function ra(t){if(t=t[je]||t[Ni]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function _i(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function oa(t){var e=t[al];return e||(e=t[al]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function De(t){t[Qa]=!0}var sl=new Set,rl={};function Di(t,e){gi(t,e),gi(t+"Capture",e)}function gi(t,e){for(rl[t]=e,t=0;t<e.length;t++)sl.add(e[t])}var Fa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},qr={};function Wa(t){return se.call(qr,t)?!0:se.call(Hr,t)?!1:Fa.test(t)?qr[t]=!0:(Hr[t]=!0,!1)}function Gt(t,e,i){if(Wa(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function ce(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function vn(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ui(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zr(t,e,i){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dt(t){if(!t._valueTracker){var e=Ui(t)?"checked":"value";t._valueTracker=Zr(t,e,""+t[e])}}function we(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=Ui(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function la(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ps=/[\n"\\]/g;function ye(t){return t.replace(Ps,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ir(t,e,i,r,h,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ze(e)):t.value!==""+Ze(e)&&(t.value=""+Ze(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?ni(t,v,Ze(e)):i!=null?ni(t,v,Ze(i)):r!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ze(x):t.removeAttribute("name")}function ts(t,e,i,r,h,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){Dt(t);return}i=i!=null?""+Ze(i):"",e=e!=null?""+Ze(e):i,x||e===t.value||(t.value=e),t.defaultValue=e}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=x?t.checked:!!r,t.defaultChecked=!!r,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Dt(t)}function ni(t,e,i){e==="number"&&la(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function me(t,e,i,r){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Ze(i),e=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function vi(t,e,i){if(e!=null&&(e=""+Ze(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Ze(i):""}function ua(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(u(92));if(ae(r)){if(1<r.length)throw Error(u(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Ze(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r),Dt(t)}function qn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Gr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ca(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Gr.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Hs(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in e)r=e[h],e.hasOwnProperty(h)&&i[h]!==r&&ca(t,h,r)}else for(var f in e)e.hasOwnProperty(f)&&ca(t,f,e[f])}function es(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return Vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yn(){}var Zs=null;function ns(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fa=null,zt=null;function Rn(t){var e=ra(t);if(e&&(t=e.stateNode)){var i=t[Ke]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ir(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ye(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var h=r[Ke]||null;if(!h)throw Error(u(90));Ir(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&we(r)}break t;case"textarea":vi(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&me(t,!!i.multiple,e,!1)}}}var re=!1;function Kr(t,e,i){if(re)return t(e,i);re=!0;try{var r=t(e);return r}finally{if(re=!1,(fa!==null||zt!==null)&&(nu(),fa&&(e=fa,t=zt,zt=fa=null,Rn(e),t)))for(e=0;e<t.length;e++)Rn(t[e])}}function Bi(t,e){var i=t.stateNode;if(i===null)return null;var r=i[Ke]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(kn)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){is=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{is=!1}var Zn=null,Pi=null,Ae=null;function yi(){if(Ae)return Ae;var t,e=Pi,i=e.length,r,h="value"in Zn?Zn.value:Zn.textContent,f=h.length;for(t=0;t<i&&e[t]===h[t];t++);var v=i-t;for(r=1;r<=v&&e[i-r]===h[f-r];r++);return Ae=h.slice(t,1<r?1-r:void 0)}function as(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function ol(){return!1}function Fe(t){function e(i,r,h,f,v){this._reactName=i,this._targetInst=h,this.type=r,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(i=t[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ss:ol,this.isPropagationStopped=ol,this}return R(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),e}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=Fe(ii),da=R({},ii,{view:0,detail:0}),$t=Fe(da),Yr,cn,ai,rs=R({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(Yr=t.screenX-ai.screenX,cn=t.screenY-ai.screenY):cn=Yr=0,ai=t),Yr)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),ll=Fe(rs),$r=R({},rs,{dataTransfer:0}),Hu=Fe($r),ul=R({},da,{relatedTarget:0}),Xr=Fe(ul),qu=R({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Jr=Fe(qu),Zu=R({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),In=Fe(Zu),Iu=R({},ii,{data:0}),Qr=Fe(Iu),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hl[t])?!!e[t]:!1}function Wr(){return Fr}var fl=R({},da,{key:function(t){if(t.key){var e=bi[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=as(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(t){return t.type==="keypress"?as(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?as(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dl=Fe(fl),Gu=R({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Fe(Gu),to=R({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Vu=Fe(to),pl=R({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),_l=Fe(pl),Gs=R({},rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hi=Fe(Gs),Ku=R({},ii,{newState:0,oldState:0}),os=Fe(Ku),bn=[9,13,27,32],Vs=kn&&"CompositionEvent"in window,ma=null;kn&&"documentMode"in document&&(ma=document.documentMode);var Yu=kn&&"TextEvent"in window&&!ma,Ks=kn&&(!Vs||ma&&8<ma&&11>=ma),Ys=" ",gl=!1;function vl(t,e){switch(t){case"keyup":return bn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function zn(t,e){switch(t){case"compositionend":return eo(e);case"keypress":return e.which!==32?null:(gl=!0,Ys);case"textInput":return t=e.data,t===Ys&&gl?null:t;default:return null}}function _a(t,e){if(pa)return t==="compositionend"||!Vs&&vl(t,e)?(t=yi(),Ae=Pi=Zn=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ks&&e.locale!=="ko"?null:e.data;default:return null}}var $u={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$u[t.type]:e==="textarea"}function yl(t,e,i,r){fa?zt?zt.push(r):zt=[r]:fa=r,e=uu(e,"onChange"),0<e.length&&(i=new Is("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Vn=null,ls=null;function us(t){Rm(t,0)}function cs(t){var e=_i(t);if(we(e))return t}function hs(t,e){if(t==="change")return e}var bl=!1;if(kn){var Kn;if(kn){var ga="oninput"in document;if(!ga){var wl=document.createElement("div");wl.setAttribute("oninput","return;"),ga=typeof wl.oninput=="function"}Kn=ga}else Kn=!1;bl=Kn&&(!document.documentMode||9<document.documentMode)}function $s(){Vn&&(Vn.detachEvent("onpropertychange",Sl),ls=Vn=null)}function Sl(t){if(t.propertyName==="value"&&cs(ls)){var e=[];yl(e,ls,t,ns(t)),Kr(us,e)}}function si(t,e,i){t==="focusin"?($s(),Vn=e,ls=i,Vn.attachEvent("onpropertychange",Sl)):t==="focusout"&&$s()}function Xu(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cs(ls)}function va(t,e){if(t==="click")return cs(e)}function Ju(t,e){if(t==="input"||t==="change")return cs(e)}function ri(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:ri;function ya(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var h=i[r];if(!se.call(e,h)||!Ye(t[h],e[h]))return!1}return!0}function Xs(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fs(t,e){var i=Xs(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Xs(i)}}function Js(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Js(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ds(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=la(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=la(t.document)}return e}function wi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Qs=kn&&"documentMode"in document&&11>=document.documentMode,Si=null,Fs=null,ms=null,ba=!1;function xl(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ba||Si==null||Si!==la(r)||(r=Si,"selectionStart"in r&&wi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ms&&ya(ms,r)||(ms=r,r=uu(Fs,"onSelect"),0<r.length&&(e=new Is("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Si)))}function xi(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var wa={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Ws={},Tl={};kn&&(Tl=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function $e(t){if(Ws[t])return Ws[t];if(!wa[t])return t;var e=wa[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Tl)return Ws[t]=e[i];return t}var ps=$e("animationend"),El=$e("animationiteration"),_s=$e("animationstart"),Qu=$e("transitionrun"),Al=$e("transitionstart"),Fu=$e("transitioncancel"),Sa=$e("transitionend"),Ol=new Map,Ti="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ti.push("scrollEnd");function wn(t,e){Ol.set(t,e),Di(e,[t])}var gs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],sn=0,tr=0;function vs(){for(var t=sn,e=tr=sn=0;e<t;){var i=Sn[e];Sn[e++]=null;var r=Sn[e];Sn[e++]=null;var h=Sn[e];Sn[e++]=null;var f=Sn[e];if(Sn[e++]=null,r!==null&&h!==null){var v=r.pending;v===null?h.next=h:(h.next=v.next,v.next=h),r.pending=h}f!==0&&xa(i,h,f)}}function Ei(t,e,i,r){Sn[sn++]=t,Sn[sn++]=e,Sn[sn++]=i,Sn[sn++]=r,tr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function no(t,e,i,r){return Ei(t,e,i,r),ys(t)}function Yn(t,e){return Ei(t,null,null,e),ys(t)}function xa(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var h=!1,f=t.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&e!==null&&(h=31-un(i),t=f.hiddenUpdates,r=t[h],r===null?t[h]=[e]:r.push(e),e.lane=i|536870912),f):null}function ys(t){if(50<Co)throw Co=0,th=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qi={};function Wu(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,i,r){return new Wu(t,e,i,r)}function er(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $n(t,e){var i=t.alternate;return i===null?(i=rn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function io(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function bs(t,e,i,r,h,f){var v=0;if(r=t,typeof t=="function")er(t)&&(v=1);else if(typeof t=="string")v=Rg(t,i,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case M:return t=rn(31,i,e,h),t.elementType=M,t.lanes=f,t;case j:return Zi(i.children,h,f,e);case it:v=8,h|=24;break;case rt:return t=rn(12,i,e,h|2),t.elementType=rt,t.lanes=f,t;case Mt:return t=rn(13,i,e,h),t.elementType=Mt,t.lanes=f,t;case mt:return t=rn(19,i,e,h),t.elementType=mt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:v=10;break t;case ht:v=9;break t;case gt:v=11;break t;case ut:v=14;break t;case z:v=16,r=null;break t}v=29,i=Error(u(130,t===null?"null":typeof t,"")),r=null}return e=rn(v,i,e,h),e.elementType=t,e.type=r,e.lanes=f,e}function Zi(t,e,i,r){return t=rn(7,t,r,e),t.lanes=i,t}function nr(t,e,i){return t=rn(6,t,null,e),t.lanes=i,t}function ao(t){var e=rn(18,null,null,0);return e.stateNode=t,e}function so(t,e,i){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function s(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:qt(e)},n.set(t,e),e)}return{value:t,source:e,stack:qt(e)}}var c=[],m=0,g=null,S=0,E=[],B=0,G=null,tt=1,ft="";function wt(t,e){c[m++]=S,c[m++]=g,g=t,S=e}function Pt(t,e,i){E[B++]=tt,E[B++]=ft,E[B++]=G,G=t;var r=tt;t=ft;var h=32-un(r)-1;r&=~(1<<h),i+=1;var f=32-un(e)+h;if(30<f){var v=h-h%5;f=(r&(1<<v)-1).toString(32),r>>=v,h-=v,tt=1<<32-un(e)+h|i<<h|r,ft=f+t}else tt=1<<f|i<<h|r,ft=t}function Ie(t){t.return!==null&&(wt(t,1),Pt(t,1,0))}function Oe(t){for(;t===g;)g=c[--m],c[m]=null,S=c[--m],c[m]=null;for(;t===G;)G=E[--B],E[B]=null,ft=E[--B],E[B]=null,tt=E[--B],E[B]=null}function hn(t,e){E[B++]=tt,E[B++]=ft,E[B++]=G,tt=e.id,ft=e.overflow,G=t}var Wt=null,te=null,Vt=!1,Ai=null,xn=!1,ir=Error(u(519));function Oi(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ws(s(e,t)),ir}function ro(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[je]=t,e[Ke]=r,i){case"dialog":Yt("cancel",e),Yt("close",e);break;case"iframe":case"object":case"embed":Yt("load",e);break;case"video":case"audio":for(i=0;i<ko.length;i++)Yt(ko[i],e);break;case"source":Yt("error",e);break;case"img":case"image":case"link":Yt("error",e),Yt("load",e);break;case"details":Yt("toggle",e);break;case"input":Yt("invalid",e),ts(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yt("invalid",e);break;case"textarea":Yt("invalid",e),ua(e,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||Mm(e.textContent,i)?(r.popover!=null&&(Yt("beforetoggle",e),Yt("toggle",e)),r.onScroll!=null&&Yt("scroll",e),r.onScrollEnd!=null&&Yt("scrollend",e),r.onClick!=null&&(e.onclick=yn),e=!0):e=!1,e||Oi(t,!0)}function xe(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Wt=Wt.return}}function oi(t){if(t!==Wt)return!1;if(!Vt)return xe(t),Vt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||ph(t.type,t.memoizedProps)),i=!i),i&&te&&Oi(t),xe(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));te=Zm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));te=Zm(t)}else e===27?(e=te,Ua(t.type)?(t=bh,bh=null,te=t):te=e):te=Wt?Jn(t.stateNode.nextSibling):null;return!0}function Ii(){te=Wt=null,Vt=!1}function oo(){var t=Ai;return t!==null&&(On===null?On=t:On.push.apply(On,t),Ai=null),t}function ws(t){Ai===null?Ai=[t]:Ai.push(t)}var Ss=T(null),Ci=null,li=null;function Ta(t,e,i){H(Ss,e._currentValue),e._currentValue=i}function Gi(t){t._currentValue=Ss.current,C(Ss)}function tc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function ec(t,e,i,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var x=f;f=h;for(var O=0;O<e.length;O++)if(x.context===e[O]){f.lanes|=i,x=f.alternate,x!==null&&(x.lanes|=i),tc(f.return,i,t),r||(v=null);break t}f=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(u(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),tc(v,i,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ar(t,e,i,r){t=null;for(var h=e,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(u(387));if(v=v.memoizedProps,v!==null){var x=h.type;Ye(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===xt.current){if(v=h.alternate,v===null)throw Error(u(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jo):t=[jo])}h=h.return}t!==null&&ec(e,t,i,r),e.flags|=262144}function Cl(t){for(t=t.firstContext;t!==null;){if(!Ye(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Ci=t,li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function We(t){return vf(Ci,t)}function Rl(t,e){return Ci===null&&xs(t),vf(t,e)}function vf(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},li===null){if(t===null)throw Error(u(308));li=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else li=li.next=e;return i}var E_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},A_=l.unstable_scheduleCallback,O_=l.unstable_NormalPriority,Ue={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new E_,data:new Map,refCount:0}}function lo(t){t.refCount--,t.refCount===0&&A_(O_,function(){t.controller.abort()})}var uo=null,ic=0,sr=0,rr=null;function C_(t,e){if(uo===null){var i=uo=[];ic=0,sr=rh(),rr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return ic++,e.then(yf,yf),e}function yf(){if(--ic===0&&uo!==null){rr!==null&&(rr.status="fulfilled");var t=uo;uo=null,sr=0,rr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function R_(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var h=0;h<i.length;h++)(0,i[h])(e)},function(h){for(r.status="rejected",r.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),r}var bf=K.S;K.S=function(t,e){im=Ft(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&C_(t,e),bf!==null&&bf(t,e)};var Ts=T(null);function ac(){var t=Ts.current;return t!==null?t:pe.pooledCache}function kl(t,e){e===null?H(Ts,Ts.current):H(Ts,e.pool)}function wf(){var t=ac();return t===null?null:{parent:Ue._currentValue,pool:t}}var or=Error(u(460)),sc=Error(u(474)),Ll=Error(u(542)),zl={then:function(){}};function Sf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xf(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(yn,yn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ef(t),t;default:if(typeof e.status=="string")e.then(yn,yn);else{if(t=pe,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=r}},function(r){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ef(t),t}throw As=e,or}}function Es(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(As=i,or):i}}var As=null;function Tf(){if(As===null)throw Error(u(459));var t=As;return As=null,t}function Ef(t){if(t===or||t===Ll)throw Error(u(483))}var lr=null,co=0;function Ml(t){var e=co;return co+=1,lr===null&&(lr=[]),xf(lr,t,e)}function ho(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Nl(t,e){throw e.$$typeof===D?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Af(t){function e(U,k){if(t){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function i(U,k){if(!t)return null;for(;k!==null;)e(U,k),k=k.sibling;return null}function r(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=$n(U,k),U.index=0,U.sibling=null,U}function f(U,k,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=67108866,k):q):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function x(U,k,q,F){return k===null||k.tag!==6?(k=nr(q,U.mode,F),k.return=U,k):(k=h(k,q),k.return=U,k)}function O(U,k,q,F){var Tt=q.type;return Tt===j?X(U,k,q.props.children,F,q.key):k!==null&&(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===z&&Es(Tt)===k.type)?(k=h(k,q.props),ho(k,q),k.return=U,k):(k=bs(q.type,q.key,q.props,null,U.mode,F),ho(k,q),k.return=U,k)}function Z(U,k,q,F){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=so(q,U.mode,F),k.return=U,k):(k=h(k,q.children||[]),k.return=U,k)}function X(U,k,q,F,Tt){return k===null||k.tag!==7?(k=Zi(q,U.mode,F,Tt),k.return=U,k):(k=h(k,q),k.return=U,k)}function et(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=nr(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return q=bs(k.type,k.key,k.props,null,U.mode,q),ho(q,k),q.return=U,q;case I:return k=so(k,U.mode,q),k.return=U,k;case z:return k=Es(k),et(U,k,q)}if(ae(k)||ot(k))return k=Zi(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return et(U,Ml(k),q);if(k.$$typeof===J)return et(U,Rl(U,k),q);Nl(U,k)}return null}function V(U,k,q,F){var Tt=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Tt!==null?null:x(U,k,""+q,F);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case P:return q.key===Tt?O(U,k,q,F):null;case I:return q.key===Tt?Z(U,k,q,F):null;case z:return q=Es(q),V(U,k,q,F)}if(ae(q)||ot(q))return Tt!==null?null:X(U,k,q,F,null);if(typeof q.then=="function")return V(U,k,Ml(q),F);if(q.$$typeof===J)return V(U,k,Rl(U,q),F);Nl(U,q)}return null}function Y(U,k,q,F,Tt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(q)||null,x(k,U,""+F,Tt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return U=U.get(F.key===null?q:F.key)||null,O(k,U,F,Tt);case I:return U=U.get(F.key===null?q:F.key)||null,Z(k,U,F,Tt);case z:return F=Es(F),Y(U,k,q,F,Tt)}if(ae(F)||ot(F))return U=U.get(q)||null,X(k,U,F,Tt,null);if(typeof F.then=="function")return Y(U,k,q,Ml(F),Tt);if(F.$$typeof===J)return Y(U,k,q,Rl(k,F),Tt);Nl(k,F)}return null}function _t(U,k,q,F){for(var Tt=null,ee=null,vt=k,Ht=k=0,Jt=null;vt!==null&&Ht<q.length;Ht++){vt.index>Ht?(Jt=vt,vt=null):Jt=vt.sibling;var ne=V(U,vt,q[Ht],F);if(ne===null){vt===null&&(vt=Jt);break}t&&vt&&ne.alternate===null&&e(U,vt),k=f(ne,k,Ht),ee===null?Tt=ne:ee.sibling=ne,ee=ne,vt=Jt}if(Ht===q.length)return i(U,vt),Vt&&wt(U,Ht),Tt;if(vt===null){for(;Ht<q.length;Ht++)vt=et(U,q[Ht],F),vt!==null&&(k=f(vt,k,Ht),ee===null?Tt=vt:ee.sibling=vt,ee=vt);return Vt&&wt(U,Ht),Tt}for(vt=r(vt);Ht<q.length;Ht++)Jt=Y(vt,U,Ht,q[Ht],F),Jt!==null&&(t&&Jt.alternate!==null&&vt.delete(Jt.key===null?Ht:Jt.key),k=f(Jt,k,Ht),ee===null?Tt=Jt:ee.sibling=Jt,ee=Jt);return t&&vt.forEach(function(Za){return e(U,Za)}),Vt&&wt(U,Ht),Tt}function Ct(U,k,q,F){if(q==null)throw Error(u(151));for(var Tt=null,ee=null,vt=k,Ht=k=0,Jt=null,ne=q.next();vt!==null&&!ne.done;Ht++,ne=q.next()){vt.index>Ht?(Jt=vt,vt=null):Jt=vt.sibling;var Za=V(U,vt,ne.value,F);if(Za===null){vt===null&&(vt=Jt);break}t&&vt&&Za.alternate===null&&e(U,vt),k=f(Za,k,Ht),ee===null?Tt=Za:ee.sibling=Za,ee=Za,vt=Jt}if(ne.done)return i(U,vt),Vt&&wt(U,Ht),Tt;if(vt===null){for(;!ne.done;Ht++,ne=q.next())ne=et(U,ne.value,F),ne!==null&&(k=f(ne,k,Ht),ee===null?Tt=ne:ee.sibling=ne,ee=ne);return Vt&&wt(U,Ht),Tt}for(vt=r(vt);!ne.done;Ht++,ne=q.next())ne=Y(vt,U,Ht,ne.value,F),ne!==null&&(t&&ne.alternate!==null&&vt.delete(ne.key===null?Ht:ne.key),k=f(ne,k,Ht),ee===null?Tt=ne:ee.sibling=ne,ee=ne);return t&&vt.forEach(function(Hg){return e(U,Hg)}),Vt&&wt(U,Ht),Tt}function de(U,k,q,F){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case P:t:{for(var Tt=q.key;k!==null;){if(k.key===Tt){if(Tt=q.type,Tt===j){if(k.tag===7){i(U,k.sibling),F=h(k,q.props.children),F.return=U,U=F;break t}}else if(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===z&&Es(Tt)===k.type){i(U,k.sibling),F=h(k,q.props),ho(F,q),F.return=U,U=F;break t}i(U,k);break}else e(U,k);k=k.sibling}q.type===j?(F=Zi(q.props.children,U.mode,F,q.key),F.return=U,U=F):(F=bs(q.type,q.key,q.props,null,U.mode,F),ho(F,q),F.return=U,U=F)}return v(U);case I:t:{for(Tt=q.key;k!==null;){if(k.key===Tt)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){i(U,k.sibling),F=h(k,q.children||[]),F.return=U,U=F;break t}else{i(U,k);break}else e(U,k);k=k.sibling}F=so(q,U.mode,F),F.return=U,U=F}return v(U);case z:return q=Es(q),de(U,k,q,F)}if(ae(q))return _t(U,k,q,F);if(ot(q)){if(Tt=ot(q),typeof Tt!="function")throw Error(u(150));return q=Tt.call(q),Ct(U,k,q,F)}if(typeof q.then=="function")return de(U,k,Ml(q),F);if(q.$$typeof===J)return de(U,k,Rl(U,q),F);Nl(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(i(U,k.sibling),F=h(k,q),F.return=U,U=F):(i(U,k),F=nr(q,U.mode,F),F.return=U,U=F),v(U)):i(U,k)}return function(U,k,q,F){try{co=0;var Tt=de(U,k,q,F);return lr=null,Tt}catch(vt){if(vt===or||vt===Ll)throw vt;var ee=rn(29,vt,null,U.mode);return ee.lanes=F,ee.return=U,ee}}}var Os=Af(!0),Of=Af(!1),Ea=!1;function rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ie&2)!==0){var h=r.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),r.pending=e,e=ys(t),xa(t,null,i),e}return Ei(t,r,e,i),ys(t)}function fo(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,el(t,i)}}function lc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?h=f=e:f=f.next=e}else h=f=e;i={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var uc=!1;function mo(){if(uc){var t=rr;if(t!==null)throw t}}function po(t,e,i,r){uc=!1;var h=t.updateQueue;Ea=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var O=x,Z=O.next;O.next=null,v===null?f=Z:v.next=Z,v=O;var X=t.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==v&&(x===null?X.firstBaseUpdate=Z:x.next=Z,X.lastBaseUpdate=O))}if(f!==null){var et=h.baseState;v=0,X=Z=O=null,x=f;do{var V=x.lane&-536870913,Y=V!==x.lane;if(Y?(Xt&V)===V:(r&V)===V){V!==0&&V===sr&&(uc=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var _t=t,Ct=x;V=e;var de=i;switch(Ct.tag){case 1:if(_t=Ct.payload,typeof _t=="function"){et=_t.call(de,et,V);break t}et=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Ct.payload,V=typeof _t=="function"?_t.call(de,et,V):_t,V==null)break t;et=R({},et,V);break t;case 2:Ea=!0}}V=x.callback,V!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[V]:Y.push(V))}else Y={lane:V,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(Z=X=Y,O=et):X=X.next=Y,v|=V;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(O=et),h.baseState=O,h.firstBaseUpdate=Z,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),za|=v,t.lanes=v,t.memoizedState=et}}function Cf(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function Rf(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Cf(i[t],e)}var ur=T(null),jl=T(0);function kf(t,e){t=Wi,H(jl,t),H(ur,e),Wi=t|e.baseLanes}function cc(){H(jl,Wi),H(ur,ur.current)}function hc(){Wi=jl.current,C(ur),C(jl)}var Mn=T(null),Xn=null;function Ca(t){var e=t.alternate;H(Le,Le.current&1),H(Mn,t),Xn===null&&(e===null||ur.current!==null||e.memoizedState!==null)&&(Xn=t)}function fc(t){H(Le,Le.current),H(Mn,t),Xn===null&&(Xn=t)}function Lf(t){t.tag===22?(H(Le,Le.current),H(Mn,t),Xn===null&&(Xn=t)):Ra()}function Ra(){H(Le,Le.current),H(Mn,Mn.current)}function Nn(t){C(Mn),Xn===t&&(Xn=null),C(Le)}var Le=T(0);function Dl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||vh(i)||yh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vi=0,Bt=null,he=null,Be=null,Ul=!1,cr=!1,Cs=!1,Bl=0,_o=0,hr=null,k_=0;function Ce(){throw Error(u(321))}function dc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ye(t[i],e[i]))return!1;return!0}function mc(t,e,i,r,h,f){return Vi=f,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K.H=t===null||t.memoizedState===null?md:Rc,Cs=!1,f=i(r,h),Cs=!1,cr&&(f=Mf(e,i,r,h)),zf(t),f}function zf(t){K.H=yo;var e=he!==null&&he.next!==null;if(Vi=0,Be=he=Bt=null,Ul=!1,_o=0,hr=null,e)throw Error(u(300));t===null||Pe||(t=t.dependencies,t!==null&&Cl(t)&&(Pe=!0))}function Mf(t,e,i,r){Bt=t;var h=0;do{if(cr&&(hr=null),_o=0,cr=!1,25<=h)throw Error(u(301));if(h+=1,Be=he=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=pd,f=e(i,r)}while(cr);return f}function L_(){var t=K.H,e=t.useState()[0];return e=typeof e.then=="function"?go(e):e,t=t.useState()[0],(he!==null?he.memoizedState:null)!==t&&(Bt.flags|=1024),e}function pc(){var t=Bl!==0;return Bl=0,t}function _c(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function gc(t){if(Ul){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ul=!1}Vi=0,Be=he=Bt=null,cr=!1,_o=Bl=0,hr=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Bt.memoizedState=Be=t:Be=Be.next=t,Be}function ze(){if(he===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=Be===null?Bt.memoizedState:Be.next;if(e!==null)Be=e,he=t;else{if(t===null)throw Bt.alternate===null?Error(u(467)):Error(u(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Be===null?Bt.memoizedState=Be=t:Be=Be.next=t}return Be}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(t){var e=_o;return _o+=1,hr===null&&(hr=[]),t=xf(hr,t,e),e=Bt,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,K.H=e===null||e.memoizedState===null?md:Rc),t}function Hl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return go(t);if(t.$$typeof===J)return We(t)}throw Error(u(438,String(t)))}function vc(t){var e=null,i=Bt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=Bt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Pl(),Bt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=$;return e.index++,i}function Ki(t,e){return typeof e=="function"?e(t):e}function ql(t){var e=ze();return yc(e,he,t)}function yc(t,e,i){var r=t.queue;if(r===null)throw Error(u(311));r.lastRenderedReducer=i;var h=t.baseQueue,f=r.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}e.baseQueue=h=f,r.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{e=h.next;var x=v=null,O=null,Z=e,X=!1;do{var et=Z.lane&-536870913;if(et!==Z.lane?(Xt&et)===et:(Vi&et)===et){var V=Z.revertLane;if(V===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),et===sr&&(X=!0);else if((Vi&V)===V){Z=Z.next,V===sr&&(X=!0);continue}else et={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},O===null?(x=O=et,v=f):O=O.next=et,Bt.lanes|=V,za|=V;et=Z.action,Cs&&i(f,et),f=Z.hasEagerState?Z.eagerState:i(f,et)}else V={lane:et,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},O===null?(x=O=V,v=f):O=O.next=V,Bt.lanes|=et,za|=et;Z=Z.next}while(Z!==null&&Z!==e);if(O===null?v=f:O.next=x,!Ye(f,t.memoizedState)&&(Pe=!0,X&&(i=rr,i!==null)))throw i;t.memoizedState=f,t.baseState=v,t.baseQueue=O,r.lastRenderedState=f}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function bc(t){var e=ze(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var r=i.dispatch,h=i.pending,f=e.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Ye(f,e.memoizedState)||(Pe=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,r]}function Nf(t,e,i){var r=Bt,h=ze(),f=Vt;if(f){if(i===void 0)throw Error(u(407));i=i()}else i=e();var v=!Ye((he||h).memoizedState,i);if(v&&(h.memoizedState=i,Pe=!0),h=h.queue,xc(Uf.bind(null,r,h,t),[t]),h.getSnapshot!==e||v||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,fr(9,{destroy:void 0},Df.bind(null,r,h,i,e),null),pe===null)throw Error(u(349));f||(Vi&127)!==0||jf(r,e,i)}return i}function jf(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Bt.updateQueue,e===null?(e=Pl(),Bt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Df(t,e,i,r){e.value=i,e.getSnapshot=r,Bf(e)&&Pf(t)}function Uf(t,e,i){return i(function(){Bf(e)&&Pf(t)})}function Bf(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ye(t,i)}catch{return!0}}function Pf(t){var e=Yn(t,2);e!==null&&Cn(e,t,2)}function wc(t){var e=fn();if(typeof t=="function"){var i=t;if(t=i(),Cs){ti(!0);try{i()}finally{ti(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},e}function Hf(t,e,i,r){return t.baseState=i,yc(t,he,typeof r=="function"?r:Ki)}function z_(t,e,i,r,h){if(Gl(t))throw Error(u(485));if(t=e.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};K.T!==null?i(!0):f.isTransition=!1,r(f),i=e.pending,i===null?(f.next=e.pending=f,qf(e,f)):(f.next=i.next,e.pending=i.next=f)}}function qf(t,e){var i=e.action,r=e.payload,h=t.state;if(e.isTransition){var f=K.T,v={};K.T=v;try{var x=i(h,r),O=K.S;O!==null&&O(v,x),Zf(t,e,x)}catch(Z){Sc(t,e,Z)}finally{f!==null&&v.types!==null&&(f.types=v.types),K.T=f}}else try{f=i(h,r),Zf(t,e,f)}catch(Z){Sc(t,e,Z)}}function Zf(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){If(t,e,r)},function(r){return Sc(t,e,r)}):If(t,e,i)}function If(t,e,i){e.status="fulfilled",e.value=i,Gf(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,qf(t,i)))}function Sc(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Gf(e),e=e.next;while(e!==r)}t.action=null}function Gf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Vf(t,e){return e}function Kf(t,e){if(Vt){var i=pe.formState;if(i!==null){t:{var r=Bt;if(Vt){if(te){e:{for(var h=te,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Jn(h.nextSibling),r=h.data==="F!";break t}}Oi(r)}r=!1}r&&(e=i[0])}}return i=fn(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:e},i.queue=r,i=hd.bind(null,Bt,r),r.dispatch=i,r=wc(!1),f=Cc.bind(null,Bt,!1,r.queue),r=fn(),h={state:e,dispatch:null,action:t,pending:null},r.queue=h,i=z_.bind(null,Bt,h,f,i),h.dispatch=i,r.memoizedState=t,[e,i,!1]}function Yf(t){var e=ze();return $f(e,he,t)}function $f(t,e,i){if(e=yc(t,e,Vf)[0],t=ql(Ki)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=go(e)}catch(v){throw v===or?Ll:v}else r=e;e=ze();var h=e.queue,f=h.dispatch;return i!==e.memoizedState&&(Bt.flags|=2048,fr(9,{destroy:void 0},M_.bind(null,h,i),null)),[r,f,t]}function M_(t,e){t.action=e}function Xf(t){var e=ze(),i=he;if(i!==null)return $f(e,i,t);ze(),e=e.memoizedState,i=ze();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function fr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=Bt.updateQueue,e===null&&(e=Pl(),Bt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Jf(){return ze().memoizedState}function Zl(t,e,i,r){var h=fn();Bt.flags|=t,h.memoizedState=fr(1|e,{destroy:void 0},i,r===void 0?null:r)}function Il(t,e,i,r){var h=ze();r=r===void 0?null:r;var f=h.memoizedState.inst;he!==null&&r!==null&&dc(r,he.memoizedState.deps)?h.memoizedState=fr(e,f,i,r):(Bt.flags|=t,h.memoizedState=fr(1|e,f,i,r))}function Qf(t,e){Zl(8390656,8,t,e)}function xc(t,e){Il(2048,8,t,e)}function N_(t){Bt.flags|=4;var e=Bt.updateQueue;if(e===null)e=Pl(),Bt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Ff(t){var e=ze().memoizedState;return N_({ref:e,nextImpl:t}),function(){if((ie&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function Wf(t,e){return Il(4,2,t,e)}function td(t,e){return Il(4,4,t,e)}function ed(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nd(t,e,i){i=i!=null?i.concat([t]):null,Il(4,4,ed.bind(null,e,t),i)}function Tc(){}function id(t,e){var i=ze();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&dc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function ad(t,e){var i=ze();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&dc(e,r[1]))return r[0];if(r=t(),Cs){ti(!0);try{t()}finally{ti(!1)}}return i.memoizedState=[r,e],r}function Ec(t,e,i){return i===void 0||(Vi&1073741824)!==0&&(Xt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=sm(),Bt.lanes|=t,za|=t,i)}function sd(t,e,i,r){return Ye(i,e)?i:ur.current!==null?(t=Ec(t,i,r),Ye(t,e)||(Pe=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(Xt&261930)===0?(Pe=!0,t.memoizedState=i):(t=sm(),Bt.lanes|=t,za|=t,e)}function rd(t,e,i,r,h){var f=Q.p;Q.p=f!==0&&8>f?f:8;var v=K.T,x={};K.T=x,Cc(t,!1,e,i);try{var O=h(),Z=K.S;if(Z!==null&&Z(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=R_(O,r);vo(t,e,X,Un(t))}else vo(t,e,r,Un(t))}catch(et){vo(t,e,{then:function(){},status:"rejected",reason:et},Un())}finally{Q.p=f,v!==null&&x.types!==null&&(v.types=x.types),K.T=v}}function j_(){}function Ac(t,e,i,r){if(t.tag!==5)throw Error(u(476));var h=od(t).queue;rd(t,h,e,W,i===null?j_:function(){return ld(t),i(r)})}function od(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:W},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ld(t){var e=od(t);e.next===null&&(e=t.alternate.memoizedState),vo(t,e.next.queue,{},Un())}function Oc(){return We(jo)}function ud(){return ze().memoizedState}function cd(){return ze().memoizedState}function D_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Un();t=Aa(i);var r=Oa(e,t,i);r!==null&&(Cn(r,e,i),fo(r,e,i)),e={cache:nc()},t.payload=e;return}e=e.return}}function U_(t,e,i){var r=Un();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Gl(t)?fd(e,i):(i=no(t,e,i,r),i!==null&&(Cn(i,t,r),dd(i,e,r)))}function hd(t,e,i){var r=Un();vo(t,e,i,r)}function vo(t,e,i,r){var h={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gl(t))fd(e,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var v=e.lastRenderedState,x=f(v,i);if(h.hasEagerState=!0,h.eagerState=x,Ye(x,v))return Ei(t,e,h,0),pe===null&&vs(),!1}catch{}if(i=no(t,e,h,r),i!==null)return Cn(i,t,r),dd(i,e,r),!0}return!1}function Cc(t,e,i,r){if(r={lane:2,revertLane:rh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gl(t)){if(e)throw Error(u(479))}else e=no(t,i,r,2),e!==null&&Cn(e,t,2)}function Gl(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function fd(t,e){cr=Ul=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function dd(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,el(t,i)}}var yo={readContext:We,use:Hl,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce};yo.useEffectEvent=Ce;var md={readContext:We,use:Hl,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:Qf,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Zl(4194308,4,ed.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Zl(4194308,4,t,e)},useInsertionEffect:function(t,e){Zl(4,2,t,e)},useMemo:function(t,e){var i=fn();e=e===void 0?null:e;var r=t();if(Cs){ti(!0);try{t()}finally{ti(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=fn();if(i!==void 0){var h=i(e);if(Cs){ti(!0);try{i(e)}finally{ti(!1)}}}else h=e;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=U_.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:function(t){t=wc(t);var e=t.queue,i=hd.bind(null,Bt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Tc,useDeferredValue:function(t,e){var i=fn();return Ec(i,t,e)},useTransition:function(){var t=wc(!1);return t=rd.bind(null,Bt,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=Bt,h=fn();if(Vt){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),pe===null)throw Error(u(349));(Xt&127)!==0||jf(r,e,i)}h.memoizedState=i;var f={value:i,getSnapshot:e};return h.queue=f,Qf(Uf.bind(null,r,f,t),[t]),r.flags|=2048,fr(9,{destroy:void 0},Df.bind(null,r,f,i,e),null),i},useId:function(){var t=fn(),e=pe.identifierPrefix;if(Vt){var i=ft,r=tt;i=(r&~(1<<32-un(r)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Bl++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=k_++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Oc,useFormState:Kf,useActionState:Kf,useOptimistic:function(t){var e=fn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Cc.bind(null,Bt,!0,i),i.dispatch=e,[t,e]},useMemoCache:vc,useCacheRefresh:function(){return fn().memoizedState=D_.bind(null,Bt)},useEffectEvent:function(t){var e=fn(),i={impl:t};return e.memoizedState=i,function(){if((ie&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},Rc={readContext:We,use:Hl,useCallback:id,useContext:We,useEffect:xc,useImperativeHandle:nd,useInsertionEffect:Wf,useLayoutEffect:td,useMemo:ad,useReducer:ql,useRef:Jf,useState:function(){return ql(Ki)},useDebugValue:Tc,useDeferredValue:function(t,e){var i=ze();return sd(i,he.memoizedState,t,e)},useTransition:function(){var t=ql(Ki)[0],e=ze().memoizedState;return[typeof t=="boolean"?t:go(t),e]},useSyncExternalStore:Nf,useId:ud,useHostTransitionStatus:Oc,useFormState:Yf,useActionState:Yf,useOptimistic:function(t,e){var i=ze();return Hf(i,he,t,e)},useMemoCache:vc,useCacheRefresh:cd};Rc.useEffectEvent=Ff;var pd={readContext:We,use:Hl,useCallback:id,useContext:We,useEffect:xc,useImperativeHandle:nd,useInsertionEffect:Wf,useLayoutEffect:td,useMemo:ad,useReducer:bc,useRef:Jf,useState:function(){return bc(Ki)},useDebugValue:Tc,useDeferredValue:function(t,e){var i=ze();return he===null?Ec(i,t,e):sd(i,he.memoizedState,t,e)},useTransition:function(){var t=bc(Ki)[0],e=ze().memoizedState;return[typeof t=="boolean"?t:go(t),e]},useSyncExternalStore:Nf,useId:ud,useHostTransitionStatus:Oc,useFormState:Xf,useActionState:Xf,useOptimistic:function(t,e){var i=ze();return he!==null?Hf(i,he,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:vc,useCacheRefresh:cd};pd.useEffectEvent=Ff;function kc(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:R({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Lc={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=Un(),h=Aa(r);h.payload=e,i!=null&&(h.callback=i),e=Oa(t,h,r),e!==null&&(Cn(e,t,r),fo(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=Un(),h=Aa(r);h.tag=1,h.payload=e,i!=null&&(h.callback=i),e=Oa(t,h,r),e!==null&&(Cn(e,t,r),fo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Un(),r=Aa(i);r.tag=2,e!=null&&(r.callback=e),e=Oa(t,r,i),e!==null&&(Cn(e,t,i),fo(e,t,i))}};function _d(t,e,i,r,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,f,v):e.prototype&&e.prototype.isPureReactComponent?!ya(i,r)||!ya(h,f):!0}function gd(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function Rs(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=R({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function vd(t){gs(t)}function yd(t){console.error(t)}function bd(t){gs(t)}function Vl(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function wd(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zc(t,e,i){return i=Aa(i),i.tag=3,i.payload={element:null},i.callback=function(){Vl(t,e)},i}function Sd(t){return t=Aa(t),t.tag=3,t}function xd(t,e,i,r){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=r.value;t.payload=function(){return h(f)},t.callback=function(){wd(e,i,r)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){wd(e,i,r),typeof h!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function B_(t,e,i,r,h){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&ar(e,i,h,!0),i=Mn.current,i!==null){switch(i.tag){case 31:case 13:return Xn===null?iu():i.alternate===null&&Re===0&&(Re=3),i.flags&=-257,i.flags|=65536,i.lanes=h,r===zl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),ih(t,r,h)),!1;case 22:return i.flags|=65536,r===zl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),ih(t,r,h)),!1}throw Error(u(435,i.tag))}return ih(t,r,h),iu(),!1}if(Vt)return e=Mn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,r!==ir&&(t=Error(u(422),{cause:r}),ws(s(t,i)))):(r!==ir&&(e=Error(u(423),{cause:r}),ws(s(e,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=s(r,i),h=zc(t.stateNode,r,h),lc(t,h),Re!==4&&(Re=2)),!1;var f=Error(u(520),{cause:r});if(f=s(f,i),Oo===null?Oo=[f]:Oo.push(f),Re!==4&&(Re=2),e===null)return!0;r=s(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=zc(i.stateNode,r,t),lc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ma===null||!Ma.has(f))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Sd(h),xd(h,t,i,r),lc(i,h),!1}i=i.return}while(i!==null);return!1}var Mc=Error(u(461)),Pe=!1;function tn(t,e,i,r){e.child=t===null?Of(e,null,i,r):Os(e,t.child,i,r)}function Td(t,e,i,r,h){i=i.render;var f=e.ref;if("ref"in r){var v={};for(var x in r)x!=="ref"&&(v[x]=r[x])}else v=r;return xs(e),r=mc(t,e,i,v,f,h),x=pc(),t!==null&&!Pe?(_c(t,e,h),Yi(t,e,h)):(Vt&&x&&Ie(e),e.flags|=1,tn(t,e,r,h),e.child)}function Ed(t,e,i,r,h){if(t===null){var f=i.type;return typeof f=="function"&&!er(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,Ad(t,e,f,r,h)):(t=bs(i.type,null,r,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!qc(t,h)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:ya,i(v,r)&&t.ref===e.ref)return Yi(t,e,h)}return e.flags|=1,t=$n(f,r),t.ref=e.ref,t.return=e,e.child=t}function Ad(t,e,i,r,h){if(t!==null){var f=t.memoizedProps;if(ya(f,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=f,qc(t,h))(t.flags&131072)!==0&&(Pe=!0);else return e.lanes=t.lanes,Yi(t,e,h)}return Nc(t,e,i,r,h)}function Od(t,e,i,r){var h=r.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(r=e.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~f}else r=0,e.child=null;return Cd(t,e,f,i,r)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&kl(e,f!==null?f.cachePool:null),f!==null?kf(e,f):cc(),Lf(e);else return r=e.lanes=536870912,Cd(t,e,f!==null?f.baseLanes|i:i,i,r)}else f!==null?(kl(e,f.cachePool),kf(e,f),Ra(),e.memoizedState=null):(t!==null&&kl(e,null),cc(),Ra());return tn(t,e,h,i),e.child}function bo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Cd(t,e,i,r,h){var f=ac();return f=f===null?null:{parent:Ue._currentValue,pool:f},e.memoizedState={baseLanes:i,cachePool:f},t!==null&&kl(e,null),cc(),Lf(e),t!==null&&ar(t,e,r,!0),e.childLanes=h,null}function Kl(t,e){return e=$l({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Rd(t,e,i){return Os(e,t.child,null,i),t=Kl(e,e.pendingProps),t.flags|=2,Nn(e),e.memoizedState=null,t}function P_(t,e,i){var r=e.pendingProps,h=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Vt){if(r.mode==="hidden")return t=Kl(e,r),e.lanes=536870912,bo(null,t);if(fc(e),(t=te)?(t=qm(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:G!==null?{id:tt,overflow:ft}:null,retryLane:536870912,hydrationErrors:null},i=ao(t),i.return=e,e.child=i,Wt=e,te=null)):t=null,t===null)throw Oi(e);return e.lanes=536870912,null}return Kl(e,r)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(fc(e),h)if(e.flags&256)e.flags&=-257,e=Rd(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(Pe||ar(t,e,i,!1),h=(i&t.childLanes)!==0,Pe||h){if(r=pe,r!==null&&(v=nl(r,i),v!==0&&v!==f.retryLane))throw f.retryLane=v,Yn(t,v),Cn(r,t,v),Mc;iu(),e=Rd(t,e,i)}else t=f.treeContext,te=Jn(v.nextSibling),Wt=e,Vt=!0,Ai=null,xn=!1,t!==null&&hn(e,t),e=Kl(e,r),e.flags|=4096;return e}return t=$n(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Yl(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Nc(t,e,i,r,h){return xs(e),i=mc(t,e,i,r,void 0,h),r=pc(),t!==null&&!Pe?(_c(t,e,h),Yi(t,e,h)):(Vt&&r&&Ie(e),e.flags|=1,tn(t,e,i,h),e.child)}function kd(t,e,i,r,h,f){return xs(e),e.updateQueue=null,i=Mf(e,r,i,h),zf(t),r=pc(),t!==null&&!Pe?(_c(t,e,f),Yi(t,e,f)):(Vt&&r&&Ie(e),e.flags|=1,tn(t,e,i,f),e.child)}function Ld(t,e,i,r,h){if(xs(e),e.stateNode===null){var f=qi,v=i.contextType;typeof v=="object"&&v!==null&&(f=We(v)),f=new i(r,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lc,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=r,f.state=e.memoizedState,f.refs={},rc(e),v=i.contextType,f.context=typeof v=="object"&&v!==null?We(v):qi,f.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(kc(e,i,v,r),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Lc.enqueueReplaceState(f,f.state,null),po(e,r,f,h),mo(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){f=e.stateNode;var x=e.memoizedProps,O=Rs(i,x);f.props=O;var Z=f.context,X=i.contextType;v=qi,typeof X=="object"&&X!==null&&(v=We(X));var et=i.getDerivedStateFromProps;X=typeof et=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=e.pendingProps!==x,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||Z!==v)&&gd(e,f,r,v),Ea=!1;var V=e.memoizedState;f.state=V,po(e,r,f,h),mo(),Z=e.memoizedState,x||V!==Z||Ea?(typeof et=="function"&&(kc(e,i,et,r),Z=e.memoizedState),(O=Ea||_d(e,i,O,r,V,Z,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=Z),f.props=r,f.state=Z,f.context=v,r=O):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{f=e.stateNode,oc(t,e),v=e.memoizedProps,X=Rs(i,v),f.props=X,et=e.pendingProps,V=f.context,Z=i.contextType,O=qi,typeof Z=="object"&&Z!==null&&(O=We(Z)),x=i.getDerivedStateFromProps,(Z=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==et||V!==O)&&gd(e,f,r,O),Ea=!1,V=e.memoizedState,f.state=V,po(e,r,f,h),mo();var Y=e.memoizedState;v!==et||V!==Y||Ea||t!==null&&t.dependencies!==null&&Cl(t.dependencies)?(typeof x=="function"&&(kc(e,i,x,r),Y=e.memoizedState),(X=Ea||_d(e,i,X,r,V,Y,O)||t!==null&&t.dependencies!==null&&Cl(t.dependencies))?(Z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,Y,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,Y,O)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&V===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&V===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Y),f.props=r,f.state=Y,f.context=O,r=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&V===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&V===t.memoizedState||(e.flags|=1024),r=!1)}return f=r,Yl(t,e),r=(e.flags&128)!==0,f||r?(f=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&r?(e.child=Os(e,t.child,null,h),e.child=Os(e,null,i,h)):tn(t,e,i,h),e.memoizedState=f.state,t=e.child):t=Yi(t,e,h),t}function zd(t,e,i,r){return Ii(),e.flags|=256,tn(t,e,i,r),e.child}var jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(t){return{baseLanes:t,cachePool:wf()}}function Uc(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Dn),t}function Md(t,e,i){var r=e.pendingProps,h=!1,f=(e.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Le.current&2)!==0),v&&(h=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Vt){if(h?Ca(e):Ra(),(t=te)?(t=qm(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:G!==null?{id:tt,overflow:ft}:null,retryLane:536870912,hydrationErrors:null},i=ao(t),i.return=e,e.child=i,Wt=e,te=null)):t=null,t===null)throw Oi(e);return yh(t)?e.lanes=32:e.lanes=536870912,null}var x=r.children;return r=r.fallback,h?(Ra(),h=e.mode,x=$l({mode:"hidden",children:x},h),r=Zi(r,h,i,null),x.return=e,r.return=e,x.sibling=r,e.child=x,r=e.child,r.memoizedState=Dc(i),r.childLanes=Uc(t,v,i),e.memoizedState=jc,bo(null,r)):(Ca(e),Bc(e,x))}var O=t.memoizedState;if(O!==null&&(x=O.dehydrated,x!==null)){if(f)e.flags&256?(Ca(e),e.flags&=-257,e=Pc(t,e,i)):e.memoizedState!==null?(Ra(),e.child=t.child,e.flags|=128,e=null):(Ra(),x=r.fallback,h=e.mode,r=$l({mode:"visible",children:r.children},h),x=Zi(x,h,i,null),x.flags|=2,r.return=e,x.return=e,r.sibling=x,e.child=r,Os(e,t.child,null,i),r=e.child,r.memoizedState=Dc(i),r.childLanes=Uc(t,v,i),e.memoizedState=jc,e=bo(null,r));else if(Ca(e),yh(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var Z=v.dgst;v=Z,r=Error(u(419)),r.stack="",r.digest=v,ws({value:r,source:null,stack:null}),e=Pc(t,e,i)}else if(Pe||ar(t,e,i,!1),v=(i&t.childLanes)!==0,Pe||v){if(v=pe,v!==null&&(r=nl(v,i),r!==0&&r!==O.retryLane))throw O.retryLane=r,Yn(t,r),Cn(v,t,r),Mc;vh(x)||iu(),e=Pc(t,e,i)}else vh(x)?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,te=Jn(x.nextSibling),Wt=e,Vt=!0,Ai=null,xn=!1,t!==null&&hn(e,t),e=Bc(e,r.children),e.flags|=4096);return e}return h?(Ra(),x=r.fallback,h=e.mode,O=t.child,Z=O.sibling,r=$n(O,{mode:"hidden",children:r.children}),r.subtreeFlags=O.subtreeFlags&65011712,Z!==null?x=$n(Z,x):(x=Zi(x,h,i,null),x.flags|=2),x.return=e,r.return=e,r.sibling=x,e.child=r,bo(null,r),r=e.child,x=t.child.memoizedState,x===null?x=Dc(i):(h=x.cachePool,h!==null?(O=Ue._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=wf(),x={baseLanes:x.baseLanes|i,cachePool:h}),r.memoizedState=x,r.childLanes=Uc(t,v,i),e.memoizedState=jc,bo(t.child,r)):(Ca(e),i=t.child,t=i.sibling,i=$n(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=i,e.memoizedState=null,i)}function Bc(t,e){return e=$l({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $l(t,e){return t=rn(22,t,null,e),t.lanes=0,t}function Pc(t,e,i){return Os(e,t.child,null,i),t=Bc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nd(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tc(t.return,e,i)}function Hc(t,e,i,r,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:h,treeForkCount:f}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=r,v.tail=i,v.tailMode=h,v.treeForkCount=f)}function jd(t,e,i){var r=e.pendingProps,h=r.revealOrder,f=r.tail;r=r.children;var v=Le.current,x=(v&2)!==0;if(x?(v=v&1|2,e.flags|=128):v&=1,H(Le,v),tn(t,e,r,i),r=Vt?S:0,!x&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nd(t,i,e);else if(t.tag===19)Nd(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=e.child,h=null;i!==null;)t=i.alternate,t!==null&&Dl(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Hc(e,!1,h,i,f,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&Dl(t)===null){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Hc(e,!0,i,null,f,r);break;case"together":Hc(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Yi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),za|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(ar(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=$n(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=$n(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function qc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Cl(t)))}function H_(t,e,i){switch(e.tag){case 3:pt(e,e.stateNode.containerInfo),Ta(e,Ue,t.memoizedState.cache),Ii();break;case 27:case 5:Qt(e);break;case 4:pt(e,e.stateNode.containerInfo);break;case 10:Ta(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,fc(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ca(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Md(t,e,i):(Ca(e),t=Yi(t,e,i),t!==null?t.sibling:null);Ca(e);break;case 19:var h=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(ar(t,e,i,!1),r=(i&e.childLanes)!==0),h){if(r)return jd(t,e,i);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),H(Le,Le.current),r)break;return null;case 22:return e.lanes=0,Od(t,e,i,e.pendingProps);case 24:Ta(e,Ue,t.memoizedState.cache)}return Yi(t,e,i)}function Dd(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Pe=!0;else{if(!qc(t,i)&&(e.flags&128)===0)return Pe=!1,H_(t,e,i);Pe=(t.flags&131072)!==0}else Pe=!1,Vt&&(e.flags&1048576)!==0&&Pt(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var r=e.pendingProps;if(t=Es(e.elementType),e.type=t,typeof t=="function")er(t)?(r=Rs(t,r),e.tag=1,e=Ld(null,e,t,r,i)):(e.tag=0,e=Nc(null,e,t,r,i));else{if(t!=null){var h=t.$$typeof;if(h===gt){e.tag=11,e=Td(null,e,t,r,i);break t}else if(h===ut){e.tag=14,e=Ed(null,e,t,r,i);break t}}throw e=Nt(t)||t,Error(u(306,e,""))}}return e;case 0:return Nc(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,h=Rs(r,e.pendingProps),Ld(t,e,r,h,i);case 3:t:{if(pt(e,e.stateNode.containerInfo),t===null)throw Error(u(387));r=e.pendingProps;var f=e.memoizedState;h=f.element,oc(t,e),po(e,r,null,i);var v=e.memoizedState;if(r=v.cache,Ta(e,Ue,r),r!==f.cache&&ec(e,[Ue],i,!0),mo(),r=v.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=zd(t,e,r,i);break t}else if(r!==h){h=s(Error(u(424)),e),ws(h),e=zd(t,e,r,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,te=Jn(t.firstChild),Wt=e,Vt=!0,Ai=null,xn=!0,i=Of(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ii(),r===h){e=Yi(t,e,i);break t}tn(t,e,r,i)}e=e.child}return e;case 26:return Yl(t,e),t===null?(i=Ym(e.type,null,e.pendingProps,null))?e.memoizedState=i:Vt||(i=e.type,t=e.pendingProps,r=cu(lt.current).createElement(i),r[je]=e,r[Ke]=t,en(r,i,t),De(r),e.stateNode=r):e.memoizedState=Ym(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Qt(e),t===null&&Vt&&(r=e.stateNode=Gm(e.type,e.pendingProps,lt.current),Wt=e,xn=!0,h=te,Ua(e.type)?(bh=h,te=Jn(r.firstChild)):te=h),tn(t,e,e.pendingProps.children,i),Yl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Vt&&((h=r=te)&&(r=_g(r,e.type,e.pendingProps,xn),r!==null?(e.stateNode=r,Wt=e,te=Jn(r.firstChild),xn=!1,h=!0):h=!1),h||Oi(e)),Qt(e),h=e.type,f=e.pendingProps,v=t!==null?t.memoizedProps:null,r=f.children,ph(h,f)?r=null:v!==null&&ph(h,v)&&(e.flags|=32),e.memoizedState!==null&&(h=mc(t,e,L_,null,null,i),jo._currentValue=h),Yl(t,e),tn(t,e,r,i),e.child;case 6:return t===null&&Vt&&((t=i=te)&&(i=gg(i,e.pendingProps,xn),i!==null?(e.stateNode=i,Wt=e,te=null,t=!0):t=!1),t||Oi(e)),null;case 13:return Md(t,e,i);case 4:return pt(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Os(e,null,r,i):tn(t,e,r,i),e.child;case 11:return Td(t,e,e.type,e.pendingProps,i);case 7:return tn(t,e,e.pendingProps,i),e.child;case 8:return tn(t,e,e.pendingProps.children,i),e.child;case 12:return tn(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,Ta(e,e.type,r.value),tn(t,e,r.children,i),e.child;case 9:return h=e.type._context,r=e.pendingProps.children,xs(e),h=We(h),r=r(h),e.flags|=1,tn(t,e,r,i),e.child;case 14:return Ed(t,e,e.type,e.pendingProps,i);case 15:return Ad(t,e,e.type,e.pendingProps,i);case 19:return jd(t,e,i);case 31:return P_(t,e,i);case 22:return Od(t,e,i,e.pendingProps);case 24:return xs(e),r=We(Ue),t===null?(h=ac(),h===null&&(h=pe,f=nc(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=i),h=f),e.memoizedState={parent:r,cache:h},rc(e),Ta(e,Ue,h)):((t.lanes&i)!==0&&(oc(t,e),po(e,null,null,i),mo()),h=t.memoizedState,f=e.memoizedState,h.parent!==r?(h={parent:r,cache:r},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),Ta(e,Ue,r)):(r=f.cache,Ta(e,Ue,r),r!==h.cache&&ec(e,[Ue],i,!0))),tn(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function $i(t){t.flags|=4}function Zc(t,e,i,r,h){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(um())t.flags|=8192;else throw As=zl,sc}else t.flags&=-16777217}function Ud(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fm(e))if(um())t.flags|=8192;else throw As=zl,sc}function Xl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Wo():536870912,t.lanes|=e,_r|=e)}function wo(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function q_(t,e,i){var r=e.pendingProps;switch(Oe(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return be(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Gi(Ue),bt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(oi(e)?$i(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,oo())),be(e),null;case 26:var h=e.type,f=e.memoizedState;return t===null?($i(e),f!==null?(be(e),Ud(e,f)):(be(e),Zc(e,h,null,r,i))):f?f!==t.memoizedState?($i(e),be(e),Ud(e,f)):(be(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&$i(e),be(e),Zc(e,h,t,r,i)),null;case 27:if(Lt(e),i=lt.current,h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&$i(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return be(e),null}t=nt.current,oi(e)?ro(e):(t=Gm(h,r,i),e.stateNode=t,$i(e))}return be(e),null;case 5:if(Lt(e),h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&$i(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return be(e),null}if(f=nt.current,oi(e))ro(e);else{var v=cu(lt.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?v.createElement("select",{is:r.is}):v.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?v.createElement(h,{is:r.is}):v.createElement(h)}}f[je]=e,f[Ke]=r;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=f;t:switch(en(f,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&$i(e)}}return be(e),Zc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&$i(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(u(166));if(t=lt.current,oi(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[je]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Mm(t.nodeValue,i)),t||Oi(e,!0)}else t=cu(t).createTextNode(r),t[je]=e,e.stateNode=t}return be(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(r=oi(e),i!==null){if(t===null){if(!r)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[je]=e}else Ii(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;be(e),t=!1}else i=oo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(Nn(e),e):(Nn(e),null);if((e.flags&128)!==0)throw Error(u(558))}return be(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=oi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));h[je]=e}else Ii(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;be(e),h=!1}else h=oo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return e.flags&256?(Nn(e),e):(Nn(e),null)}return Nn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=r!==null,t=t!==null&&t.memoizedState!==null,i&&(r=e.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==h&&(r.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Xl(e,e.updateQueue),be(e),null);case 4:return bt(),t===null&&ch(e.stateNode.containerInfo),be(e),null;case 10:return Gi(e.type),be(e),null;case 19:if(C(Le),r=e.memoizedState,r===null)return be(e),null;if(h=(e.flags&128)!==0,f=r.rendering,f===null)if(h)wo(r,!1);else{if(Re!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Dl(t),f!==null){for(e.flags|=128,wo(r,!1),t=f.updateQueue,e.updateQueue=t,Xl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)io(i,t),i=i.sibling;return H(Le,Le.current&1|2),Vt&&wt(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ft()>tu&&(e.flags|=128,h=!0,wo(r,!1),e.lanes=4194304)}else{if(!h)if(t=Dl(f),t!==null){if(e.flags|=128,h=!0,t=t.updateQueue,e.updateQueue=t,Xl(e,t),wo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Vt)return be(e),null}else 2*Ft()-r.renderingStartTime>tu&&i!==536870912&&(e.flags|=128,h=!0,wo(r,!1),e.lanes=4194304);r.isBackwards?(f.sibling=e.child,e.child=f):(t=r.last,t!==null?t.sibling=f:e.child=f,r.last=f)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ft(),t.sibling=null,i=Le.current,H(Le,h?i&1|2:i&1),Vt&&wt(e,r.treeForkCount),t):(be(e),null);case 22:case 23:return Nn(e),hc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),i=e.updateQueue,i!==null&&Xl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&C(Ts),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Gi(Ue),be(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function Z_(t,e){switch(Oe(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gi(Ue),bt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Lt(e),null;case 31:if(e.memoizedState!==null){if(Nn(e),e.alternate===null)throw Error(u(340));Ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Nn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));Ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return C(Le),null;case 4:return bt(),null;case 10:return Gi(e.type),null;case 22:case 23:return Nn(e),hc(),t!==null&&C(Ts),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Gi(Ue),null;case 25:return null;default:return null}}function Bd(t,e){switch(Oe(e),e.tag){case 3:Gi(Ue),bt();break;case 26:case 27:case 5:Lt(e);break;case 4:bt();break;case 31:e.memoizedState!==null&&Nn(e);break;case 13:Nn(e);break;case 19:C(Le);break;case 10:Gi(e.type);break;case 22:case 23:Nn(e),hc(),t!==null&&C(Ts);break;case 24:Gi(Ue)}}function So(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var h=r.next;i=h;do{if((i.tag&t)===t){r=void 0;var f=i.create,v=i.inst;r=f(),v.destroy=r}i=i.next}while(i!==h)}}catch(x){le(e,e.return,x)}}function ka(t,e,i){try{var r=e.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var f=h.next;r=f;do{if((r.tag&t)===t){var v=r.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=e;var O=i,Z=x;try{Z()}catch(X){le(h,O,X)}}}r=r.next}while(r!==f)}}catch(X){le(e,e.return,X)}}function Pd(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Rf(e,i)}catch(r){le(t,t.return,r)}}}function Hd(t,e,i){i.props=Rs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){le(t,e,r)}}function xo(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(h){le(t,e,h)}}function Ri(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(h){le(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){le(t,e,h)}else i.current=null}function qd(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(h){le(t,t.return,h)}}function Ic(t,e,i){try{var r=t.stateNode;cg(r,t.type,i,e),r[Ke]=e}catch(h){le(t,t.return,h)}}function Zd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ua(t.type)||t.tag===4}function Gc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vc(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=yn));else if(r!==4&&(r===27&&Ua(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Vc(t,e,i),t=t.sibling;t!==null;)Vc(t,e,i),t=t.sibling}function Jl(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&Ua(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Jl(t,e,i),t=t.sibling;t!==null;)Jl(t,e,i),t=t.sibling}function Id(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,h=e.attributes;h.length;)e.removeAttributeNode(h[0]);en(e,r,i),e[je]=t,e[Ke]=i}catch(f){le(t,t.return,f)}}var Xi=!1,He=!1,Kc=!1,Gd=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function I_(t,e){if(t=t.containerInfo,dh=gu,t=ds(t),wi(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var h=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var v=0,x=-1,O=-1,Z=0,X=0,et=t,V=null;e:for(;;){for(var Y;et!==i||h!==0&&et.nodeType!==3||(x=v+h),et!==f||r!==0&&et.nodeType!==3||(O=v+r),et.nodeType===3&&(v+=et.nodeValue.length),(Y=et.firstChild)!==null;)V=et,et=Y;for(;;){if(et===t)break e;if(V===i&&++Z===h&&(x=v),V===f&&++X===r&&(O=v),(Y=et.nextSibling)!==null)break;et=V,V=et.parentNode}et=Y}i=x===-1||O===-1?null:{start:x,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(mh={focusedElem:t,selectionRange:i},gu=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){switch(e=Xe,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,h=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var _t=Rs(i.type,h);t=r.getSnapshotBeforeUpdate(_t,f),r.__reactInternalSnapshotBeforeUpdate=t}catch(Ct){le(i,i.return,Ct)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)gh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}}function Vd(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(t,i),r&4&&So(5,i);break;case 1:if(Qi(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(v){le(i,i.return,v)}else{var h=Rs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){le(i,i.return,v)}}r&64&&Pd(i),r&512&&xo(i,i.return);break;case 3:if(Qi(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Rf(t,e)}catch(v){le(i,i.return,v)}}break;case 27:e===null&&r&4&&Id(i);case 26:case 5:Qi(t,i),e===null&&r&4&&qd(i),r&512&&xo(i,i.return);break;case 12:Qi(t,i);break;case 31:Qi(t,i),r&4&&$d(t,i);break;case 13:Qi(t,i),r&4&&Xd(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=F_.bind(null,i),vg(t,i))));break;case 22:if(r=i.memoizedState!==null||Xi,!r){e=e!==null&&e.memoizedState!==null||He,h=Xi;var f=He;Xi=r,(He=e)&&!f?Fi(t,i,(i.subtreeFlags&8772)!==0):Qi(t,i),Xi=h,He=f}break;case 30:break;default:Qi(t,i)}}function Kd(t){var e=t.alternate;e!==null&&(t.alternate=null,Kd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Pr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,Tn=!1;function Ji(t,e,i){for(i=i.child;i!==null;)Yd(t,e,i),i=i.sibling}function Yd(t,e,i){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(_n,i)}catch{}switch(i.tag){case 26:He||Ri(i,e),Ji(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:He||Ri(i,e);var r=Se,h=Tn;Ua(i.type)&&(Se=i.stateNode,Tn=!1),Ji(t,e,i),zo(i.stateNode),Se=r,Tn=h;break;case 5:He||Ri(i,e);case 6:if(r=Se,h=Tn,Se=null,Ji(t,e,i),Se=r,Tn=h,Se!==null)if(Tn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(i.stateNode)}catch(f){le(i,e,f)}else try{Se.removeChild(i.stateNode)}catch(f){le(i,e,f)}break;case 18:Se!==null&&(Tn?(t=Se,Pm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Tr(t)):Pm(Se,i.stateNode));break;case 4:r=Se,h=Tn,Se=i.stateNode.containerInfo,Tn=!0,Ji(t,e,i),Se=r,Tn=h;break;case 0:case 11:case 14:case 15:ka(2,i,e),He||ka(4,i,e),Ji(t,e,i);break;case 1:He||(Ri(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Hd(i,e,r)),Ji(t,e,i);break;case 21:Ji(t,e,i);break;case 22:He=(r=He)||i.memoizedState!==null,Ji(t,e,i),He=r;break;default:Ji(t,e,i)}}function $d(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(i){le(e,e.return,i)}}}function Xd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(i){le(e,e.return,i)}}function G_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Gd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Gd),e;default:throw Error(u(435,t.tag))}}function Ql(t,e){var i=G_(t);e.forEach(function(r){if(!i.has(r)){i.add(r);var h=W_.bind(null,t,r);r.then(h,h)}})}function En(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var h=i[r],f=t,v=e,x=v;t:for(;x!==null;){switch(x.tag){case 27:if(Ua(x.type)){Se=x.stateNode,Tn=!1;break t}break;case 5:Se=x.stateNode,Tn=!1;break t;case 3:case 4:Se=x.stateNode.containerInfo,Tn=!0;break t}x=x.return}if(Se===null)throw Error(u(160));Yd(f,v,h),Se=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Jd(e,t),e=e.sibling}var ui=null;function Jd(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(e,t),An(t),r&4&&(ka(3,t,t.return),So(3,t),ka(5,t,t.return));break;case 1:En(e,t),An(t),r&512&&(He||i===null||Ri(i,i.return)),r&64&&Xi&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var h=ui;if(En(e,t),An(t),r&512&&(He||i===null||Ri(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Qa]||f[je]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(r),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,r,i),f[je]=t,De(f),r=f;break t;case"link":var v=Jm("link","href",h).get(r+(i.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(x,1);break e}}f=h.createElement(r),en(f,r,i),h.head.appendChild(f);break;case"meta":if(v=Jm("meta","content",h).get(r+(i.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(x,1);break e}}f=h.createElement(r),en(f,r,i),h.head.appendChild(f);break;default:throw Error(u(468,r))}f[je]=t,De(f),r=f}t.stateNode=r}else Qm(h,t.type,t.stateNode);else t.stateNode=Xm(h,r,t.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?Qm(h,t.type,t.stateNode):Xm(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Ic(t,t.memoizedProps,i.memoizedProps)}break;case 27:En(e,t),An(t),r&512&&(He||i===null||Ri(i,i.return)),i!==null&&r&4&&Ic(t,t.memoizedProps,i.memoizedProps);break;case 5:if(En(e,t),An(t),r&512&&(He||i===null||Ri(i,i.return)),t.flags&32){h=t.stateNode;try{qn(h,"")}catch(_t){le(t,t.return,_t)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,Ic(t,h,i!==null?i.memoizedProps:h)),r&1024&&(Kc=!0);break;case 6:if(En(e,t),An(t),r&4){if(t.stateNode===null)throw Error(u(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(_t){le(t,t.return,_t)}}break;case 3:if(du=null,h=ui,ui=hu(e.containerInfo),En(e,t),ui=h,An(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Tr(e.containerInfo)}catch(_t){le(t,t.return,_t)}Kc&&(Kc=!1,Qd(t));break;case 4:r=ui,ui=hu(t.stateNode.containerInfo),En(e,t),An(t),ui=r;break;case 12:En(e,t),An(t);break;case 31:En(e,t),An(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 13:En(e,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Wl=Ft()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 22:h=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,Z=Xi,X=He;if(Xi=Z||h,He=X||O,En(e,t),He=X,Xi=Z,An(t),r&8192)t:for(e=t.stateNode,e._visibility=h?e._visibility&-2:e._visibility|1,h&&(i===null||O||Xi||He||ks(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){O=i=e;try{if(f=O.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=O.stateNode;var et=O.memoizedProps.style,V=et!=null&&et.hasOwnProperty("display")?et.display:null;x.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(_t){le(O,O.return,_t)}}}else if(e.tag===6){if(i===null){O=e;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(_t){le(O,O.return,_t)}}}else if(e.tag===18){if(i===null){O=e;try{var Y=O.stateNode;h?Hm(Y,!0):Hm(O.stateNode,!1)}catch(_t){le(O,O.return,_t)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Ql(t,i))));break;case 19:En(e,t),An(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 30:break;case 21:break;default:En(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Zd(r)){i=r;break}r=r.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var h=i.stateNode,f=Gc(t);Jl(t,f,h);break;case 5:var v=i.stateNode;i.flags&32&&(qn(v,""),i.flags&=-33);var x=Gc(t);Jl(t,x,v);break;case 3:case 4:var O=i.stateNode.containerInfo,Z=Gc(t);Vc(t,Z,O);break;default:throw Error(u(161))}}catch(X){le(t,t.return,X)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Qd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Qi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Vd(t,e.alternate,e),e=e.sibling}function ks(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ka(4,e,e.return),ks(e);break;case 1:Ri(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Hd(e,e.return,i),ks(e);break;case 27:zo(e.stateNode);case 26:case 5:Ri(e,e.return),ks(e);break;case 22:e.memoizedState===null&&ks(e);break;case 30:ks(e);break;default:ks(e)}t=t.sibling}}function Fi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,h=t,f=e,v=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,i),So(4,f);break;case 1:if(Fi(h,f,i),r=f,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){le(r,r.return,Z)}if(r=f,h=r.updateQueue,h!==null){var x=r.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Cf(O[h],x)}catch(Z){le(r,r.return,Z)}}i&&v&64&&Pd(f),xo(f,f.return);break;case 27:Id(f);case 26:case 5:Fi(h,f,i),i&&r===null&&v&4&&qd(f),xo(f,f.return);break;case 12:Fi(h,f,i);break;case 31:Fi(h,f,i),i&&v&4&&$d(h,f);break;case 13:Fi(h,f,i),i&&v&4&&Xd(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,i),xo(f,f.return);break;case 30:break;default:Fi(h,f,i)}e=e.sibling}}function Yc(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&lo(i))}function $c(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&lo(t))}function ci(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fd(t,e,i,r),e=e.sibling}function Fd(t,e,i,r){var h=e.flags;switch(e.tag){case 0:case 11:case 15:ci(t,e,i,r),h&2048&&So(9,e);break;case 1:ci(t,e,i,r);break;case 3:ci(t,e,i,r),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&lo(t)));break;case 12:if(h&2048){ci(t,e,i,r),t=e.stateNode;try{var f=e.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){le(e,e.return,O)}}else ci(t,e,i,r);break;case 31:ci(t,e,i,r);break;case 13:ci(t,e,i,r);break;case 23:break;case 22:f=e.stateNode,v=e.alternate,e.memoizedState!==null?f._visibility&2?ci(t,e,i,r):To(t,e):f._visibility&2?ci(t,e,i,r):(f._visibility|=2,dr(t,e,i,r,(e.subtreeFlags&10256)!==0||!1)),h&2048&&Yc(v,e);break;case 24:ci(t,e,i,r),h&2048&&$c(e.alternate,e);break;default:ci(t,e,i,r)}}function dr(t,e,i,r,h){for(h=h&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,v=e,x=i,O=r,Z=v.flags;switch(v.tag){case 0:case 11:case 15:dr(f,v,x,O,h),So(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?dr(f,v,x,O,h):To(f,v):(X._visibility|=2,dr(f,v,x,O,h)),h&&Z&2048&&Yc(v.alternate,v);break;case 24:dr(f,v,x,O,h),h&&Z&2048&&$c(v.alternate,v);break;default:dr(f,v,x,O,h)}e=e.sibling}}function To(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,h=r.flags;switch(r.tag){case 22:To(i,r),h&2048&&Yc(r.alternate,r);break;case 24:To(i,r),h&2048&&$c(r.alternate,r);break;default:To(i,r)}e=e.sibling}}var Eo=8192;function mr(t,e,i){if(t.subtreeFlags&Eo)for(t=t.child;t!==null;)Wd(t,e,i),t=t.sibling}function Wd(t,e,i){switch(t.tag){case 26:mr(t,e,i),t.flags&Eo&&t.memoizedState!==null&&kg(i,ui,t.memoizedState,t.memoizedProps);break;case 5:mr(t,e,i);break;case 3:case 4:var r=ui;ui=hu(t.stateNode.containerInfo),mr(t,e,i),ui=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Eo,Eo=16777216,mr(t,e,i),Eo=r):mr(t,e,i));break;default:mr(t,e,i)}}function tm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ao(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Xe=r,nm(r,t)}tm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)em(t),t=t.sibling}function em(t){switch(t.tag){case 0:case 11:case 15:Ao(t),t.flags&2048&&ka(9,t,t.return);break;case 3:Ao(t);break;case 12:Ao(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Fl(t)):Ao(t);break;default:Ao(t)}}function Fl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Xe=r,nm(r,t)}tm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ka(8,e,e.return),Fl(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Fl(e));break;default:Fl(e)}t=t.sibling}}function nm(t,e){for(;Xe!==null;){var i=Xe;switch(i.tag){case 0:case 11:case 15:ka(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:lo(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Xe=r;else t:for(i=t;Xe!==null;){r=Xe;var h=r.sibling,f=r.return;if(Kd(r),r===i){Xe=null;break t}if(h!==null){h.return=f,Xe=h;break t}Xe=f}}}var V_={getCacheForType:function(t){var e=We(Ue),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return We(Ue).controller.signal}},K_=typeof WeakMap=="function"?WeakMap:Map,ie=0,pe=null,Kt=null,Xt=0,oe=0,jn=null,La=!1,pr=!1,Xc=!1,Wi=0,Re=0,za=0,Ls=0,Jc=0,Dn=0,_r=0,Oo=null,On=null,Qc=!1,Wl=0,im=0,tu=1/0,eu=null,Ma=null,Ge=0,Na=null,gr=null,ta=0,Fc=0,Wc=null,am=null,Co=0,th=null;function Un(){return(ie&2)!==0&&Xt!==0?Xt&-Xt:K.T!==null?rh():Ur()}function sm(){if(Dn===0)if((Xt&536870912)===0||Vt){var t=$a;$a<<=1,($a&3932160)===0&&($a=262144),Dn=t}else Dn=536870912;return t=Mn.current,t!==null&&(t.flags|=32),Dn}function Cn(t,e,i){(t===pe&&(oe===2||oe===9)||t.cancelPendingCommit!==null)&&(vr(t,0),ja(t,Xt,Dn,!1)),Mi(t,i),((ie&2)===0||t!==pe)&&(t===pe&&((ie&2)===0&&(Ls|=i),Re===4&&ja(t,Xt,Dn,!1)),ki(t))}function rm(t,e,i){if((ie&6)!==0)throw Error(u(327));var r=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Ja(t,e),h=r?X_(t,e):nh(t,e,!0),f=r;do{if(h===0){pr&&!r&&ja(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!Y_(i)){h=nh(t,e,!1),f=!1;continue}if(h===2){if(f=e,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var x=t;h=Oo;var O=x.current.memoizedState.isDehydrated;if(O&&(vr(x,v).flags|=256),v=nh(x,v,!1),v!==2){if(Xc&&!O){x.errorRecoveryDisabledLanes|=f,Ls|=f,h=4;break t}f=On,On=h,f!==null&&(On===null?On=f:On.push.apply(On,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){vr(t,0),ja(t,e,0,!0);break}t:{switch(r=t,f=h,f){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:ja(r,e,Dn,!La);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(h=Wl+300-Ft(),10<h)){if(ja(r,e,Dn,!La),Bs(r,0,!0)!==0)break t;ta=e,r.timeoutHandle=Um(om.bind(null,r,i,On,eu,Qc,e,Dn,Ls,_r,La,f,"Throttled",-0,0),h);break t}om(r,i,On,eu,Qc,e,Dn,Ls,_r,La,f,null,-0,0)}}break}while(!0);ki(t)}function om(t,e,i,r,h,f,v,x,O,Z,X,et,V,Y){if(t.timeoutHandle=-1,et=e.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Wd(e,f,et);var _t=(f&62914560)===f?Wl-Ft():(f&4194048)===f?im-Ft():0;if(_t=Lg(et,_t),_t!==null){ta=f,t.cancelPendingCommit=_t(pm.bind(null,t,e,f,i,r,h,v,x,O,X,et,null,V,Y)),ja(t,f,v,!Z);return}}pm(t,e,f,i,r,h,v,x,O)}function Y_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var h=i[r],f=h.getSnapshot;h=h.value;try{if(!Ye(f(),h))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ja(t,e,i,r){e&=~Jc,e&=~Ls,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var h=e;0<h;){var f=31-un(h),v=1<<f;r[f]=-1,h&=~v}i!==0&&tl(t,i,e)}function nu(){return(ie&6)===0?(Ro(0),!1):!0}function eh(){if(Kt!==null){if(oe===0)var t=Kt.return;else t=Kt,li=Ci=null,gc(t),lr=null,co=0,t=Kt;for(;t!==null;)Bd(t.alternate,t),t=t.return;Kt=null}}function vr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,dg(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ta=0,eh(),pe=t,Kt=i=$n(t.current,null),Xt=e,oe=0,jn=null,La=!1,pr=Ja(t,e),Xc=!1,_r=Dn=Jc=Ls=za=Re=0,On=Oo=null,Qc=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var h=31-un(r),f=1<<h;e|=t[h],r&=~f}return Wi=e,vs(),i}function lm(t,e){Bt=null,K.H=yo,e===or||e===Ll?(e=Tf(),oe=3):e===sc?(e=Tf(),oe=4):oe=e===Mc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,jn=e,Kt===null&&(Re=1,Vl(t,s(e,t.current)))}function um(){var t=Mn.current;return t===null?!0:(Xt&4194048)===Xt?Xn===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?t===Xn:!1}function cm(){var t=K.H;return K.H=yo,t===null?yo:t}function hm(){var t=K.A;return K.A=V_,t}function iu(){Re=4,La||(Xt&4194048)!==Xt&&Mn.current!==null||(pr=!0),(za&134217727)===0&&(Ls&134217727)===0||pe===null||ja(pe,Xt,Dn,!1)}function nh(t,e,i){var r=ie;ie|=2;var h=cm(),f=hm();(pe!==t||Xt!==e)&&(eu=null,vr(t,e)),e=!1;var v=Re;t:do try{if(oe!==0&&Kt!==null){var x=Kt,O=jn;switch(oe){case 8:eh(),v=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(e=!0);var Z=oe;if(oe=0,jn=null,yr(t,x,O,Z),i&&pr){v=0;break t}break;default:Z=oe,oe=0,jn=null,yr(t,x,O,Z)}}$_(),v=Re;break}catch(X){lm(t,X)}while(!0);return e&&t.shellSuspendCounter++,li=Ci=null,ie=r,K.H=h,K.A=f,Kt===null&&(pe=null,Xt=0,vs()),v}function $_(){for(;Kt!==null;)fm(Kt)}function X_(t,e){var i=ie;ie|=2;var r=cm(),h=hm();pe!==t||Xt!==e?(eu=null,tu=Ft()+500,vr(t,e)):pr=Ja(t,e);t:do try{if(oe!==0&&Kt!==null){e=Kt;var f=jn;e:switch(oe){case 1:oe=0,jn=null,yr(t,e,f,1);break;case 2:case 9:if(Sf(f)){oe=0,jn=null,dm(e);break}e=function(){oe!==2&&oe!==9||pe!==t||(oe=7),ki(t)},f.then(e,e);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:Sf(f)?(oe=0,jn=null,dm(e)):(oe=0,jn=null,yr(t,e,f,7));break;case 5:var v=null;switch(Kt.tag){case 26:v=Kt.memoizedState;case 5:case 27:var x=Kt;if(v?Fm(v):x.stateNode.complete){oe=0,jn=null;var O=x.sibling;if(O!==null)Kt=O;else{var Z=x.return;Z!==null?(Kt=Z,au(Z)):Kt=null}break e}}oe=0,jn=null,yr(t,e,f,5);break;case 6:oe=0,jn=null,yr(t,e,f,6);break;case 8:eh(),Re=6;break t;default:throw Error(u(462))}}J_();break}catch(X){lm(t,X)}while(!0);return li=Ci=null,K.H=r,K.A=h,ie=i,Kt!==null?0:(pe=null,Xt=0,vs(),Re)}function J_(){for(;Kt!==null&&!ln();)fm(Kt)}function fm(t){var e=Dd(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,e===null?au(t):Kt=e}function dm(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=kd(i,e,e.pendingProps,e.type,void 0,Xt);break;case 11:e=kd(i,e,e.pendingProps,e.type.render,e.ref,Xt);break;case 5:gc(e);default:Bd(i,e),e=Kt=io(e,Wi),e=Dd(i,e,Wi)}t.memoizedProps=t.pendingProps,e===null?au(t):Kt=e}function yr(t,e,i,r){li=Ci=null,gc(e),lr=null,co=0;var h=e.return;try{if(B_(t,h,e,i,Xt)){Re=1,Vl(t,s(i,t.current)),Kt=null;return}}catch(f){if(h!==null)throw Kt=h,f;Re=1,Vl(t,s(i,t.current)),Kt=null;return}e.flags&32768?(Vt||r===1?t=!0:pr||(Xt&536870912)!==0?t=!1:(La=t=!0,(r===2||r===9||r===3||r===6)&&(r=Mn.current,r!==null&&r.tag===13&&(r.flags|=16384))),mm(e,t)):au(e)}function au(t){var e=t;do{if((e.flags&32768)!==0){mm(e,La);return}t=e.return;var i=q_(e.alternate,e,Wi);if(i!==null){Kt=i;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);Re===0&&(Re=5)}function mm(t,e){do{var i=Z_(t.alternate,t);if(i!==null){i.flags&=32767,Kt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Kt=t;return}Kt=t=i}while(t!==null);Re=6,Kt=null}function pm(t,e,i,r,h,f,v,x,O){t.cancelPendingCommit=null;do su();while(Ge!==0);if((ie&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(f=e.lanes|e.childLanes,f|=tr,Bu(t,i,f,v,x,O),t===pe&&(Kt=pe=null,Xt=0),gr=e,Na=t,ta=i,Fc=f,Wc=h,am=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tg(Qe,function(){return bm(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=K.T,K.T=null,h=Q.p,Q.p=2,v=ie,ie|=4;try{I_(t,e,i)}finally{ie=v,Q.p=h,K.T=r}}Ge=1,_m(),gm(),vm()}}function _m(){if(Ge===1){Ge=0;var t=Na,e=gr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=K.T,K.T=null;var r=Q.p;Q.p=2;var h=ie;ie|=4;try{Jd(e,t);var f=mh,v=ds(t.containerInfo),x=f.focusedElem,O=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&Js(x.ownerDocument.documentElement,x)){if(O!==null&&wi(x)){var Z=O.start,X=O.end;if(X===void 0&&(X=Z),"selectionStart"in x)x.selectionStart=Z,x.selectionEnd=Math.min(X,x.value.length);else{var et=x.ownerDocument||document,V=et&&et.defaultView||window;if(V.getSelection){var Y=V.getSelection(),_t=x.textContent.length,Ct=Math.min(O.start,_t),de=O.end===void 0?Ct:Math.min(O.end,_t);!Y.extend&&Ct>de&&(v=de,de=Ct,Ct=v);var U=fs(x,Ct),k=fs(x,de);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var q=et.createRange();q.setStart(U.node,U.offset),Y.removeAllRanges(),Ct>de?(Y.addRange(q),Y.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Y.addRange(q))}}}}for(et=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&et.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<et.length;x++){var F=et[x];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}gu=!!dh,mh=dh=null}finally{ie=h,Q.p=r,K.T=i}}t.current=e,Ge=2}}function gm(){if(Ge===2){Ge=0;var t=Na,e=gr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=K.T,K.T=null;var r=Q.p;Q.p=2;var h=ie;ie|=4;try{Vd(t,e.alternate,e)}finally{ie=h,Q.p=r,K.T=i}}Ge=3}}function vm(){if(Ge===4||Ge===3){Ge=0,mi();var t=Na,e=gr,i=ta,r=am;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ge=5:(Ge=0,gr=Na=null,ym(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ma=null),yt(i),e=e.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(_n,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=K.T,h=Q.p,Q.p=2,K.T=null;try{for(var f=t.onRecoverableError,v=0;v<r.length;v++){var x=r[v];f(x.value,{componentStack:x.stack})}}finally{K.T=e,Q.p=h}}(ta&3)!==0&&su(),ki(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===th?Co++:(Co=0,th=t):Co=0,Ro(0)}}function ym(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,lo(e)))}function su(){return _m(),gm(),vm(),bm()}function bm(){if(Ge!==5)return!1;var t=Na,e=Fc;Fc=0;var i=yt(ta),r=K.T,h=Q.p;try{Q.p=32>i?32:i,K.T=null,i=Wc,Wc=null;var f=Na,v=ta;if(Ge=0,gr=Na=null,ta=0,(ie&6)!==0)throw Error(u(331));var x=ie;if(ie|=4,em(f.current),Fd(f,f.current,v,i),ie=x,Ro(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(_n,f)}catch{}return!0}finally{Q.p=h,K.T=r,ym(t,e)}}function wm(t,e,i){e=s(i,e),e=zc(t.stateNode,e,2),t=Oa(t,e,2),t!==null&&(Mi(t,2),ki(t))}function le(t,e,i){if(t.tag===3)wm(t,t,i);else for(;e!==null;){if(e.tag===3){wm(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ma===null||!Ma.has(r))){t=s(i,t),i=Sd(2),r=Oa(e,i,2),r!==null&&(xd(i,r,e,t),Mi(r,2),ki(r));break}}e=e.return}}function ih(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new K_;var h=new Set;r.set(e,h)}else h=r.get(e),h===void 0&&(h=new Set,r.set(e,h));h.has(i)||(Xc=!0,h.add(i),t=Q_.bind(null,t,e,i),e.then(t,t))}function Q_(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,pe===t&&(Xt&i)===i&&(Re===4||Re===3&&(Xt&62914560)===Xt&&300>Ft()-Wl?(ie&2)===0&&vr(t,0):Jc|=i,_r===Xt&&(_r=0)),ki(t)}function Sm(t,e){e===0&&(e=Wo()),t=Yn(t,e),t!==null&&(Mi(t,e),ki(t))}function F_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Sm(t,i)}function W_(t,e){var i=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(u(314))}r!==null&&r.delete(e),Sm(t,i)}function tg(t,e){return _e(t,e)}var ru=null,br=null,ah=!1,ou=!1,sh=!1,Da=0;function ki(t){t!==br&&t.next===null&&(br===null?ru=br=t:br=br.next=t),ou=!0,ah||(ah=!0,ng())}function Ro(t,e){if(!sh&&ou){sh=!0;do for(var i=!1,r=ru;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var f=0;else{var v=r.suspendedLanes,x=r.pingedLanes;f=(1<<31-un(42|t)+1)-1,f&=h&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Am(r,f))}else f=Xt,f=Bs(r,r===pe?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Ja(r,f)||(i=!0,Am(r,f));r=r.next}while(i);sh=!1}}function eg(){xm()}function xm(){ou=ah=!1;var t=0;Da!==0&&fg()&&(t=Da);for(var e=Ft(),i=null,r=ru;r!==null;){var h=r.next,f=Tm(r,e);f===0?(r.next=null,i===null?ru=h:i.next=h,h===null&&(br=i)):(i=r,(t!==0||(f&3)!==0)&&(ou=!0)),r=h}Ge!==0&&Ge!==5||Ro(t),Da!==0&&(Da=0)}function Tm(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-un(f),x=1<<v,O=h[v];O===-1?((x&i)===0||(x&r)!==0)&&(h[v]=Uu(x,e)):O<=e&&(t.expiredLanes|=x),f&=~x}if(e=pe,i=Xt,i=Bs(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(oe===2||oe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&dn(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Ja(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&dn(r),yt(i)){case 2:case 8:i=Me;break;case 32:i=Qe;break;case 268435456:i=sa;break;default:i=Qe}return r=Em.bind(null,t),i=_e(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&dn(r),t.callbackPriority=2,t.callbackNode=null,2}function Em(t,e){if(Ge!==0&&Ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(su()&&t.callbackNode!==i)return null;var r=Xt;return r=Bs(t,t===pe?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(rm(t,r,e),Tm(t,Ft()),t.callbackNode!=null&&t.callbackNode===i?Em.bind(null,t):null)}function Am(t,e){if(su())return null;rm(t,e,!0)}function ng(){mg(function(){(ie&6)!==0?_e(ve,eg):xm()})}function rh(){if(Da===0){var t=sr;t===0&&(t=Ya,Ya<<=1,(Ya&261888)===0&&(Ya=256)),Da=t}return Da}function Om(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function Cm(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function ig(t,e,i,r,h){if(e==="submit"&&i&&i.stateNode===h){var f=Om((h[Ke]||null).action),v=r.submitter;v&&(e=(e=v[Ke]||null)?Om(e.formAction):v.getAttribute("formAction"),e!==null&&(f=e,v=null));var x=new Is("action","action",null,r,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Da!==0){var O=v?Cm(h,v):new FormData(h);Ac(i,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(x.preventDefault(),O=v?Cm(h,v):new FormData(h),Ac(i,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var oh=0;oh<Ti.length;oh++){var lh=Ti[oh],ag=lh.toLowerCase(),sg=lh[0].toUpperCase()+lh.slice(1);wn(ag,"on"+sg)}wn(ps,"onAnimationEnd"),wn(El,"onAnimationIteration"),wn(_s,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Qu,"onTransitionRun"),wn(Al,"onTransitionStart"),wn(Fu,"onTransitionCancel"),wn(Sa,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Rm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],h=r.event;r=r.listeners;t:{var f=void 0;if(e)for(var v=r.length-1;0<=v;v--){var x=r[v],O=x.instance,Z=x.currentTarget;if(x=x.listener,O!==f&&h.isPropagationStopped())break t;f=x,h.currentTarget=Z;try{f(h)}catch(X){gs(X)}h.currentTarget=null,f=O}else for(v=0;v<r.length;v++){if(x=r[v],O=x.instance,Z=x.currentTarget,x=x.listener,O!==f&&h.isPropagationStopped())break t;f=x,h.currentTarget=Z;try{f(h)}catch(X){gs(X)}h.currentTarget=null,f=O}}}}function Yt(t,e){var i=e[pi];i===void 0&&(i=e[pi]=new Set);var r=t+"__bubble";i.has(r)||(km(e,t,2,!1),i.add(r))}function uh(t,e,i){var r=0;e&&(r|=4),km(i,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ch(t){if(!t[lu]){t[lu]=!0,sl.forEach(function(i){i!=="selectionchange"&&(rg.has(i)||uh(i,!1,t),uh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,uh("selectionchange",!1,e))}}function km(t,e,i,r){switch(sp(e)){case 2:var h=Ng;break;case 8:h=jg;break;default:h=Eh}i=h.bind(null,e,i,t),h=void 0,!is||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):h!==void 0?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function hh(t,e,i,r,h){var f=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var v=r.tag;if(v===3||v===4){var x=r.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=r.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=ji(x),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){r=f=v;continue t}x=x.parentNode}}r=r.return}Kr(function(){var Z=f,X=ns(i),et=[];t:{var V=Ol.get(t);if(V!==void 0){var Y=Is,_t=t;switch(t){case"keypress":if(as(i)===0)break t;case"keydown":case"keyup":Y=dl;break;case"focusin":_t="focus",Y=Xr;break;case"focusout":_t="blur",Y=Xr;break;case"beforeblur":case"afterblur":Y=Xr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Vu;break;case ps:case El:case _s:Y=Jr;break;case Sa:Y=_l;break;case"scroll":case"scrollend":Y=$t;break;case"wheel":Y=Hi;break;case"copy":case"cut":case"paste":Y=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ml;break;case"toggle":case"beforetoggle":Y=os}var Ct=(e&4)!==0,de=!Ct&&(t==="scroll"||t==="scrollend"),U=Ct?V!==null?V+"Capture":null:V;Ct=[];for(var k=Z,q;k!==null;){var F=k;if(q=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||q===null||U===null||(F=Bi(k,U),F!=null&&Ct.push(Lo(k,F,q))),de)break;k=k.return}0<Ct.length&&(V=new Y(V,_t,null,i,X),et.push({event:V,listeners:Ct}))}}if((e&7)===0){t:{if(V=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",V&&i!==Zs&&(_t=i.relatedTarget||i.fromElement)&&(ji(_t)||_t[Ni]))break t;if((Y||V)&&(V=X.window===X?X:(V=X.ownerDocument)?V.defaultView||V.parentWindow:window,Y?(_t=i.relatedTarget||i.toElement,Y=Z,_t=_t?ji(_t):null,_t!==null&&(de=p(_t),Ct=_t.tag,_t!==de||Ct!==5&&Ct!==27&&Ct!==6)&&(_t=null)):(Y=null,_t=Z),Y!==_t)){if(Ct=ll,F="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ct=ml,F="onPointerLeave",U="onPointerEnter",k="pointer"),de=Y==null?V:_i(Y),q=_t==null?V:_i(_t),V=new Ct(F,k+"leave",Y,i,X),V.target=de,V.relatedTarget=q,F=null,ji(X)===Z&&(Ct=new Ct(U,k+"enter",_t,i,X),Ct.target=q,Ct.relatedTarget=de,F=Ct),de=F,Y&&_t)e:{for(Ct=og,U=Y,k=_t,q=0,F=U;F;F=Ct(F))q++;F=0;for(var Tt=k;Tt;Tt=Ct(Tt))F++;for(;0<q-F;)U=Ct(U),q--;for(;0<F-q;)k=Ct(k),F--;for(;q--;){if(U===k||k!==null&&U===k.alternate){Ct=U;break e}U=Ct(U),k=Ct(k)}Ct=null}else Ct=null;Y!==null&&Lm(et,V,Y,Ct,!1),_t!==null&&de!==null&&Lm(et,de,_t,Ct,!0)}}t:{if(V=Z?_i(Z):window,Y=V.nodeName&&V.nodeName.toLowerCase(),Y==="select"||Y==="input"&&V.type==="file")var ee=hs;else if(Gn(V))if(bl)ee=Ju;else{ee=Xu;var vt=si}else Y=V.nodeName,!Y||Y.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?Z&&es(Z.elementType)&&(ee=hs):ee=va;if(ee&&(ee=ee(t,Z))){yl(et,ee,i,X);break t}vt&&vt(t,V,Z),t==="focusout"&&Z&&V.type==="number"&&Z.memoizedProps.value!=null&&ni(V,"number",V.value)}switch(vt=Z?_i(Z):window,t){case"focusin":(Gn(vt)||vt.contentEditable==="true")&&(Si=vt,Fs=Z,ms=null);break;case"focusout":ms=Fs=Si=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,xl(et,i,X);break;case"selectionchange":if(Qs)break;case"keydown":case"keyup":xl(et,i,X)}var Ht;if(Vs)t:{switch(t){case"compositionstart":var Jt="onCompositionStart";break t;case"compositionend":Jt="onCompositionEnd";break t;case"compositionupdate":Jt="onCompositionUpdate";break t}Jt=void 0}else pa?vl(t,i)&&(Jt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Jt="onCompositionStart");Jt&&(Ks&&i.locale!=="ko"&&(pa||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&pa&&(Ht=yi()):(Zn=X,Pi="value"in Zn?Zn.value:Zn.textContent,pa=!0)),vt=uu(Z,Jt),0<vt.length&&(Jt=new Qr(Jt,t,null,i,X),et.push({event:Jt,listeners:vt}),Ht?Jt.data=Ht:(Ht=eo(i),Ht!==null&&(Jt.data=Ht)))),(Ht=Yu?zn(t,i):_a(t,i))&&(Jt=uu(Z,"onBeforeInput"),0<Jt.length&&(vt=new Qr("onBeforeInput","beforeinput",null,i,X),et.push({event:vt,listeners:Jt}),vt.data=Ht)),ig(et,t,Z,i,X)}Rm(et,e)})}function Lo(t,e,i){return{instance:t,listener:e,currentTarget:i}}function uu(t,e){for(var i=e+"Capture",r=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bi(t,i),h!=null&&r.unshift(Lo(t,h,f)),h=Bi(t,e),h!=null&&r.push(Lo(t,h,f))),t.tag===3)return r;t=t.return}return[]}function og(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lm(t,e,i,r,h){for(var f=e._reactName,v=[];i!==null&&i!==r;){var x=i,O=x.alternate,Z=x.stateNode;if(x=x.tag,O!==null&&O===r)break;x!==5&&x!==26&&x!==27||Z===null||(O=Z,h?(Z=Bi(i,f),Z!=null&&v.unshift(Lo(i,Z,O))):h||(Z=Bi(i,f),Z!=null&&v.push(Lo(i,Z,O)))),i=i.return}v.length!==0&&t.push({event:e,listeners:v})}var lg=/\r\n?/g,ug=/\u0000|\uFFFD/g;function zm(t){return(typeof t=="string"?t:""+t).replace(lg,`
`).replace(ug,"")}function Mm(t,e){return e=zm(e),zm(t)===e}function fe(t,e,i,r,h,f){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||qn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&qn(t,""+r);break;case"className":ce(t,"class",r);break;case"tabIndex":ce(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ce(t,i,r);break;case"style":Hs(t,r,f);break;case"data":if(e!=="object"){ce(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=ha(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&fe(t,e,"name",h.name,h,null),fe(t,e,"formEncType",h.formEncType,h,null),fe(t,e,"formMethod",h.formMethod,h,null),fe(t,e,"formTarget",h.formTarget,h,null)):(fe(t,e,"encType",h.encType,h,null),fe(t,e,"method",h.method,h,null),fe(t,e,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=ha(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=yn);break;case"onScroll":r!=null&&Yt("scroll",t);break;case"onScrollEnd":r!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=ha(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),Gt(t,"popover",r);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Gt(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=qs.get(i)||i,Gt(t,i,r))}}function fh(t,e,i,r,h,f){switch(i){case"style":Hs(t,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof r=="string"?qn(t,r):(typeof r=="number"||typeof r=="bigint")&&qn(t,""+r);break;case"onScroll":r!=null&&Yt("scroll",t);break;case"onScrollEnd":r!=null&&Yt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),e=i.slice(2,h?i.length-7:void 0),f=t[Ke]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,h),typeof r=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,h);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):Gt(t,i,r)}}}function en(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var r=!1,h=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:fe(t,e,f,v,i,null)}}h&&fe(t,e,"srcSet",i.srcSet,i,null),r&&fe(t,e,"src",i.src,i,null);return;case"input":Yt("invalid",t);var x=f=v=h=null,O=null,Z=null;for(r in i)if(i.hasOwnProperty(r)){var X=i[r];if(X!=null)switch(r){case"name":h=X;break;case"type":v=X;break;case"checked":O=X;break;case"defaultChecked":Z=X;break;case"value":f=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(u(137,e));break;default:fe(t,e,r,X,i,null)}}ts(t,f,x,O,Z,v,h,!1);return;case"select":Yt("invalid",t),r=v=f=null;for(h in i)if(i.hasOwnProperty(h)&&(x=i[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":r=x;default:fe(t,e,h,x,i,null)}e=f,i=v,t.multiple=!!r,e!=null?me(t,!!r,e,!1):i!=null&&me(t,!!r,i,!0);return;case"textarea":Yt("invalid",t),f=h=r=null;for(v in i)if(i.hasOwnProperty(v)&&(x=i[v],x!=null))switch(v){case"value":r=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(u(91));break;default:fe(t,e,v,x,i,null)}ua(t,r,h,f);return;case"option":for(O in i)i.hasOwnProperty(O)&&(r=i[O],r!=null)&&(O==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":fe(t,e,O,r,i,null));return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(r=0;r<ko.length;r++)Yt(ko[r],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in i)if(i.hasOwnProperty(Z)&&(r=i[Z],r!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:fe(t,e,Z,r,i,null)}return;default:if(es(e)){for(X in i)i.hasOwnProperty(X)&&(r=i[X],r!==void 0&&fh(t,e,X,r,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(r=i[x],r!=null&&fe(t,e,x,r,i,null))}function cg(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,x=null,O=null,Z=null,X=null;for(Y in i){var et=i[Y];if(i.hasOwnProperty(Y)&&et!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=et;default:r.hasOwnProperty(Y)||fe(t,e,Y,null,r,et)}}for(var V in r){var Y=r[V];if(et=i[V],r.hasOwnProperty(V)&&(Y!=null||et!=null))switch(V){case"type":f=Y;break;case"name":h=Y;break;case"checked":Z=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,e));break;default:Y!==et&&fe(t,e,V,Y,r,et)}}Ir(t,v,x,O,Z,X,f,h);return;case"select":Y=v=x=V=null;for(f in i)if(O=i[f],i.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":Y=O;default:r.hasOwnProperty(f)||fe(t,e,f,null,r,O)}for(h in r)if(f=r[h],O=i[h],r.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":V=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==O&&fe(t,e,h,f,r,O)}e=x,i=v,r=Y,V!=null?me(t,!!i,V,!1):!!r!=!!i&&(e!=null?me(t,!!i,e,!0):me(t,!!i,i?[]:"",!1));return;case"textarea":Y=V=null;for(x in i)if(h=i[x],i.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:fe(t,e,x,null,r,h)}for(v in r)if(h=r[v],f=i[v],r.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":V=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:h!==f&&fe(t,e,v,h,r,f)}vi(t,V,Y);return;case"option":for(var _t in i)V=i[_t],i.hasOwnProperty(_t)&&V!=null&&!r.hasOwnProperty(_t)&&(_t==="selected"?t.selected=!1:fe(t,e,_t,null,r,V));for(O in r)V=r[O],Y=i[O],r.hasOwnProperty(O)&&V!==Y&&(V!=null||Y!=null)&&(O==="selected"?t.selected=V&&typeof V!="function"&&typeof V!="symbol":fe(t,e,O,V,r,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in i)V=i[Ct],i.hasOwnProperty(Ct)&&V!=null&&!r.hasOwnProperty(Ct)&&fe(t,e,Ct,null,r,V);for(Z in r)if(V=r[Z],Y=i[Z],r.hasOwnProperty(Z)&&V!==Y&&(V!=null||Y!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(u(137,e));break;default:fe(t,e,Z,V,r,Y)}return;default:if(es(e)){for(var de in i)V=i[de],i.hasOwnProperty(de)&&V!==void 0&&!r.hasOwnProperty(de)&&fh(t,e,de,void 0,r,V);for(X in r)V=r[X],Y=i[X],!r.hasOwnProperty(X)||V===Y||V===void 0&&Y===void 0||fh(t,e,X,V,r,Y);return}}for(var U in i)V=i[U],i.hasOwnProperty(U)&&V!=null&&!r.hasOwnProperty(U)&&fe(t,e,U,null,r,V);for(et in r)V=r[et],Y=i[et],!r.hasOwnProperty(et)||V===Y||V==null&&Y==null||fe(t,e,et,V,r,Y)}function Nm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var h=i[r],f=h.transferSize,v=h.initiatorType,x=h.duration;if(f&&x&&Nm(v)){for(v=0,x=h.responseEnd,r+=1;r<i.length;r++){var O=i[r],Z=O.startTime;if(Z>x)break;var X=O.transferSize,et=O.initiatorType;X&&Nm(et)&&(O=O.responseEnd,v+=X*(O<x?1:(x-Z)/(O-Z)))}if(--r,e+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dh=null,mh=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function jm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _h=null;function fg(){var t=window.event;return t&&t.type==="popstate"?t===_h?!1:(_h=t,!0):(_h=null,!1)}var Um=typeof setTimeout=="function"?setTimeout:void 0,dg=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(t){return Bm.resolve(null).then(t).catch(pg)}:Um;function pg(t){setTimeout(function(){throw t})}function Ua(t){return t==="head"}function Pm(t,e){var i=e,r=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(r===0){t.removeChild(h),Tr(e);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")zo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,zo(i);for(var f=i.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[Qa]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=v}}else i==="body"&&zo(t.ownerDocument.body);i=h}while(i);Tr(e)}function Hm(t,e){var i=t;t=0;do{var r=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=r}while(i)}function gh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":gh(i),Pr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function _g(t,e,i,r){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Qa])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function gg(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Jn(t.nextSibling),t===null))return null;return t}function qm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Jn(t.nextSibling),t===null))return null;return t}function vh(t){return t.data==="$?"||t.data==="$~"}function yh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vg(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var bh=null;function Zm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Jn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Im(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Gm(t,e,i){switch(e=cu(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function zo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Pr(t)}var Qn=new Map,Vm=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ea=Q.d;Q.d={f:yg,r:bg,D:wg,C:Sg,L:xg,m:Tg,X:Ag,S:Eg,M:Og};function yg(){var t=ea.f(),e=nu();return t||e}function bg(t){var e=ra(t);e!==null&&e.tag===5&&e.type==="form"?ld(e):ea.r(t)}var wr=typeof document>"u"?null:document;function Km(t,e,i){var r=wr;if(r&&typeof e=="string"&&e){var h=ye(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Vm.has(h)||(Vm.add(h),t={rel:t,crossOrigin:i,href:e},r.querySelector(h)===null&&(e=r.createElement("link"),en(e,"link",t),De(e),r.head.appendChild(e)))}}function wg(t){ea.D(t),Km("dns-prefetch",t,null)}function Sg(t,e){ea.C(t,e),Km("preconnect",t,e)}function xg(t,e,i){ea.L(t,e,i);var r=wr;if(r&&t&&e){var h='link[rel="preload"][as="'+ye(e)+'"]';e==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+ye(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+ye(i.imageSizes)+'"]')):h+='[href="'+ye(t)+'"]';var f=h;switch(e){case"style":f=Sr(t);break;case"script":f=xr(t)}Qn.has(f)||(t=R({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Qn.set(f,t),r.querySelector(h)!==null||e==="style"&&r.querySelector(Mo(f))||e==="script"&&r.querySelector(No(f))||(e=r.createElement("link"),en(e,"link",t),De(e),r.head.appendChild(e)))}}function Tg(t,e){ea.m(t,e);var i=wr;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+ye(r)+'"][href="'+ye(t)+'"]',f=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xr(t)}if(!Qn.has(f)&&(t=R({rel:"modulepreload",href:t},e),Qn.set(f,t),i.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(No(f)))return}r=i.createElement("link"),en(r,"link",t),De(r),i.head.appendChild(r)}}}function Eg(t,e,i){ea.S(t,e,i);var r=wr;if(r&&t){var h=oa(r).hoistableStyles,f=Sr(t);e=e||"default";var v=h.get(f);if(!v){var x={loading:0,preload:null};if(v=r.querySelector(Mo(f)))x.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Qn.get(f))&&wh(t,i);var O=v=r.createElement("link");De(O),en(O,"link",t),O._p=new Promise(function(Z,X){O.onload=Z,O.onerror=X}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,fu(v,e,r)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(f,v)}}}function Ag(t,e){ea.X(t,e);var i=wr;if(i&&t){var r=oa(i).hoistableScripts,h=xr(t),f=r.get(h);f||(f=i.querySelector(No(h)),f||(t=R({src:t,async:!0},e),(e=Qn.get(h))&&Sh(t,e),f=i.createElement("script"),De(f),en(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(h,f))}}function Og(t,e){ea.M(t,e);var i=wr;if(i&&t){var r=oa(i).hoistableScripts,h=xr(t),f=r.get(h);f||(f=i.querySelector(No(h)),f||(t=R({src:t,async:!0,type:"module"},e),(e=Qn.get(h))&&Sh(t,e),f=i.createElement("script"),De(f),en(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(h,f))}}function Ym(t,e,i,r){var h=(h=lt.current)?hu(h):null;if(!h)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Sr(i.href),i=oa(h).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Sr(i.href);var f=oa(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Mo(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Qn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Qn.set(t,i),f||Cg(h,t,i,v.state))),e&&r===null)throw Error(u(528,""));return v}if(e&&r!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xr(i),i=oa(h).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function Sr(t){return'href="'+ye(t)+'"'}function Mo(t){return'link[rel="stylesheet"]['+t+"]"}function $m(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function Cg(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),en(e,"link",i),De(e),t.head.appendChild(e))}function xr(t){return'[src="'+ye(t)+'"]'}function No(t){return"script[async]"+t}function Xm(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ye(i.href)+'"]');if(r)return e.instance=r,De(r),r;var h=R({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),De(r),en(r,"style",h),fu(r,i.precedence,t),e.instance=r;case"stylesheet":h=Sr(i.href);var f=t.querySelector(Mo(h));if(f)return e.state.loading|=4,e.instance=f,De(f),f;r=$m(i),(h=Qn.get(h))&&wh(r,h),f=(t.ownerDocument||t).createElement("link"),De(f);var v=f;return v._p=new Promise(function(x,O){v.onload=x,v.onerror=O}),en(f,"link",r),e.state.loading|=4,fu(f,i.precedence,t),e.instance=f;case"script":return f=xr(i.src),(h=t.querySelector(No(f)))?(e.instance=h,De(h),h):(r=i,(h=Qn.get(f))&&(r=R({},i),Sh(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),De(h),en(h,"link",r),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,fu(r,i.precedence,t));return e.instance}function fu(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,f=h,v=0;v<r.length;v++){var x=r[v];if(x.dataset.precedence===e)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function wh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Sh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var du=null;function Jm(t,e,i){if(du===null){var r=new Map,h=du=new Map;h.set(i,r)}else h=du,r=h.get(i),r||(r=new Map,h.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var f=i[h];if(!(f[Qa]||f[je]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(e)||"";v=t+v;var x=r.get(v);x?x.push(f):r.set(v,[f])}}return r}function Qm(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Rg(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Fm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kg(t,e,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Sr(r.href),f=e.querySelector(Mo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=mu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=f,De(f);return}f=e.ownerDocument||e,r=$m(r),(h=Qn.get(h))&&wh(r,h),f=f.createElement("link"),De(f);var v=f;v._p=new Promise(function(x,O){v.onload=x,v.onerror=O}),en(f,"link",r),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=mu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var xh=0;function Lg(t,e){return t.stylesheets&&t.count===0&&_u(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var r=setTimeout(function(){if(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&xh===0&&(xh=62500*hg());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pu=null;function _u(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pu=new Map,e.forEach(zg,t),pu=null,mu.call(t))}function zg(t,e){if(!(e.state.loading&4)){var i=pu.get(t);if(i)var r=i.get(null);else{i=new Map,pu.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),r=v)}r&&i.set(null,r)}h=e.instance,v=h.getAttribute("data-precedence"),f=i.get(v)||r,f===r&&i.set(null,h),i.set(v,h),this.count++,r=mu.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var jo={$$typeof:J,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Mg(t,e,i,r,h,f,v,x,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Wm(t,e,i,r,h,f,v,x,O,Z,X,et){return t=new Mg(t,e,i,v,O,Z,X,et,x),e=1,f===!0&&(e|=24),f=rn(3,null,null,e),t.current=f,f.stateNode=t,e=nc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:e},rc(f),t}function tp(t){return t?(t=qi,t):qi}function ep(t,e,i,r,h,f){h=tp(h),r.context===null?r.context=h:r.pendingContext=h,r=Aa(e),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=Oa(t,r,e),i!==null&&(Cn(i,t,e),fo(i,t,e))}function np(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Th(t,e){np(t,e),(t=t.alternate)&&np(t,e)}function ip(t){if(t.tag===13||t.tag===31){var e=Yn(t,67108864);e!==null&&Cn(e,t,67108864),Th(t,67108864)}}function ap(t){if(t.tag===13||t.tag===31){var e=Un();e=gn(e);var i=Yn(t,e);i!==null&&Cn(i,t,e),Th(t,e)}}var gu=!0;function Ng(t,e,i,r){var h=K.T;K.T=null;var f=Q.p;try{Q.p=2,Eh(t,e,i,r)}finally{Q.p=f,K.T=h}}function jg(t,e,i,r){var h=K.T;K.T=null;var f=Q.p;try{Q.p=8,Eh(t,e,i,r)}finally{Q.p=f,K.T=h}}function Eh(t,e,i,r){if(gu){var h=Ah(r);if(h===null)hh(t,e,r,vu,i),rp(t,r);else if(Ug(h,t,e,i,r))r.stopPropagation();else if(rp(t,r),e&4&&-1<Dg.indexOf(t)){for(;h!==null;){var f=ra(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=zi(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var O=1<<31-un(v);x.entanglements[1]|=O,v&=~O}ki(f),(ie&6)===0&&(tu=Ft()+500,Ro(0))}}break;case 31:case 13:x=Yn(f,2),x!==null&&Cn(x,f,2),nu(),Th(f,2)}if(f=Ah(r),f===null&&hh(t,e,r,vu,i),f===h)break;h=f}h!==null&&r.stopPropagation()}else hh(t,e,r,null,i)}}function Ah(t){return t=ns(t),Oh(t)}var vu=null;function Oh(t){if(vu=null,t=ji(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=_(e),t!==null)return t;t=null}else if(i===31){if(t=w(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return vu=t,null}function sp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case ve:return 2;case Me:return 8;case Qe:case Va:return 32;case sa:return 268435456;default:return 32}default:return 32}}var Ch=!1,Ba=null,Pa=null,Ha=null,Do=new Map,Uo=new Map,qa=[],Dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rp(t,e){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Do.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(e.pointerId)}}function Bo(t,e,i,r,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[h]},e!==null&&(e=ra(e),e!==null&&ip(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function Ug(t,e,i,r,h){switch(e){case"focusin":return Ba=Bo(Ba,t,e,i,r,h),!0;case"dragenter":return Pa=Bo(Pa,t,e,i,r,h),!0;case"mouseover":return Ha=Bo(Ha,t,e,i,r,h),!0;case"pointerover":var f=h.pointerId;return Do.set(f,Bo(Do.get(f)||null,t,e,i,r,h)),!0;case"gotpointercapture":return f=h.pointerId,Uo.set(f,Bo(Uo.get(f)||null,t,e,i,r,h)),!0}return!1}function op(t){var e=ji(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=_(i),e!==null){t.blockedOn=e,Br(t.priority,function(){ap(i)});return}}else if(e===31){if(e=w(i),e!==null){t.blockedOn=e,Br(t.priority,function(){ap(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Ah(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);Zs=r,i.target.dispatchEvent(r),Zs=null}else return e=ra(i),e!==null&&ip(e),t.blockedOn=i,!1;e.shift()}return!0}function lp(t,e,i){yu(t)&&i.delete(e)}function Bg(){Ch=!1,Ba!==null&&yu(Ba)&&(Ba=null),Pa!==null&&yu(Pa)&&(Pa=null),Ha!==null&&yu(Ha)&&(Ha=null),Do.forEach(lp),Uo.forEach(lp)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ch||(Ch=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Bg)))}var wu=null;function up(t){wu!==t&&(wu=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){wu===t&&(wu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],h=t[e+2];if(typeof r!="function"){if(Oh(r||i)===null)continue;break}var f=ra(i);f!==null&&(t.splice(e,3),e-=3,Ac(f,{pending:!0,data:h,method:i.method,action:r},r,h))}}))}function Tr(t){function e(O){return bu(O,t)}Ba!==null&&bu(Ba,t),Pa!==null&&bu(Pa,t),Ha!==null&&bu(Ha,t),Do.forEach(e),Uo.forEach(e);for(var i=0;i<qa.length;i++){var r=qa[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<qa.length&&(i=qa[0],i.blockedOn===null);)op(i),i.blockedOn===null&&qa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var h=i[r],f=i[r+1],v=h[Ke]||null;if(typeof f=="function")v||up(i);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ke]||null)x=v.formAction;else if(Oh(h)!==null)continue}else x=v.action;typeof x=="function"?i[r+1]=x:(i.splice(r,3),r-=3),up(i)}}}function cp(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function e(){h!==null&&(h(),h=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),h!==null&&(h(),h=null)}}}function Rh(t){this._internalRoot=t}Su.prototype.render=Rh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,r=Un();ep(i,r,t,e,null,null)},Su.prototype.unmount=Rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ep(t.current,2,null,t,null,null),nu(),e[Ni]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ur();t={blockedOn:null,target:t,priority:e};for(var i=0;i<qa.length&&e!==0&&e<qa[i].priority;i++);qa.splice(i,0,t),i===0&&op(t)}};var hp=a.version;if(hp!=="19.2.3")throw Error(u(527,hp,"19.2.3"));Q.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=b(e),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Pg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{_n=xu.inject(Pg),Ne=xu}catch{}}return Ho.createRoot=function(t,e){if(!d(t))throw Error(u(299));var i=!1,r="",h=vd,f=yd,v=bd;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=Wm(t,1,!1,null,null,i,r,null,h,f,v,cp),t[Ni]=e.current,ch(t),new Rh(e)},Ho.hydrateRoot=function(t,e,i){if(!d(t))throw Error(u(299));var r=!1,h="",f=vd,v=yd,x=bd,O=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),e=Wm(t,1,!0,e,i??null,r,h,O,f,v,x,cp),e.context=tp(null),i=e.current,r=Un(),r=gn(r),h=Aa(r),h.callback=null,Oa(i,h,r),i=r,e.current.lanes=i,Mi(e,i),ki(e),t[Ni]=e.current,ch(t),new Su(e)},Ho.version="19.2.3",Ho}var wp;function $g(){if(wp)return zh.exports;wp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),zh.exports=Yg(),zh.exports}var Xg=$g();function e_(l,a){const o=Et.useRef(a);Et.useEffect(function(){a!==o.current&&l.attributionControl!=null&&(o.current!=null&&l.attributionControl.removeAttribution(o.current),a!=null&&l.attributionControl.addAttribution(a)),o.current=a},[l,a])}var Jg=t_();const Qg=1;function Fg(l){return Object.freeze({__version:Qg,map:l})}function Wg(l,a){return Object.freeze({...l,...a})}const of=Et.createContext(null);function lf(){const l=Et.use(of);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function tv(l){function a(o,u){const{instance:d,context:p}=l(o).current;Et.useImperativeHandle(u,()=>d);const{children:_}=o;return _==null?null:Li.createElement(of,{value:p},_)}return Et.forwardRef(a)}function ev(l){function a(o,u){const[d,p]=Et.useState(!1),{instance:_}=l(o,p).current;Et.useImperativeHandle(u,()=>_),Et.useEffect(function(){d&&_.update()},[_,d,o.children]);const w=_._contentNode;return w?Jg.createPortal(o.children,w):null}return Et.forwardRef(a)}function nv(l){function a(o,u){const{instance:d}=l(o).current;return Et.useImperativeHandle(u,()=>d),null}return Et.forwardRef(a)}function n_(l,a){const o=Et.useRef(void 0);Et.useEffect(function(){return a!=null&&l.instance.on(a),o.current=a,function(){o.current!=null&&l.instance.off(o.current),o.current=null}},[l,a])}function uf(l,a){const o=l.pane??a.pane;return o?{...l,pane:o}:l}function iv(l,a){return function(u,d){const p=lf(),_=l(uf(u,p),p);return e_(p.map,u.attribution),n_(_.current,u.eventHandlers),a(_.current,p,u,d),_}}var qo={exports:{}};var av=qo.exports,Sp;function sv(){return Sp||(Sp=1,(function(l,a){(function(o,u){u(a)})(av,(function(o){var u="1.9.4";function d(n){var s,c,m,g;for(c=1,m=arguments.length;c<m;c++){g=arguments[c];for(s in g)n[s]=g[s]}return n}var p=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function _(n,s){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(s,m.length?m.concat(c.call(arguments)):arguments)}}var w=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++w),n._leaflet_id}function b(n,s,c){var m,g,S,E;return E=function(){m=!1,g&&(S.apply(c,g),g=!1)},S=function(){m?g=arguments:(n.apply(c,arguments),setTimeout(E,s),m=!0)},S}function A(n,s,c){var m=s[1],g=s[0],S=m-g;return n===m&&c?n:((n-g)%S+S)%S+g}function R(){return!1}function D(n,s){if(s===!1)return n;var c=Math.pow(10,s===void 0?6:s);return Math.round(n*c)/c}function P(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function I(n){return P(n).split(/\s+/)}function j(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var c in s)n.options[c]=s[c];return n.options}function it(n,s,c){var m=[];for(var g in n)m.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var rt=/\{ *([\w_ -]+) *\}/g;function ht(n,s){return n.replace(rt,function(c,m){var g=s[m];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(s)),g})}var J=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function gt(n,s){for(var c=0;c<n.length;c++)if(n[c]===s)return c;return-1}var Mt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function mt(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var ut=0;function z(n){var s=+new Date,c=Math.max(0,16-(s-ut));return ut=s+c,window.setTimeout(n,c)}var M=window.requestAnimationFrame||mt("RequestAnimationFrame")||z,$=window.cancelAnimationFrame||mt("CancelAnimationFrame")||mt("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function st(n,s,c){if(c&&M===z)n.call(s);else return M.call(window,_(n,s))}function ot(n){n&&$.call(window,n)}var Ot={__proto__:null,extend:d,create:p,bind:_,get lastId(){return w},stamp:y,throttle:b,wrapNum:A,falseFn:R,formatNum:D,trim:P,splitWords:I,setOptions:j,getParamString:it,template:ht,isArray:J,indexOf:gt,emptyImageUrl:Mt,requestFn:M,cancelFn:$,requestAnimFrame:st,cancelAnimFrame:ot};function Nt(){}Nt.extend=function(n){var s=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,m=p(c);m.constructor=s,s.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(s[g]=this[g]);return n.statics&&d(s,n.statics),n.includes&&(ae(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?p(c.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,E=m._initHooks.length;S<E;S++)m._initHooks[S].call(this)}},s},Nt.include=function(n){var s=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},Nt.mergeOptions=function(n){return d(this.prototype.options,n),this},Nt.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function ae(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=J(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s);else{n=I(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],s,c)}return this},off:function(n,s,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],s);else{n=I(n);for(var g=arguments.length===1,S=0,E=n.length;S<E;S++)g?this._off(n[S]):this._off(n[S],s,c)}return this},_on:function(n,s,c,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,c)===!1){c===this&&(c=void 0);var g={fn:s,ctx:c};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,s,c){var m,g,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,S=m.length;g<S;g++)m[g].fn=R;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var E=this._listens(n,s,c);if(E!==!1){var B=m[E];this._firingCount&&(B.fn=R,this._events[n]=m=m.slice()),m.splice(E,1)}}},fire:function(n,s,c){if(!this.listens(n,c))return this;var m=d({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,E=g.length;S<E;S++){var B=g[S],G=B.fn;B.once&&this.off(n,G,B.ctx),G.call(B.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,s,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=s;typeof s!="function"&&(m=!!s,g=void 0,c=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,g,c)!==!1)return!0;if(m){for(var E in this._eventParents)if(this._eventParents[E].listens(n,s,c,m))return!0}return!1},_listens:function(n,s,c){if(!this._events)return!1;var m=this._events[n]||[];if(!s)return!!m.length;c===this&&(c=void 0);for(var g=0,S=m.length;g<S;g++)if(m[g].fn===s&&m[g].ctx===c)return g;return!1},once:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s,!0);else{n=I(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],s,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var Q=Nt.extend(K);function W(n,s,c){this.x=c?Math.round(n):n,this.y=c?Math.round(s):s}var dt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(n){return this.clone()._add(ct(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(ct(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new W(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new W(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=dt(this.x),this.y=dt(this.y),this},distanceTo:function(n){n=ct(n);var s=n.x-this.x,c=n.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(n){return n=ct(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=ct(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function ct(n,s,c){return n instanceof W?n:J(n)?new W(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new W(n.x,n.y):new W(n,s,c)}function T(n,s){if(n)for(var c=s?[n,s]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}T.prototype={extend:function(n){var s,c;if(!n)return this;if(n instanceof W||typeof n[0]=="number"||"x"in n)s=c=ct(n);else if(n=C(n),s=n.min,c=n.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return ct((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return ct(this.min.x,this.max.y)},getTopRight:function(){return ct(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,c;return typeof n[0]=="number"||n instanceof W?n=ct(n):n=C(n),n instanceof T?(s=n.min,c=n.max):s=c=n,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=C(n);var s=this.min,c=this.max,m=n.min,g=n.max,S=g.x>=s.x&&m.x<=c.x,E=g.y>=s.y&&m.y<=c.y;return S&&E},overlaps:function(n){n=C(n);var s=this.min,c=this.max,m=n.min,g=n.max,S=g.x>s.x&&m.x<c.x,E=g.y>s.y&&m.y<c.y;return S&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,c=this.max,m=Math.abs(s.x-c.x)*n,g=Math.abs(s.y-c.y)*n;return C(ct(s.x-m,s.y-g),ct(c.x+m,c.y+g))},equals:function(n){return n?(n=C(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function C(n,s){return!n||n instanceof T?n:new T(n,s)}function H(n,s){if(n)for(var c=s?[n,s]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}H.prototype={extend:function(n){var s=this._southWest,c=this._northEast,m,g;if(n instanceof at)m=n,g=n;else if(n instanceof H){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(lt(n)||nt(n)):this;return!s&&!c?(this._southWest=new at(m.lat,m.lng),this._northEast=new at(g.lat,g.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(n){var s=this._southWest,c=this._northEast,m=Math.abs(s.lat-c.lat)*n,g=Math.abs(s.lng-c.lng)*n;return new H(new at(s.lat-m,s.lng-g),new at(c.lat+m,c.lng+g))},getCenter:function(){return new at((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new at(this.getNorth(),this.getWest())},getSouthEast:function(){return new at(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof at||"lat"in n?n=lt(n):n=nt(n);var s=this._southWest,c=this._northEast,m,g;return n instanceof H?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=s.lat&&g.lat<=c.lat&&m.lng>=s.lng&&g.lng<=c.lng},intersects:function(n){n=nt(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>=s.lat&&m.lat<=c.lat,E=g.lng>=s.lng&&m.lng<=c.lng;return S&&E},overlaps:function(n){n=nt(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>s.lat&&m.lat<c.lat,E=g.lng>s.lng&&m.lng<c.lng;return S&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=nt(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function nt(n,s){return n instanceof H?n:new H(n,s)}function at(n,s,c){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,c!==void 0&&(this.alt=+c)}at.prototype={equals:function(n,s){if(!n)return!1;n=lt(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+D(this.lat,n)+", "+D(this.lng,n)+")"},distanceTo:function(n){return pt.distance(this,lt(n))},wrap:function(){return pt.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,c=s/Math.cos(Math.PI/180*this.lat);return nt([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new at(this.lat,this.lng,this.alt)}};function lt(n,s,c){return n instanceof at?n:J(n)&&typeof n[0]!="object"?n.length===3?new at(n[0],n[1],n[2]):n.length===2?new at(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new at(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new at(n,s,c)}var xt={latLngToPoint:function(n,s){var c=this.projection.project(n),m=this.scale(s);return this.transformation._transform(c,m)},pointToLatLng:function(n,s){var c=this.scale(s),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(s.min,c),g=this.transformation.transform(s.max,c);return new T(m,g)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?A(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?A(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new at(c,s,m)},wrapLatLngBounds:function(n){var s=n.getCenter(),c=this.wrapLatLng(s),m=s.lat-c.lat,g=s.lng-c.lng;if(m===0&&g===0)return n;var S=n.getSouthWest(),E=n.getNorthEast(),B=new at(S.lat-m,S.lng-g),G=new at(E.lat-m,E.lng-g);return new H(B,G)}},pt=d({},xt,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var c=Math.PI/180,m=n.lat*c,g=s.lat*c,S=Math.sin((s.lat-n.lat)*c/2),E=Math.sin((s.lng-n.lng)*c/2),B=S*S+Math.cos(m)*Math.cos(g)*E*E,G=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*G}}),bt=6378137,Qt={R:bt,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),g=Math.sin(m*s);return new W(this.R*n.lng*s,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var s=180/Math.PI;return new at((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=bt*Math.PI;return new T([-n,-n],[n,n])})()};function Lt(n,s,c,m){if(J(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=c,this._d=m}Lt.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new W((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function Zt(n,s,c,m){return new Lt(n,s,c,m)}var ue=d({},pt,{code:"EPSG:3857",projection:Qt,transformation:(function(){var n=.5/(Math.PI*Qt.R);return Zt(n,.5,-n,.5)})()}),At=d({},ue,{code:"EPSG:900913"});function It(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function jt(n,s){var c="",m,g,S,E,B,G;for(m=0,S=n.length;m<S;m++){for(B=n[m],g=0,E=B.length;g<E;g++)G=B[g],c+=(g?"L":"M")+G.x+" "+G.y;c+=s?yt.svg?"z":"x":""}return c||"M0 0"}var Ee=document.documentElement.style,qt="ActiveXObject"in window,se=qt&&!document.addEventListener,_e="msLaunchUri"in navigator&&!("documentMode"in document),dn=gn("webkit"),ln=gn("android"),mi=gn("android 2")||gn("android 3"),Ft=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mn=ln&&gn("Google")&&Ft<537&&!("AudioNode"in window),ve=!!window.opera,Me=!_e&&gn("chrome"),Qe=gn("gecko")&&!dn&&!ve&&!qt,Va=!Me&&gn("safari"),sa=gn("phantom"),Wn="OTransition"in Ee,pn=navigator.platform.indexOf("Win")===0,_n=qt&&"transition"in Ee,Ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mi,ti="MozPerspective"in Ee,un=!window.L_DISABLE_3D&&(_n||Ne||ti)&&!Wn&&!sa,Ka=typeof orientation<"u"||gn("mobile"),ju=Ka&&dn,Du=Ka&&Ne,Ya=!window.PointerEvent&&window.MSPointerEvent,$a=!!(window.PointerEvent||Ya),Xa="ontouchstart"in window||!!window.TouchEvent,zi=!window.L_NO_TOUCH&&(Xa||$a),Bs=Ka&&ve,Ja=Ka&&Qe,Uu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Wo=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",R,s),window.removeEventListener("testPassiveEventSupport",R,s)}catch{}return n})(),Dr=(function(){return!!document.createElement("canvas").getContext})(),Mi=!!(document.createElementNS&&It("svg").createSVGRect),Bu=!!Mi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),tl=!Mi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),el=navigator.platform.indexOf("Mac")===0,nl=navigator.platform.indexOf("Linux")===0;function gn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var yt={ie:qt,ielt9:se,edge:_e,webkit:dn,android:ln,android23:mi,androidStock:mn,opera:ve,chrome:Me,gecko:Qe,safari:Va,phantom:sa,opera12:Wn,win:pn,ie3d:_n,webkit3d:Ne,gecko3d:ti,any3d:un,mobile:Ka,mobileWebkit:ju,mobileWebkit3d:Du,msPointer:Ya,pointer:$a,touch:zi,touchNative:Xa,mobileOpera:Bs,mobileGecko:Ja,retina:Uu,passiveEvents:Wo,canvas:Dr,svg:Mi,vml:tl,inlineSvg:Bu,mac:el,linux:nl},Ur=yt.msPointer?"MSPointerDown":"pointerdown",Br=yt.msPointer?"MSPointerMove":"pointermove",ei=yt.msPointer?"MSPointerUp":"pointerup",je=yt.msPointer?"MSPointerCancel":"pointercancel",Ke={touchstart:Ur,touchmove:Br,touchend:ei,touchcancel:je},Ni={touchstart:oa,touchmove:_i,touchend:_i,touchcancel:_i},pi={},il=!1;function Pu(n,s,c){return s==="touchstart"&&ra(),Ni[s]?(c=Ni[s].bind(this,c),n.addEventListener(Ke[s],c,!1),c):(console.warn("wrong event specified:",s),R)}function al(n,s,c){if(!Ke[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Ke[s],c,!1)}function Qa(n){pi[n.pointerId]=n}function Pr(n){pi[n.pointerId]&&(pi[n.pointerId]=n)}function ji(n){delete pi[n.pointerId]}function ra(){il||(document.addEventListener(Ur,Qa,!0),document.addEventListener(Br,Pr,!0),document.addEventListener(ei,ji,!0),document.addEventListener(je,ji,!0),il=!0)}function _i(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in pi)s.touches.push(pi[c]);s.changedTouches=[s],n(s)}}function oa(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Ae(s),_i(n,s)}function De(n){var s={},c,m;for(m in n)c=n[m],s[m]=c&&c.bind?c.bind(n):c;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var sl=200;function rl(n,s){n.addEventListener("dblclick",s);var c=0,m;function g(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var E=as(S);if(!(E.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!E.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var B=Date.now();B-c<=sl?(m++,m===2&&s(De(S))):m=1,c=B}}}return n.addEventListener("click",g),{dblclick:s,simDblclick:g}}function Di(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var gi=ts(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fa=ts(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Hr=Fa==="webkitTransition"||Fa==="OTransition"?Fa+"End":"transitionend";function qr(n){return typeof n=="string"?document.getElementById(n):n}function Wa(n,s){var c=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[s]:null}return c==="auto"?null:c}function Gt(n,s,c){var m=document.createElement(n);return m.className=s||"",c&&c.appendChild(m),m}function ce(n){var s=n.parentNode;s&&s.removeChild(n)}function vn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ze(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function Ui(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Zr(n,s){if(n.classList!==void 0)return n.classList.contains(s);var c=Ps(n);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function Dt(n,s){if(n.classList!==void 0)for(var c=I(s),m=0,g=c.length;m<g;m++)n.classList.add(c[m]);else if(!Zr(n,s)){var S=Ps(n);la(n,(S?S+" ":"")+s)}}function we(n,s){n.classList!==void 0?n.classList.remove(s):la(n,P((" "+Ps(n)+" ").replace(" "+s+" "," ")))}function la(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Ps(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ye(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Ir(n,s)}function Ir(n,s){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):n.style.filter+=" progid:"+m+"(opacity="+s+")"}function ts(n){for(var s=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in s)return n[c];return!1}function ni(n,s,c){var m=s||new W(0,0);n.style[gi]=(yt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function me(n,s){n._leaflet_pos=s,yt.any3d?ni(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function vi(n){return n._leaflet_pos||new W(0,0)}var ua,qn,Gr;if("onselectstart"in document)ua=function(){zt(window,"selectstart",Ae)},qn=function(){re(window,"selectstart",Ae)};else{var ca=ts(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ua=function(){if(ca){var n=document.documentElement.style;Gr=n[ca],n[ca]="none"}},qn=function(){ca&&(document.documentElement.style[ca]=Gr,Gr=void 0)}}function Hs(){zt(window,"dragstart",Ae)}function es(){re(window,"dragstart",Ae)}var qs,Vr;function ha(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(yn(),qs=n,Vr=n.style.outlineStyle,n.style.outlineStyle="none",zt(window,"keydown",yn))}function yn(){qs&&(qs.style.outlineStyle=Vr,qs=void 0,Vr=void 0,re(window,"keydown",yn))}function Zs(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ns(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var fa={__proto__:null,TRANSFORM:gi,TRANSITION:Fa,TRANSITION_END:Hr,get:qr,getStyle:Wa,create:Gt,remove:ce,empty:vn,toFront:Ze,toBack:Ui,hasClass:Zr,addClass:Dt,removeClass:we,setClass:la,getClass:Ps,setOpacity:ye,testProp:ts,setTransform:ni,setPosition:me,getPosition:vi,get disableTextSelection(){return ua},get enableTextSelection(){return qn},disableImageDrag:Hs,enableImageDrag:es,preventOutline:ha,restoreOutline:yn,getSizedParentNode:Zs,getScale:ns};function zt(n,s,c,m){if(s&&typeof s=="object")for(var g in s)kn(n,g,s[g],c);else{s=I(s);for(var S=0,E=s.length;S<E;S++)kn(n,s[S],c,m)}return this}var Rn="_leaflet_events";function re(n,s,c,m){if(arguments.length===1)Kr(n),delete n[Rn];else if(s&&typeof s=="object")for(var g in s)is(n,g,s[g],c);else if(s=I(s),arguments.length===2)Kr(n,function(B){return gt(s,B)!==-1});else for(var S=0,E=s.length;S<E;S++)is(n,s[S],c,m);return this}function Kr(n,s){for(var c in n[Rn]){var m=c.split(/\d/)[0];(!s||s(m))&&is(n,m,null,null,c)}}var Bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function kn(n,s,c,m){var g=s+y(c)+(m?"_"+y(m):"");if(n[Rn]&&n[Rn][g])return this;var S=function(B){return c.call(m||n,B||window.event)},E=S;!yt.touchNative&&yt.pointer&&s.indexOf("touch")===0?S=Pu(n,s,S):yt.touch&&s==="dblclick"?S=rl(n,S):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Bi[s]||s,S,yt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(S=function(B){B=B||window.event,ii(n,B)&&E(B)},n.addEventListener(Bi[s],S,!1)):n.addEventListener(s,E,!1):n.attachEvent("on"+s,S),n[Rn]=n[Rn]||{},n[Rn][g]=S}function is(n,s,c,m,g){g=g||s+y(c)+(m?"_"+y(m):"");var S=n[Rn]&&n[Rn][g];if(!S)return this;!yt.touchNative&&yt.pointer&&s.indexOf("touch")===0?al(n,s,S):yt.touch&&s==="dblclick"?Di(n,S):"removeEventListener"in n?n.removeEventListener(Bi[s]||s,S,!1):n.detachEvent("on"+s,S),n[Rn][g]=null}function Ln(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Zn(n){return kn(n,"wheel",Ln),this}function Pi(n){return zt(n,"mousedown touchstart dblclick contextmenu",Ln),n._leaflet_disable_click=!0,this}function Ae(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function yi(n){return Ae(n),Ln(n),this}function as(n){if(n.composedPath)return n.composedPath();for(var s=[],c=n.target;c;)s.push(c),c=c.parentNode;return s}function ss(n,s){if(!s)return new W(n.clientX,n.clientY);var c=ns(s),m=c.boundingClientRect;return new W((n.clientX-m.left)/c.x-s.clientLeft,(n.clientY-m.top)/c.y-s.clientTop)}var ol=yt.linux&&yt.chrome?window.devicePixelRatio:yt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fe(n){return yt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/ol:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ii(n,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var Is={__proto__:null,on:zt,off:re,stopPropagation:Ln,disableScrollPropagation:Zn,disableClickPropagation:Pi,preventDefault:Ae,stop:yi,getPropagationPath:as,getMousePosition:ss,getWheelDelta:Fe,isExternalTarget:ii,addListener:zt,removeListener:re},da=Q.extend({run:function(n,s,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=vi(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=st(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var c=this._startPos.add(this._offset.multiplyBy(n));s&&c._round(),me(this._el,c),this.fire("step")},_complete:function(){ot(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),$t=Q.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=j(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(lt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fa&&yt.any3d&&!yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,Hr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(lt(n),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=d({animate:c.animate},c.zoom),c.pan=d({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,c){var m=this.getZoomScale(s),g=this.getSize().divideBy(2),S=n instanceof W?n:this.latLngToContainerPoint(n),E=S.subtract(g).multiplyBy(1-1/m),B=this.containerPointToLatLng(g.add(E));return this.setView(B,s,{zoom:c})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():nt(n);var c=ct(s.paddingTopLeft||s.padding||[0,0]),m=ct(s.paddingBottomRight||s.padding||[0,0]),g=this.getBoundsZoom(n,!1,c.add(m));if(g=typeof s.maxZoom=="number"?Math.min(s.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var S=m.subtract(c).divideBy(2),E=this.project(n.getSouthWest(),g),B=this.project(n.getNorthEast(),g),G=this.unproject(E.add(B).divideBy(2).add(S),g);return{center:G,zoom:g}},fitBounds:function(n,s){if(n=nt(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=ct(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new da,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Dt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,c){if(c=c||{},c.animate===!1||!yt.any3d)return this.setView(n,s,c);this._stop();var m=this.project(this.getCenter()),g=this.project(n),S=this.getSize(),E=this._zoom;n=lt(n),s=s===void 0?E:s;var B=Math.max(S.x,S.y),G=B*this.getZoomScale(E,s),tt=g.distanceTo(m)||1,ft=1.42,wt=ft*ft;function Pt(xe){var oi=xe?-1:1,Ii=xe?G:B,oo=G*G-B*B+oi*wt*wt*tt*tt,ws=2*Ii*wt*tt,Ss=oo/ws,Ci=Math.sqrt(Ss*Ss+1)-Ss,li=Ci<1e-9?-18:Math.log(Ci);return li}function Ie(xe){return(Math.exp(xe)-Math.exp(-xe))/2}function Oe(xe){return(Math.exp(xe)+Math.exp(-xe))/2}function hn(xe){return Ie(xe)/Oe(xe)}var Wt=Pt(0);function te(xe){return B*(Oe(Wt)/Oe(Wt+ft*xe))}function Vt(xe){return B*(Oe(Wt)*hn(Wt+ft*xe)-Ie(Wt))/wt}function Ai(xe){return 1-Math.pow(1-xe,1.5)}var xn=Date.now(),ir=(Pt(1)-Wt)/ft,Oi=c.duration?1e3*c.duration:1e3*ir*.8;function ro(){var xe=(Date.now()-xn)/Oi,oi=Ai(xe)*ir;xe<=1?(this._flyToFrame=st(ro,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(Vt(oi)/tt)),E),this.getScaleZoom(B/te(oi),E),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),ro.call(this),this},flyToBounds:function(n,s){var c=this._getBoundsCenterZoom(n,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(n){return n=nt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,nt(n));return c.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var c=ct(s.paddingTopLeft||s.padding||[0,0]),m=ct(s.paddingBottomRight||s.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(n),E=this.getPixelBounds(),B=C([E.min.add(c),E.max.subtract(m)]),G=B.getSize();if(!B.contains(S)){this._enforcingBounds=!0;var tt=S.subtract(B.getCenter()),ft=B.extend(S).getSize().subtract(G);g.x+=tt.x<0?-ft.x:ft.x,g.y+=tt.y<0?-ft.y:ft.y,this.panTo(this.unproject(g),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=s.divideBy(2).round(),g=c.divideBy(2).round(),S=m.subtract(g);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=_(this._handleGeolocationResponse,this),c=_(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,n):navigator.geolocation.getCurrentPosition(s,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,c=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,c=n.coords.longitude,m=new at(s,c),g=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var E=this.getBoundsZoom(g);this.setView(m,S.maxZoom?Math.min(E,S.maxZoom):E)}var B={latlng:m,bounds:g,timestamp:n.timestamp};for(var G in n.coords)typeof n.coords[G]=="number"&&(B[G]=n.coords[G]);this.fire("locationfound",B)}},addHandler:function(n,s){if(!s)return this;var c=this[n]=new s(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ot(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ce(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Gt("div",c,s||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new H(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,c){n=nt(n),c=ct(c||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),E=n.getNorthWest(),B=n.getSouthEast(),G=this.getSize().subtract(c),tt=C(this.project(B,m),this.project(E,m)).getSize(),ft=yt.any3d?this.options.zoomSnap:1,wt=G.x/tt.x,Pt=G.y/tt.y,Ie=s?Math.max(wt,Pt):Math.min(wt,Pt);return m=this.getScaleZoom(Ie,m),ft&&(m=Math.round(m/(ft/100))*(ft/100),m=s?Math.ceil(m/ft)*ft:Math.floor(m/ft)*ft),Math.max(g,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var c=this._getTopLeftPoint(n,s);return new T(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(n)/c.scale(s)},getScaleZoom:function(n,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var m=c.zoom(n*c.scale(s));return isNaN(m)?1/0:m},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(lt(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(ct(n),s)},layerPointToLatLng:function(n){var s=ct(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(lt(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(lt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(nt(n))},distance:function(n,s){return this.options.crs.distance(lt(n),lt(s))},containerPointToLayerPoint:function(n){return ct(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return ct(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(ct(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(lt(n)))},mouseEventToContainerPoint:function(n){return ss(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=qr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(s,"scroll",this._onScroll,this),this._containerId=y(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt.any3d,Dt(n,"leaflet-container"+(yt.touch?" leaflet-touch":"")+(yt.retina?" leaflet-retina":"")+(yt.ielt9?" leaflet-oldie":"")+(yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Wa(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Dt(n.markerPane,"leaflet-zoom-hide"),Dt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,c){me(this._mapPane,new W(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var g=this._zoom!==s;this._moveStart(g,c)._move(n,s)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,c,m){s===void 0&&(s=this._zoom);var g=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ot(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){me(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var s=n?re:zt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),yt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ot(this._resizeRequest),this._resizeRequest=st(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var c=[],m,g=s==="mouseout"||s==="mouseover",S=n.target||n.srcElement,E=!1;S;){if(m=this._targets[y(S)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){E=!0;break}if(m&&m.listens(s,!0)&&(g&&!ii(S,n)||(c.push(m),g))||S===this._container)break;S=S.parentNode}return!c.length&&!E&&!g&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var c=n.type;c==="mousedown"&&ha(s),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,c){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var g=this._findEventTargets(n,s);if(c){for(var S=[],E=0;E<c.length;E++)c[E].listens(s,!0)&&S.push(c[E]);g=S.concat(g)}if(g.length){s==="contextmenu"&&Ae(n);var B=g[0],G={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var tt=B.getLatLng&&(!B._radius||B._radius<=10);G.containerPoint=tt?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(n),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=tt?B.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(E=0;E<g.length;E++)if(g[E].fire(s,G,!0),G.originalEvent._stopped||g[E].options.bubblingMouseEvents===!1&&gt(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return vi(this._mapPane)||new W(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var c=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var c=this.getSize()._divideBy(2);return this.project(n,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return this.project(n,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return C([this.project(n.getSouthWest(),s)._subtract(m),this.project(n.getNorthWest(),s)._subtract(m),this.project(n.getSouthEast(),s)._subtract(m),this.project(n.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,c){if(!c)return n;var m=this.project(n,s),g=this.getSize().divideBy(2),S=new T(m.subtract(g),m.add(g)),E=this._getBoundsOffset(S,c,s);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?n:this.unproject(m.add(E),s)},_limitOffset:function(n,s){if(!s)return n;var c=this.getPixelBounds(),m=new T(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(n,s,c){var m=C(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),g=m.min.subtract(n.min),S=m.max.subtract(n.max),E=this._rebound(g.x,-S.x),B=this._rebound(g.y,-S.y);return new W(E,B)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),c=this.getMaxZoom(),m=yt.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(s,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){we(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var c=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var n=this._proxy=Gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var c=gi,m=this._proxy.style[c];ni(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();ni(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),g=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(g)?!1:(st(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,Dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&we(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yr(n,s){return new $t(n,s)}var cn=Nt.extend({options:{position:"topright"},initialize:function(n){j(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return Dt(s,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),ai=function(n){return new cn(n)};$t.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",c=this._controlContainer=Gt("div",s+"control-container",this._container);function m(g,S){var E=s+g+" "+s+S;n[g+S]=Gt("div",E,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ce(this._controlCorners[n]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rs=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,s,c){j(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return cn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(y(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):we(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return we(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Gt("div",n),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Pi(s),Zn(s);var m=this._section=Gt("section",n+"-list");c&&(this._map.on("click",this.collapse,this),zt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Gt("a",n+"-toggle",s);g.href="#",g.title="Layers",g.setAttribute("role","button"),zt(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){Ae(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Gt("div",n+"-base",m),this._separator=Gt("div",n+"-separator",m),this._overlaysList=Gt("div",n+"-overlays",m),s.appendChild(m)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&y(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(_(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vn(this._baseLayersList),vn(this._overlaysList),this._layerControlInputs=[];var n,s,c,m,g=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),s=s||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(y(n.target)),c=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(n,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var s=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(m),m.layerId=y(n.layer),zt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var S=document.createElement("span");s.appendChild(S),S.appendChild(m),S.appendChild(g);var E=n.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,c,m=[],g=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)s=n[S],c=this._getLayer(s.layerId).layer,s.checked?m.push(c):s.checked||g.push(c);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,c,m=this._map.getZoom(),g=n.length-1;g>=0;g--)s=n[g],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,zt(n,"click",Ae),this.expand();var s=this;setTimeout(function(){re(n,"click",Ae),s._preventClick=!1})}}),ll=function(n,s,c){return new rs(n,s,c)},$r=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",c=Gt("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,c,m,g){var S=Gt("a",c,m);return S.innerHTML=n,S.href="#",S.title=s,S.setAttribute("role","button"),S.setAttribute("aria-label",s),Pi(S),zt(S,"click",yi),zt(S,"click",g,this),zt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";we(this._zoomInButton,s),we(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Dt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Dt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $r,this.addControl(this.zoomControl))});var Hu=function(n){return new $r(n)},ul=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",c=Gt("div",s),m=this.options;return this._addScales(m,s+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,c){n.metric&&(this._mScale=Gt("div",s,c)),n.imperial&&(this._iScale=Gt("div",s,c))},_update:function(){var n=this._map,s=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/n)},_updateImperial:function(n){var s=n*3.2808399,c,m,g;s>5280?(c=s/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(g=this._getRoundNum(s),this._updateScale(this._iScale,g+" ft",g/s))},_updateScale:function(n,s,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),c=n/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),Xr=function(n){return new ul(n)},qu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jr=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(yt.inlineSvg?qu+" ":"")+"Leaflet</a>"},initialize:function(n){j(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Gt("div","leaflet-control-attribution"),Pi(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new Jr().addTo(this)});var Zu=function(n){return new Jr(n)};cn.Layers=rs,cn.Zoom=$r,cn.Scale=ul,cn.Attribution=Jr,ai.layers=ll,ai.zoom=Hu,ai.scale=Xr,ai.attribution=Zu;var In=Nt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});In.addTo=function(n,s){return n.addHandler(s,this),this};var Iu={Events:K},Qr=yt.touch?"touchstart mousedown":"mousedown",bi=Q.extend({options:{clickTolerance:3},initialize:function(n,s,c,m){j(this,m),this._element=n,this._dragStartTarget=s||n,this._preventOutline=c},enable:function(){this._enabled||(zt(this._dragStartTarget,Qr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bi._dragging===this&&this.finishDrag(!0),re(this._dragStartTarget,Qr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Zr(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){bi._dragging===this&&this.finishDrag();return}if(!(bi._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(bi._dragging=this,this._preventOutline&&ha(this._element),Hs(),ua(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,c=Zs(this._element);this._startPoint=new W(s.clientX,s.clientY),this._startPos=vi(this._element),this._parentScale=ns(c);var m=n.type==="mousedown";zt(document,m?"mousemove":"touchmove",this._onMove,this),zt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,c=new W(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Ae(n),this._moved||(this.fire("dragstart"),this._moved=!0,Dt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),me(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){we(document.body,"leaflet-dragging"),this._lastTarget&&(we(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),re(document,"mousemove touchmove",this._onMove,this),re(document,"mouseup touchend touchcancel",this._onUp,this),es(),qn();var s=this._moved&&this._moving;this._moving=!1,bi._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function cl(n,s,c){var m,g=[1,4,2,8],S,E,B,G,tt,ft,wt,Pt;for(S=0,ft=n.length;S<ft;S++)n[S]._code=Hi(n[S],s);for(B=0;B<4;B++){for(wt=g[B],m=[],S=0,ft=n.length,E=ft-1;S<ft;E=S++)G=n[S],tt=n[E],G._code&wt?tt._code&wt||(Pt=Gs(tt,G,wt,s,c),Pt._code=Hi(Pt,s),m.push(Pt)):(tt._code&wt&&(Pt=Gs(tt,G,wt,s,c),Pt._code=Hi(Pt,s),m.push(Pt)),m.push(G));n=m}return n}function hl(n,s){var c,m,g,S,E,B,G,tt,ft;if(!n||n.length===0)throw new Error("latlngs not passed");bn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var wt=lt([0,0]),Pt=nt(n),Ie=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Ie<1700&&(wt=Fr(n));var Oe=n.length,hn=[];for(c=0;c<Oe;c++){var Wt=lt(n[c]);hn.push(s.project(lt([Wt.lat-wt.lat,Wt.lng-wt.lng])))}for(B=G=tt=0,c=0,m=Oe-1;c<Oe;m=c++)g=hn[c],S=hn[m],E=g.y*S.x-S.y*g.x,G+=(g.x+S.x)*E,tt+=(g.y+S.y)*E,B+=E*3;B===0?ft=hn[0]:ft=[G/B,tt/B];var te=s.unproject(ct(ft));return lt([te.lat+wt.lat,te.lng+wt.lng])}function Fr(n){for(var s=0,c=0,m=0,g=0;g<n.length;g++){var S=lt(n[g]);s+=S.lat,c+=S.lng,m++}return lt([s/m,c/m])}var Wr={__proto__:null,clipPolygon:cl,polygonCenter:hl,centroid:Fr};function fl(n,s){if(!s||!n.length)return n.slice();var c=s*s;return n=Vu(n,c),n=ml(n,c),n}function dl(n,s,c){return Math.sqrt(os(n,s,c,!0))}function Gu(n,s,c){return os(n,s,c)}function ml(n,s){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(c);g[0]=g[c-1]=1,to(n,g,s,0,c-1);var S,E=[];for(S=0;S<c;S++)g[S]&&E.push(n[S]);return E}function to(n,s,c,m,g){var S=0,E,B,G;for(B=m+1;B<=g-1;B++)G=os(n[B],n[m],n[g],!0),G>S&&(E=B,S=G);S>c&&(s[E]=1,to(n,s,c,m,E),to(n,s,c,E,g))}function Vu(n,s){for(var c=[n[0]],m=1,g=0,S=n.length;m<S;m++)Ku(n[m],n[g])>s&&(c.push(n[m]),g=m);return g<S-1&&c.push(n[S-1]),c}var pl;function _l(n,s,c,m,g){var S=m?pl:Hi(n,c),E=Hi(s,c),B,G,tt;for(pl=E;;){if(!(S|E))return[n,s];if(S&E)return!1;B=S||E,G=Gs(n,s,B,c,g),tt=Hi(G,c),B===S?(n=G,S=tt):(s=G,E=tt)}}function Gs(n,s,c,m,g){var S=s.x-n.x,E=s.y-n.y,B=m.min,G=m.max,tt,ft;return c&8?(tt=n.x+S*(G.y-n.y)/E,ft=G.y):c&4?(tt=n.x+S*(B.y-n.y)/E,ft=B.y):c&2?(tt=G.x,ft=n.y+E*(G.x-n.x)/S):c&1&&(tt=B.x,ft=n.y+E*(B.x-n.x)/S),new W(tt,ft,g)}function Hi(n,s){var c=0;return n.x<s.min.x?c|=1:n.x>s.max.x&&(c|=2),n.y<s.min.y?c|=4:n.y>s.max.y&&(c|=8),c}function Ku(n,s){var c=s.x-n.x,m=s.y-n.y;return c*c+m*m}function os(n,s,c,m){var g=s.x,S=s.y,E=c.x-g,B=c.y-S,G=E*E+B*B,tt;return G>0&&(tt=((n.x-g)*E+(n.y-S)*B)/G,tt>1?(g=c.x,S=c.y):tt>0&&(g+=E*tt,S+=B*tt)),E=n.x-g,B=n.y-S,m?E*E+B*B:new W(g,S)}function bn(n){return!J(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Vs(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bn(n)}function ma(n,s){var c,m,g,S,E,B,G,tt;if(!n||n.length===0)throw new Error("latlngs not passed");bn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ft=lt([0,0]),wt=nt(n),Pt=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Pt<1700&&(ft=Fr(n));var Ie=n.length,Oe=[];for(c=0;c<Ie;c++){var hn=lt(n[c]);Oe.push(s.project(lt([hn.lat-ft.lat,hn.lng-ft.lng])))}for(c=0,m=0;c<Ie-1;c++)m+=Oe[c].distanceTo(Oe[c+1])/2;if(m===0)tt=Oe[0];else for(c=0,S=0;c<Ie-1;c++)if(E=Oe[c],B=Oe[c+1],g=E.distanceTo(B),S+=g,S>m){G=(S-m)/g,tt=[B.x-G*(B.x-E.x),B.y-G*(B.y-E.y)];break}var Wt=s.unproject(ct(tt));return lt([Wt.lat+ft.lat,Wt.lng+ft.lng])}var Yu={__proto__:null,simplify:fl,pointToSegmentDistance:dl,closestPointOnSegment:Gu,clipSegment:_l,_getEdgeIntersection:Gs,_getBitCode:Hi,_sqClosestPointOnSegment:os,isFlat:bn,_flat:Vs,polylineCenter:ma},Ks={project:function(n){return new W(n.lng,n.lat)},unproject:function(n){return new at(n.y,n.x)},bounds:new T([-180,-90],[180,90])},Ys={R:6378137,R_MINOR:6356752314245179e-9,bounds:new T([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,c=this.R,m=n.lat*s,g=this.R_MINOR/c,S=Math.sqrt(1-g*g),E=S*Math.sin(m),B=Math.tan(Math.PI/4-m/2)/Math.pow((1-E)/(1+E),S/2);return m=-c*Math.log(Math.max(B,1e-10)),new W(n.lng*s*c,m)},unproject:function(n){for(var s=180/Math.PI,c=this.R,m=this.R_MINOR/c,g=Math.sqrt(1-m*m),S=Math.exp(-n.y/c),E=Math.PI/2-2*Math.atan(S),B=0,G=.1,tt;B<15&&Math.abs(G)>1e-7;B++)tt=g*Math.sin(E),tt=Math.pow((1-tt)/(1+tt),g/2),G=Math.PI/2-2*Math.atan(S*tt)-E,E+=G;return new at(E*s,n.x*s/c)}},gl={__proto__:null,LonLat:Ks,Mercator:Ys,SphericalMercator:Qt},vl=d({},pt,{code:"EPSG:3395",projection:Ys,transformation:(function(){var n=.5/(Math.PI*Ys.R);return Zt(n,.5,-n,.5)})()}),eo=d({},pt,{code:"EPSG:4326",projection:Ks,transformation:Zt(1/180,1,-1/180,.5)}),pa=d({},xt,{projection:Ks,transformation:Zt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var c=s.lng-n.lng,m=s.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});xt.Earth=pt,xt.EPSG3395=vl,xt.EPSG3857=ue,xt.EPSG900913=At,xt.EPSG4326=eo,xt.Simple=pa;var zn=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=y(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=y(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},_addLayers:function(n){n=n?J(n)?n:[n]:[];for(var s=0,c=n.length;s<c;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=y(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),s=g.maxZoom===void 0?s:Math.max(s,g.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _a=zn.extend({initialize:function(n,s){j(this,s),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),$u=function(n,s){return new _a(n,s)},Gn=_a.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),_a.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),_a.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new H;for(var s in this._layers){var c=this._layers[s];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),yl=function(n,s){return new Gn(n,s)},Vn=Nt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){j(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,s){var c=this.options,m=c[s+"Size"];typeof m=="number"&&(m=[m,m]);var g=ct(m),S=ct(s==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(c.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return yt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function ls(n){return new Vn(n)}var us=Vn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof us.imagePath!="string"&&(us.imagePath=this._detectIconPath()),(this.options.imagePath||us.imagePath)+Vn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(c,m,g){var S=m.exec(c);return S&&S[g]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Gt("div","leaflet-default-icon-path",document.body),s=Wa(n,"background-image")||Wa(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),cs=In.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new bi(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Dt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&we(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,c=s._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=vi(s._icon),E=c.getPixelBounds(),B=c.getPixelOrigin(),G=C(E.min._subtract(B).add(g),E.max._subtract(B).subtract(g));if(!G.contains(S)){var tt=ct((Math.max(G.max.x,S.x)-G.max.x)/(E.max.x-G.max.x)-(Math.min(G.min.x,S.x)-G.min.x)/(E.min.x-G.min.x),(Math.max(G.max.y,S.y)-G.max.y)/(E.max.y-G.max.y)-(Math.min(G.min.y,S.y)-G.min.y)/(E.min.y-G.min.y)).multiplyBy(m);c.panBy(tt,{animate:!1}),this._draggable._newPos._add(tt),this._draggable._startPos._add(tt),me(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=st(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ot(this._panRequest),this._panRequest=st(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,c=s._shadow,m=vi(s._icon),g=s._map.layerPointToLatLng(m);c&&me(c,m),s._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ot(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),hs=zn.extend({options:{icon:new us,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){j(this,s),this._latlng=lt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=lt(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),Dt(c,s),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(c,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(Dt(g,s),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(this._icon,"focus",this._panOnFocus,this),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&me(this._icon,n),this._shadow&&me(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cs)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cs(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ye(this._icon,n),this._shadow&&ye(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,c=s.iconSize?ct(s.iconSize):ct(0,0),m=s.iconAnchor?ct(s.iconAnchor):ct(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bl(n,s){return new hs(n,s)}var Kn=zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return j(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ga=Kn.extend({options:{fill:!0,radius:10},initialize:function(n,s){j(this,s),this._latlng=lt(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=lt(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Kn.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,c=this._clickTolerance(),m=[n+c,s+c];this._pxBounds=new T(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wl(n,s){return new ga(n,s)}var $s=ga.extend({initialize:function(n,s,c){if(typeof s=="number"&&(s=d({},c,{radius:s})),j(this,s),this._latlng=lt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Kn.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===pt.distance){var g=Math.PI/180,S=this._mRadius/pt.R/g,E=c.project([s+S,n]),B=c.project([s-S,n]),G=E.add(B).divideBy(2),tt=c.unproject(G).lat,ft=Math.acos((Math.cos(S*g)-Math.sin(s*g)*Math.sin(tt*g))/(Math.cos(s*g)*Math.cos(tt*g)))/g;(isNaN(ft)||ft===0)&&(ft=S/Math.cos(Math.PI/180*s)),this._point=G.subtract(c.getPixelOrigin()),this._radius=isNaN(ft)?0:G.x-c.project([tt,n-ft]).x,this._radiusY=G.y-E.y}else{var wt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(wt).x}this._updateBounds()}});function Sl(n,s,c){return new $s(n,s,c)}var si=Kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){j(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,c=null,m=os,g,S,E=0,B=this._parts.length;E<B;E++)for(var G=this._parts[E],tt=1,ft=G.length;tt<ft;tt++){g=G[tt-1],S=G[tt];var wt=m(n,g,S,!0);wt<s&&(s=wt,c=m(n,g,S))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ma(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=lt(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new H,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],c=bn(n),m=0,g=n.length;m<g;m++)c?(s[m]=lt(n[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(n[m]);return s},_project:function(){var n=new T;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new W(n,n);this._rawPxBounds&&(this._pxBounds=new T([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,c){var m=n[0]instanceof at,g=n.length,S,E;if(m){for(E=[],S=0;S<g;S++)E[S]=this._map.latLngToLayerPoint(n[S]),c.extend(E[S]);s.push(E)}else for(S=0;S<g;S++)this._projectLatlngs(n[S],s,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,m,g,S,E,B,G;for(c=0,g=0,S=this._rings.length;c<S;c++)for(G=this._rings[c],m=0,E=G.length;m<E-1;m++)B=_l(G[m],G[m+1],n,m,!0),B&&(s[g]=s[g]||[],s[g].push(B[0]),(B[1]!==G[m+1]||m===E-2)&&(s[g].push(B[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=fl(n[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var c,m,g,S,E,B,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,S=this._parts.length;c<S;c++)for(B=this._parts[c],m=0,E=B.length,g=E-1;m<E;g=m++)if(!(!s&&m===0)&&dl(n,B[g],B[m])<=G)return!0;return!1}});function Xu(n,s){return new si(n,s)}si._flat=Vs;var va=si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=si.prototype._convertLatLngs.call(this,n),c=s.length;return c>=2&&s[0]instanceof at&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(n){si.prototype._setLatLngs.call(this,n),bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,c=new W(s,s);if(n=new T(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,S;m<g;m++)S=cl(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,c,m,g,S,E,B,G,tt;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,G=this._parts.length;S<G;S++)for(c=this._parts[S],E=0,tt=c.length,B=tt-1;E<tt;B=E++)m=c[E],g=c[B],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(s=!s);return s||si.prototype._containsPoint.call(this,n,!0)}});function Ju(n,s){return new va(n,s)}var ri=Gn.extend({initialize:function(n,s){j(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=J(n)?n:n.features,c,m,g;if(s){for(c=0,m=s.length;c<m;c++)g=s[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var E=Ye(n,S);return E?(E.feature=Qs(n),E.defaultOptions=E.options,this.resetStyle(E),S.onEachFeature&&S.onEachFeature(n,E),this.addLayer(E)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Ye(n,s){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,g=[],S=s&&s.pointToLayer,E=s&&s.coordsToLatLng||Xs,B,G,tt,ft;if(!m&&!c)return null;switch(c.type){case"Point":return B=E(m),ya(S,n,B,s);case"MultiPoint":for(tt=0,ft=m.length;tt<ft;tt++)B=E(m[tt]),g.push(ya(S,n,B,s));return new Gn(g);case"LineString":case"MultiLineString":return G=fs(m,c.type==="LineString"?0:1,E),new si(G,s);case"Polygon":case"MultiPolygon":return G=fs(m,c.type==="Polygon"?1:2,E),new va(G,s);case"GeometryCollection":for(tt=0,ft=c.geometries.length;tt<ft;tt++){var wt=Ye({geometry:c.geometries[tt],type:"Feature",properties:n.properties},s);wt&&g.push(wt)}return new Gn(g);case"FeatureCollection":for(tt=0,ft=c.features.length;tt<ft;tt++){var Pt=Ye(c.features[tt],s);Pt&&g.push(Pt)}return new Gn(g);default:throw new Error("Invalid GeoJSON object.")}}function ya(n,s,c,m){return n?n(s,c):new hs(c,m&&m.markersInheritOptions&&m)}function Xs(n){return new at(n[1],n[0],n[2])}function fs(n,s,c){for(var m=[],g=0,S=n.length,E;g<S;g++)E=s?fs(n[g],s-1,c):(c||Xs)(n[g]),m.push(E);return m}function Js(n,s){return n=lt(n),n.alt!==void 0?[D(n.lng,s),D(n.lat,s),D(n.alt,s)]:[D(n.lng,s),D(n.lat,s)]}function ds(n,s,c,m){for(var g=[],S=0,E=n.length;S<E;S++)g.push(s?ds(n[S],bn(n[S])?0:s-1,c,m):Js(n[S],m));return!s&&c&&g.length>0&&g.push(g[0].slice()),g}function wi(n,s){return n.feature?d({},n.feature,{geometry:s}):Qs(s)}function Qs(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Si={toGeoJSON:function(n){return wi(this,{type:"Point",coordinates:Js(this.getLatLng(),n)})}};hs.include(Si),$s.include(Si),ga.include(Si),si.include({toGeoJSON:function(n){var s=!bn(this._latlngs),c=ds(this._latlngs,s?1:0,!1,n);return wi(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),va.include({toGeoJSON:function(n){var s=!bn(this._latlngs),c=s&&!bn(this._latlngs[0]),m=ds(this._latlngs,c?2:s?1:0,!0,n);return s||(m=[m]),wi(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),_a.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(n).geometry.coordinates)}),wi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var c=s==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(n);if(c)m.push(S.geometry);else{var E=Qs(S);E.type==="FeatureCollection"?m.push.apply(m,E.features):m.push(E)}}}),c?wi(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Fs(n,s){return new ri(n,s)}var ms=Fs,ba=zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,c){this._url=n,this._bounds=nt(s),j(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Ze(this._image),this},bringToBack:function(){return this._map&&Ui(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=nt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Gt("img");if(Dt(s,"leaflet-image-layer"),this._zoomAnimated&&Dt(s,"leaflet-zoom-animated"),this.options.className&&Dt(s,this.options.className),s.onselectstart=R,s.onmousemove=R,s.onload=_(this.fire,this,"load"),s.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;ni(this._image,c,s)},_reset:function(){var n=this._image,s=new T(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();me(n,s.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),xl=function(n,s,c){return new ba(n,s,c)},xi=ba.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Gt("video");if(Dt(s,"leaflet-image-layer"),this._zoomAnimated&&Dt(s,"leaflet-zoom-animated"),this.options.className&&Dt(s,this.options.className),s.onselectstart=R,s.onmousemove=R,s.onloadeddata=_(this.fire,this,"load"),n){for(var c=s.getElementsByTagName("source"),m=[],g=0;g<c.length;g++)m.push(c[g].src);this._url=c.length>0?m:[s.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var E=Gt("source");E.src=this._url[S],s.appendChild(E)}}});function wa(n,s,c){return new xi(n,s,c)}var Ws=ba.extend({_initImage:function(){var n=this._image=this._url;Dt(n,"leaflet-image-layer"),this._zoomAnimated&&Dt(n,"leaflet-zoom-animated"),this.options.className&&Dt(n,this.options.className),n.onselectstart=R,n.onmousemove=R}});function Tl(n,s,c){return new Ws(n,s,c)}var $e=zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof at||J(n))?(this._latlng=lt(n),j(this,s)):(j(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ye(this._container,1),this.bringToFront(),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ye(this._container,0),this._removeTimeout=setTimeout(_(ce,void 0,this._container),200)):ce(this._container),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=lt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ze(this._container),this},bringToBack:function(){return this._map&&Ui(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof Gn){s=null;var c=this._source._layers;for(var m in c)if(c[m]._map){s=c[m];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=ct(this.options.offset),c=this._getAnchor();this._zoomAnimated?me(this._container,n.add(c)):s=s.add(n).add(c);var m=this._containerBottom=-s.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(n,s,c,m){var g=s;return g instanceof n||(g=new n(m).setContent(s)),c&&g.setLatLng(c),g}}),zn.include({_initOverlay:function(n,s,c,m){var g=c;return g instanceof n?(j(g,m),g._source=this):(g=s&&!m?s:new n(m,this),g.setContent(c)),g}});var ps=$e.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,$e.prototype.openOn.call(this,n)},onAdd:function(n){$e.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kn||this._source.on("preclick",Ln))},onRemove:function(n){$e.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kn||this._source.off("preclick",Ln))},getEvents:function(){var n=$e.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Gt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Gt("div",n+"-content-wrapper",s);if(this._contentNode=Gt("div",n+"-content",c),Pi(s),Zn(this._contentNode),zt(s,"contextmenu",Ln),this._tipContainer=Gt("div",n+"-tip-container",s),this._tip=Gt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Gt("a",n+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',zt(m,"click",function(g){Ae(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var m=n.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&m>g?(s.height=g+"px",Dt(n,S)):we(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();me(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(Wa(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,m=this._containerWidth,g=new W(this._containerLeft,-c-this._containerBottom);g._add(vi(this._container));var S=n.layerPointToContainerPoint(g),E=ct(this.options.autoPanPadding),B=ct(this.options.autoPanPaddingTopLeft||E),G=ct(this.options.autoPanPaddingBottomRight||E),tt=n.getSize(),ft=0,wt=0;S.x+m+G.x>tt.x&&(ft=S.x+m-tt.x+G.x),S.x-ft-B.x<0&&(ft=S.x-B.x),S.y+c+G.y>tt.y&&(wt=S.y+c-tt.y+G.y),S.y-wt-B.y<0&&(wt=S.y-B.y),(ft||wt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ft,wt]))}},_getAnchor:function(){return ct(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),El=function(n,s){return new ps(n,s)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(n,s,c){return this._initOverlay(ps,n,s,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),zn.include({bindPopup:function(n,s){return this._popup=this._initOverlay(ps,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){yi(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var _s=$e.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){$e.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){$e.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=$e.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Gt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,c,m=this._map,g=this._container,S=m.latLngToContainerPoint(m.getCenter()),E=m.layerPointToContainerPoint(n),B=this.options.direction,G=g.offsetWidth,tt=g.offsetHeight,ft=ct(this.options.offset),wt=this._getAnchor();B==="top"?(s=G/2,c=tt):B==="bottom"?(s=G/2,c=0):B==="center"?(s=G/2,c=tt/2):B==="right"?(s=0,c=tt/2):B==="left"?(s=G,c=tt/2):E.x<S.x?(B="right",s=0,c=tt/2):(B="left",s=G+(ft.x+wt.x)*2,c=tt/2),n=n.subtract(ct(s,c,!0)).add(ft).add(wt),we(g,"leaflet-tooltip-right"),we(g,"leaflet-tooltip-left"),we(g,"leaflet-tooltip-top"),we(g,"leaflet-tooltip-bottom"),Dt(g,"leaflet-tooltip-"+B),me(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ye(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return ct(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qu=function(n,s){return new _s(n,s)};$t.include({openTooltip:function(n,s,c){return this._initOverlay(_s,n,s,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),zn.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_s,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(zt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),zt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var Al=Vn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(vn(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=ct(c.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Fu(n){return new Al(n)}Vn.Default=us;var Sa=zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){j(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ce(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ze(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof W?n:new W(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,c=-n(-1/0,1/0),m=0,g=s.length,S;m<g;m++)S=s[m].style.zIndex,s[m]!==this._container&&S&&(c=n(c,+S));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!yt.ielt9){ye(this._container,this.options.opacity);var n=+new Date,s=!1,c=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var S=Math.min(1,(n-g.loaded)/200);ye(g.el,S),S<1?s=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(ot(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=s-Math.abs(n-c),this._onUpdateLevel(c)):(ce(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),R(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var n,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ce(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,c,m){var g=Math.floor(n/2),S=Math.floor(s/2),E=c-1,B=new W(+g,+S);B.z=+E;var G=this._tileCoordsToKey(B),tt=this._tiles[G];return tt&&tt.active?(tt.retain=!0,!0):(tt&&tt.loaded&&(tt.retain=!0),E>m?this._retainParent(g,S,E,m):!1)},_retainChildren:function(n,s,c,m){for(var g=2*n;g<2*n+2;g++)for(var S=2*s;S<2*s+2;S++){var E=new W(g,S);E.z=c+1;var B=this._tileCoordsToKey(E),G=this._tiles[B];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);c+1<m&&this._retainChildren(g,S,c+1,m)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,c,m){var g=Math.round(s);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,s)},_setZoomTransform:function(n,s,c){var m=this._map.getZoomScale(c,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,c)).round();yt.any3d?ni(n.el,g,m):me(n.el,g)},_resetGrid:function(){var n=this._map,s=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,s.wrapLng[1]],m).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([s.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(c,this._tileZoom),g=s.project(n,this._tileZoom).floor(),S=s.getSize().divideBy(m*2);return new T(g.subtract(S),g.add(S))},_update:function(n){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),S=g.getCenter(),E=[],B=this.options.keepBuffer,G=new T(g.getBottomLeft().subtract([B,-B]),g.getTopRight().add([B,-B]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tt in this._tiles){var ft=this._tiles[tt].coords;(ft.z!==this._tileZoom||!G.contains(new W(ft.x,ft.y)))&&(this._tiles[tt].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var wt=g.min.y;wt<=g.max.y;wt++)for(var Pt=g.min.x;Pt<=g.max.x;Pt++){var Ie=new W(Pt,wt);if(Ie.z=this._tileZoom,!!this._isValidTile(Ie)){var Oe=this._tiles[this._tileCoordsToKey(Ie)];Oe?Oe.current=!0:E.push(Ie)}}if(E.sort(function(Wt,te){return Wt.distanceTo(S)-te.distanceTo(S)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hn=document.createDocumentFragment();for(Pt=0;Pt<E.length;Pt++)this._addTile(E[Pt],hn);this._level.el.appendChild(hn)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!s.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return nt(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,c=this.getTileSize(),m=n.scaleBy(c),g=m.add(c),S=s.unproject(m,n.z),E=s.unproject(g,n.z);return[S,E]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),c=new H(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),c=new W(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(n){var s=this._tiles[n];s&&(ce(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Dt(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=R,n.onmousemove=R,yt.ielt9&&this.options.opacity<1&&ye(n,this.options.opacity)},_addTile:function(n,s){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),_(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&st(_(this._tileReady,this,n,null,g)),me(g,c),this._tiles[m]={el:g,coords:n,current:!0},s.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(ye(c.el,0),ot(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(Dt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),yt.ielt9||!this._map._fadeAnimated?st(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new W(this._wrapX?A(n.x,this._wrapX):n.x,this._wrapY?A(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new T(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Ol(n){return new Sa(n)}var Ti=Sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=j(this,s),s.detectRetina&&yt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var c=document.createElement("img");return zt(c,"load",_(this._tileOnLoad,this,s,c)),zt(c,"error",_(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var s={r:yt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=c),s["-y"]=c}return ht(this._url,d(s,this.options))},_tileOnLoad:function(n,s){yt.ielt9?setTimeout(_(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,c){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),n(c,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=s-n),n+m},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=R,s.onerror=R,!s.complete)){s.src=Mt;var c=this._tiles[n].coords;ce(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",Mt),Sa.prototype._removeTile.call(this,n)},_tileReady:function(n,s,c){if(!(!this._map||c&&c.getAttribute("src")===Mt))return Sa.prototype._tileReady.call(this,n,s,c)}});function wn(n,s){return new Ti(n,s)}var gs=Ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var c=d({},this.defaultWmsParams);for(var m in s)m in this.options||(c[m]=s[m]);s=j(this,s);var g=s.detectRetina&&yt.retina?2:1,S=this.getTileSize();c.width=S.x*g,c.height=S.y*g,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Ti.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),c=this._crs,m=C(c.project(s[0]),c.project(s[1])),g=m.min,S=m.max,E=(this._wmsVersion>=1.3&&this._crs===eo?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),B=Ti.prototype.getTileUrl.call(this,n);return B+it(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(n,s){return d(this.wmsParams,n),s||this.redraw(),this}});function Sn(n,s){return new gs(n,s)}Ti.WMS=gs,wn.wms=Sn;var sn=zn.extend({options:{padding:.1},initialize:function(n){j(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var c=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,s),S=m.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(n,s));yt.any3d?ni(this._container,S,c):me(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new T(c,c.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tr=sn.extend({options:{tolerance:0},getEvents:function(){var n=sn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){sn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");zt(n,"mousemove",this._onMouseMove,this),zt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ot(this._redrawRequest),delete this._ctx,ce(this._container),re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){sn.prototype._update.call(this);var n=this._bounds,s=this._container,c=n.getSize(),m=yt.retina?2:1;me(s,n.min),s.width=m*c.x,s.height=m*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){sn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,c=s.next,m=s.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),c=[],m,g;for(g=0;g<s.length;g++){if(m=Number(s[g]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||st(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new T,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var c,m,g,S,E=n._parts,B=E.length,G=this._ctx;if(B){for(G.beginPath(),c=0;c<B;c++){for(m=0,g=E[c].length;m<g;m++)S=E[c][m],G[m?"lineTo":"moveTo"](S.x,S.y);s&&G.closePath()}this._fillStroke(G,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(s.x,s.y/g,m,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,s){var c=s.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(we(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(s)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,c){this._map._fireDOMEvent(s,c||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function vs(n){return yt.canvas?new tr(n):null}var Ei=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),no={_initContainer:function(){this._container=Gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(sn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Ei("shape");Dt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Ei("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;ce(s),n.removeInteractiveTarget(s),delete this._layers[y(n)]},_updateStyle:function(n){var s=n._stroke,c=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(s||(s=n._stroke=Ei("stroke")),g.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=J(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(g.removeChild(s),n._stroke=null),m.fill?(c||(c=n._fill=Ei("fill")),g.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(g.removeChild(c),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Ze(n._container)},_bringToBack:function(n){Ui(n._container)}},Yn=yt.vml?Ei:It,xa=sn.extend({_initContainer:function(){this._container=Yn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){sn.prototype._update.call(this);var n=this._bounds,s=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),me(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Yn("path");n.options.className&&Dt(s,n.options.className),n.options.interactive&&Dt(s,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ce(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,c=n.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,jt(n._parts,s))},_updateCircle:function(n){var s=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,g="a"+c+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(s.x-c)+","+s.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(n,S)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Ze(n._path)},_bringToBack:function(n){Ui(n._path)}});yt.vml&&xa.include(no);function ys(n){return yt.svg||yt.vml?new xa(n):null}$t.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&vs(n)||ys(n)}});var qi=va.extend({initialize:function(n,s){va.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=nt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Wu(n,s){return new qi(n,s)}xa.create=Yn,xa.pointsToPath=jt,ri.geometryToLayer=Ye,ri.coordsToLatLng=Xs,ri.coordsToLatLngs=fs,ri.latLngToCoords=Js,ri.latLngsToCoords=ds,ri.getFeature=wi,ri.asFeature=Qs,$t.mergeOptions({boxZoom:!0});var rn=In.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ua(),Hs(),this._startPoint=this._map.mouseEventToContainerPoint(n),zt(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Gt("div","leaflet-zoom-box",this._container),Dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new T(this._point,this._startPoint),c=s.getSize();me(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ce(this._box),we(this._container,"leaflet-crosshair")),qn(),es(),re(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var s=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",rn),$t.mergeOptions({doubleClickZoom:!0});var er=In.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,c=s.getZoom(),m=s.options.zoomDelta,g=n.originalEvent.shiftKey?c-m:c+m;s.options.doubleClickZoom==="center"?s.setZoom(g):s.setZoomAround(n.containerPoint,g)}});$t.addInitHook("addHandler","doubleClickZoom",er),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $n=In.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new bi(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){we(this._map._container,"leaflet-grab"),we(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=nt(this._map.options.maxBounds);this._offsetLimit=C(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-s+c)%n+s-c,S=(m+s+c)%n-s-c,E=Math.abs(g+c)<Math.abs(S+c)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(n){var s=this._map,c=s.options,m=!c.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),m)s.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,E=c.easeLinearity,B=g.multiplyBy(E/S),G=B.distanceTo([0,0]),tt=Math.min(c.inertiaMaxSpeed,G),ft=B.multiplyBy(tt/G),wt=tt/(c.inertiaDeceleration*E),Pt=ft.multiplyBy(-wt/2).round();!Pt.x&&!Pt.y?s.fire("moveend"):(Pt=s._limitOffset(Pt,s.options.maxBounds),st(function(){s.panBy(Pt,{duration:wt,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",$n),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=In.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),zt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,c=n.scrollTop||s.scrollTop,m=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},c=this.keyCodes,m,g;for(m=0,g=c.left.length;m<g;m++)s[c.left[m]]=[-1*n,0];for(m=0,g=c.right.length;m<g;m++)s[c.right[m]]=[n,0];for(m=0,g=c.down.length;m<g;m++)s[c.down[m]]=[0,n];for(m=0,g=c.up.length;m<g;m++)s[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},c=this.keyCodes,m,g;for(m=0,g=c.zoomIn.length;m<g;m++)s[c.zoomIn[m]]=n;for(m=0,g=c.zoomOut.length;m<g;m++)s[c.zoomOut[m]]=-n},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,c=this._map,m;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[s],n.shiftKey&&(m=ct(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(ct(m),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(g)}else c.panBy(m)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;yi(n)}}});$t.addInitHook("addHandler","keyboard",io),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bs=In.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Fe(n),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),yi(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=c?Math.ceil(g/c)*c:g,E=n._limitZoom(s+(this._delta>0?S:-S))-s;this._delta=0,this._startTime=null,E&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+E):n.setZoomAround(this._lastMousePos,s+E))}});$t.addInitHook("addHandler","scrollWheelZoom",bs);var Zi=600;$t.mergeOptions({tapHold:yt.touchNative&&yt.safari&&yt.mobile,tapTolerance:15});var nr=In.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new W(s.clientX,s.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Ae),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Zi),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){re(document,"touchend",Ae),re(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new W(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});$t.addInitHook("addHandler","tapHold",nr),$t.mergeOptions({touchZoom:yt.touch,bounceAtZoomLimits:!0});var ao=In.extend({addHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){we(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Ae(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]),g=c.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(g,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&g<1||this._zoom>s.getMaxZoom()&&g>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ot(this._animRequest);var E=_(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=st(E,this,!0),Ae(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ot(this._animRequest),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",ao),$t.BoxZoom=rn,$t.DoubleClickZoom=er,$t.Drag=$n,$t.Keyboard=io,$t.ScrollWheelZoom=bs,$t.TapHold=nr,$t.TouchZoom=ao,o.Bounds=T,o.Browser=yt,o.CRS=xt,o.Canvas=tr,o.Circle=$s,o.CircleMarker=ga,o.Class=Nt,o.Control=cn,o.DivIcon=Al,o.DivOverlay=$e,o.DomEvent=Is,o.DomUtil=fa,o.Draggable=bi,o.Evented=Q,o.FeatureGroup=Gn,o.GeoJSON=ri,o.GridLayer=Sa,o.Handler=In,o.Icon=Vn,o.ImageOverlay=ba,o.LatLng=at,o.LatLngBounds=H,o.Layer=zn,o.LayerGroup=_a,o.LineUtil=Yu,o.Map=$t,o.Marker=hs,o.Mixin=Iu,o.Path=Kn,o.Point=W,o.PolyUtil=Wr,o.Polygon=va,o.Polyline=si,o.Popup=ps,o.PosAnimation=da,o.Projection=gl,o.Rectangle=qi,o.Renderer=sn,o.SVG=xa,o.SVGOverlay=Ws,o.TileLayer=Ti,o.Tooltip=_s,o.Transformation=Lt,o.Util=Ot,o.VideoOverlay=xi,o.bind=_,o.bounds=C,o.canvas=vs,o.circle=Sl,o.circleMarker=wl,o.control=ai,o.divIcon=Fu,o.extend=d,o.featureGroup=yl,o.geoJSON=Fs,o.geoJson=ms,o.gridLayer=Ol,o.icon=ls,o.imageOverlay=xl,o.latLng=lt,o.latLngBounds=nt,o.layerGroup=$u,o.map=Yr,o.marker=bl,o.point=ct,o.polygon=Ju,o.polyline=Xu,o.popup=El,o.rectangle=Wu,o.setOptions=j,o.stamp=y,o.svg=ys,o.svgOverlay=Tl,o.tileLayer=wn,o.tooltip=Qu,o.transformation=Zt,o.version=u,o.videoOverlay=wa;var so=window.L;o.noConflict=function(){return window.L=so,this},window.L=o}))})(qo,qo.exports)),qo.exports}var Qo=sv();const i_=sf(Qo);function cf(l,a,o){return Object.freeze({instance:l,context:a,container:o})}function hf(l,a){return a==null?function(u,d){const p=Et.useRef(void 0);return p.current||(p.current=l(u,d)),p}:function(u,d){const p=Et.useRef(void 0);p.current||(p.current=l(u,d));const _=Et.useRef(u),{instance:w}=p.current;return Et.useEffect(function(){_.current!==u&&(a(w,u,_.current),_.current=u)},[w,u,a]),p}}function rv(l,a){Et.useEffect(function(){return(a.layerContainer??a.map).addLayer(l.instance),function(){a.layerContainer?.removeLayer(l.instance),a.map.removeLayer(l.instance)}},[a,l])}function a_(l){return function(o){const u=lf(),d=l(uf(o,u),u);return e_(u.map,o.attribution),n_(d.current,o.eventHandlers),rv(d.current,u),d}}function ov(l,a){const o=hf(l,a),u=a_(o);return tv(u)}function lv(l,a){const o=hf(l),u=iv(o,a);return ev(u)}function uv(l,a){const o=hf(l,a),u=a_(o);return nv(u)}function cv(l,a,o){const{opacity:u,zIndex:d}=a;u!=null&&u!==o.opacity&&l.setOpacity(u),d!=null&&d!==o.zIndex&&l.setZIndex(d)}function s_(){return lf().map}function hv({bounds:l,boundsOptions:a,center:o,children:u,className:d,id:p,placeholder:_,style:w,whenReady:y,zoom:b,...A},R){const[D]=Et.useState({className:d,id:p,style:w}),[P,I]=Et.useState(null),j=Et.useRef(void 0);Et.useImperativeHandle(R,()=>P?.map??null,[P]);const it=Et.useCallback(ht=>{if(ht!==null&&!j.current){const J=new Qo.Map(ht,A);j.current=J,o!=null&&b!=null?J.setView(o,b):l!=null&&J.fitBounds(l,a),y!=null&&J.whenReady(y),I(Fg(J))}},[]);Et.useEffect(()=>()=>{P?.map.remove()},[P]);const rt=P?Li.createElement(of,{value:P},u):_??null;return Li.createElement("div",{...D,ref:it},rt)}const fv=Et.forwardRef(hv),dv=ov(function({position:a,...o},u){const d=new Qo.Marker(a,o);return cf(d,Wg(u,{overlayContainer:d}))},function(a,o,u){o.position!==u.position&&a.setLatLng(o.position),o.icon!=null&&o.icon!==u.icon&&a.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==u.zIndexOffset&&a.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==u.opacity&&a.setOpacity(o.opacity),a.dragging!=null&&o.draggable!==u.draggable&&(o.draggable===!0?a.dragging.enable():a.dragging.disable())}),mv=lv(function(a,o){const u=new Qo.Popup(a,o.overlayContainer);return cf(u,o)},function(a,o,{position:u},d){Et.useEffect(function(){const{instance:_}=a;function w(b){b.popup===_&&(_.update(),d(!0))}function y(b){b.popup===_&&d(!1)}return o.map.on({popupopen:w,popupclose:y}),o.overlayContainer==null?(u!=null&&_.setLatLng(u),_.openOn(o.map)):o.overlayContainer.bindPopup(_),function(){o.map.off({popupopen:w,popupclose:y}),o.overlayContainer?.unbindPopup(),o.map.removeLayer(_)}},[a,o,d,u])}),ff=uv(function({url:a,...o},u){const d=new Qo.TileLayer(a,uf(o,u));return cf(d,u)},function(a,o,u){cv(a,o,u);const{url:d}=o;d!=null&&d!==u.url&&a.setUrl(d)}),xp=l=>{let a;const o=new Set,u=(b,A)=>{const R=typeof b=="function"?b(a):b;if(!Object.is(R,a)){const D=a;a=A??(typeof R!="object"||R===null)?R:Object.assign({},a,R),o.forEach(P=>P(a,D))}},d=()=>a,w={setState:u,getState:d,getInitialState:()=>y,subscribe:b=>(o.add(b),()=>o.delete(b))},y=a=l(u,d,w);return w},pv=(l=>l?xp(l):xp),_v=l=>l;function gv(l,a=_v){const o=Li.useSyncExternalStore(l.subscribe,Li.useCallback(()=>a(l.getState()),[l,a]),Li.useCallback(()=>a(l.getInitialState()),[l,a]));return Li.useDebugValue(o),o}const vv=l=>{const a=pv(l),o=u=>gv(a,u);return Object.assign(o,a),o},yv=(l=>vv);function bv(l,a){let o;try{o=l()}catch{return}return{getItem:d=>{var p;const _=y=>y===null?null:JSON.parse(y,void 0),w=(p=o.getItem(d))!=null?p:null;return w instanceof Promise?w.then(_):_(w)},setItem:(d,p)=>o.setItem(d,JSON.stringify(p,void 0)),removeItem:d=>o.removeItem(d)}}const Kh=l=>a=>{try{const o=l(a);return o instanceof Promise?o:{then(u){return Kh(u)(o)},catch(u){return this}}}catch(o){return{then(u){return this},catch(u){return Kh(u)(o)}}}},wv=(l,a)=>(o,u,d)=>{let p={storage:bv(()=>localStorage),partialize:j=>j,version:0,merge:(j,it)=>({...it,...j}),...a},_=!1;const w=new Set,y=new Set;let b=p.storage;if(!b)return l((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${p.name}', the given storage is currently unavailable.`),o(...j)},u,d);const A=()=>{const j=p.partialize({...u()});return b.setItem(p.name,{state:j,version:p.version})},R=d.setState;d.setState=(j,it)=>(R(j,it),A());const D=l((...j)=>(o(...j),A()),u,d);d.getInitialState=()=>D;let P;const I=()=>{var j,it;if(!b)return;_=!1,w.forEach(ht=>{var J;return ht((J=u())!=null?J:D)});const rt=((it=p.onRehydrateStorage)==null?void 0:it.call(p,(j=u())!=null?j:D))||void 0;return Kh(b.getItem.bind(b))(p.name).then(ht=>{if(ht)if(typeof ht.version=="number"&&ht.version!==p.version){if(p.migrate){const J=p.migrate(ht.state,ht.version);return J instanceof Promise?J.then(gt=>[!0,gt]):[!0,J]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ht.state];return[!1,void 0]}).then(ht=>{var J;const[gt,Mt]=ht;if(P=p.merge(Mt,(J=u())!=null?J:D),o(P,!0),gt)return A()}).then(()=>{rt?.(P,void 0),P=u(),_=!0,y.forEach(ht=>ht(P))}).catch(ht=>{rt?.(void 0,ht)})};return d.persist={setOptions:j=>{p={...p,...j},j.storage&&(b=j.storage)},clearStorage:()=>{b?.removeItem(p.name)},getOptions:()=>p,rehydrate:()=>I(),hasHydrated:()=>_,onHydrate:j=>(w.add(j),()=>{w.delete(j)}),onFinishHydration:j=>(y.add(j),()=>{y.delete(j)})},p.skipHydration||I(),P||D},Sv=wv;function zu(l,a){var o={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&a.indexOf(u)<0&&(o[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(l);d<u.length;d++)a.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(l,u[d])&&(o[u[d]]=l[u[d]]);return o}function xv(l,a,o,u){function d(p){return p instanceof o?p:new o(function(_){_(p)})}return new(o||(o=Promise))(function(p,_){function w(A){try{b(u.next(A))}catch(R){_(R)}}function y(A){try{b(u.throw(A))}catch(R){_(R)}}function b(A){A.done?p(A.value):d(A.value).then(w,y)}b((u=u.apply(l,a||[])).next())})}const Tv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class df extends Error{constructor(a,o="FunctionsError",u){super(a),this.name=o,this.context=u}}class Ev extends df{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Tp extends df{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Ep extends df{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Yh;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Yh||(Yh={}));class Av{constructor(a,{headers:o={},customFetch:u,region:d=Yh.Any}={}){this.url=a,this.headers=o,this.region=d,this.fetch=Tv(u)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return xv(this,arguments,void 0,function*(o,u={}){var d;let p,_;try{const{headers:w,method:y,body:b,signal:A,timeout:R}=u;let D={},{region:P}=u;P||(P=this.region);const I=new URL(`${this.url}/${o}`);P&&P!=="any"&&(D["x-region"]=P,I.searchParams.set("forceFunctionRegion",P));let j;b&&(w&&!Object.prototype.hasOwnProperty.call(w,"Content-Type")||!w)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(D["Content-Type"]="application/octet-stream",j=b):typeof b=="string"?(D["Content-Type"]="text/plain",j=b):typeof FormData<"u"&&b instanceof FormData?j=b:(D["Content-Type"]="application/json",j=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?j=JSON.stringify(b):j=b;let it=A;R&&(_=new AbortController,p=setTimeout(()=>_.abort(),R),A?(it=_.signal,A.addEventListener("abort",()=>_.abort())):it=_.signal);const rt=yield this.fetch(I.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},D),this.headers),w),body:j,signal:it}).catch(Mt=>{throw new Ev(Mt)}),ht=rt.headers.get("x-relay-error");if(ht&&ht==="true")throw new Tp(rt);if(!rt.ok)throw new Ep(rt);let J=((d=rt.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),gt;return J==="application/json"?gt=yield rt.json():J==="application/octet-stream"||J==="application/pdf"?gt=yield rt.blob():J==="text/event-stream"?gt=rt:J==="multipart/form-data"?gt=yield rt.formData():gt=yield rt.text(),{data:gt,error:null,response:rt}}catch(w){return{data:null,error:w,response:w instanceof Ep||w instanceof Tp?w.context:void 0}}finally{p&&clearTimeout(p)}})}}var Ov=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Cv=class{constructor(l){var a,o;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(o=l.isMaybeSingle)!==null&&o!==void 0?o:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var o=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{let _=null,w=null,y=null,b=p.status,A=p.statusText;if(p.ok){var R,D;if(o.method!=="HEAD"){var P;const rt=await p.text();rt===""||(o.headers.get("Accept")==="text/csv"||o.headers.get("Accept")&&(!((P=o.headers.get("Accept"))===null||P===void 0)&&P.includes("application/vnd.pgrst.plan+text"))?w=rt:w=JSON.parse(rt))}const j=(R=o.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),it=(D=p.headers.get("content-range"))===null||D===void 0?void 0:D.split("/");j&&it&&it.length>1&&(y=parseInt(it[1])),o.isMaybeSingle&&o.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,b=406,A="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{var I;const j=await p.text();try{_=JSON.parse(j),Array.isArray(_)&&p.status===404&&(w=[],_=null,b=200,A="OK")}catch{p.status===404&&j===""?(b=204,A="No Content"):_={message:j}}if(_&&o.isMaybeSingle&&(!(_==null||(I=_.details)===null||I===void 0)&&I.includes("0 rows"))&&(_=null,b=200,A="OK"),_&&o.shouldThrowOnError)throw new Ov(_)}return{error:_,data:w,count:y,status:b,statusText:A}});return this.shouldThrowOnError||(d=d.catch(p=>{var _;let w="";const y=p?.cause;if(y){var b,A,R,D;const I=(b=y?.message)!==null&&b!==void 0?b:"",j=(A=y?.code)!==null&&A!==void 0?A:"";w=`${(R=p?.name)!==null&&R!==void 0?R:"FetchError"}: ${p?.message}`,w+=`

Caused by: ${(D=y?.name)!==null&&D!==void 0?D:"Error"}: ${I}`,j&&(w+=` (${j})`),y?.stack&&(w+=`
${y.stack}`)}else{var P;w=(P=p?.stack)!==null&&P!==void 0?P:""}return{error:{message:`${(_=p?.name)!==null&&_!==void 0?_:"FetchError"}: ${p?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}},Rv=class extends Cv{select(l){let a=!1;const o=(l??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:d=u}={}){const p=d?`${d}.order`:"order",_=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${_?`${_},`:""}${l}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${l}`),this}range(l,a,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${l}`),this.url.searchParams.set(p,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:d=!1,format:p="text"}={}){var _;const w=[l?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${y}"; options=${w};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const Ap=new RegExp("[,()]");var Lr=class extends Rv{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&Ap.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`in.(${o})`),this}notIn(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&Ap.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`not.in.(${o})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:o,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const p=o===void 0?"":`(${o})`;return this.url.searchParams.append(l,`${d}fts${p}.${a}`),this}match(l){return Object.entries(l).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(l,a,o){return this.url.searchParams.append(l,`not.${a}.${o}`),this}or(l,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${l})`),this}filter(l,a,o){return this.url.searchParams.append(l,`${a}.${o}`),this}},kv=class{constructor(l,{headers:a={},schema:o,fetch:u}){this.url=l,this.headers=new Headers(a),this.schema=o,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,a){const{head:o=!1,count:u}=a??{},d=o?"HEAD":"GET";let p=!1;const _=(l??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join(""),{url:w,headers:y}=this.cloneRequestState();return w.searchParams.set("select",_),u&&y.append("Prefer",`count=${u}`),new Lr({method:d,url:w,headers:y,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:o=!0}={}){var u;const d="POST",{url:p,headers:_}=this.cloneRequestState();if(a&&_.append("Prefer",`count=${a}`),o||_.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(w.length>0){const y=[...new Set(w)].map(b=>`"${b}"`);p.searchParams.set("columns",y.join(","))}}return new Lr({method:d,url:p,headers:_,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:d=!0}={}){var p;const _="POST",{url:w,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&w.searchParams.set("on_conflict",a),u&&y.append("Prefer",`count=${u}`),d||y.append("Prefer","missing=default"),Array.isArray(l)){const b=l.reduce((A,R)=>A.concat(Object.keys(R)),[]);if(b.length>0){const A=[...new Set(b)].map(R=>`"${R}"`);w.searchParams.set("columns",A.join(","))}}return new Lr({method:_,url:w,headers:y,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:a}={}){var o;const u="PATCH",{url:d,headers:p}=this.cloneRequestState();return a&&p.append("Prefer",`count=${a}`),new Lr({method:u,url:d,headers:p,schema:this.schema,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:l}={}){var a;const o="DELETE",{url:u,headers:d}=this.cloneRequestState();return l&&d.append("Prefer",`count=${l}`),new Lr({method:o,url:u,headers:d,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Lv=class r_{constructor(a,{headers:o={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r_(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:d=!1,count:p}={}){var _;let w;const y=new URL(`${this.url}/rpc/${a}`);let b;const A=P=>P!==null&&typeof P=="object"&&(!Array.isArray(P)||P.some(A)),R=u&&Object.values(o).some(A);R?(w="POST",b=o):u||d?(w=u?"HEAD":"GET",Object.entries(o).filter(([P,I])=>I!==void 0).map(([P,I])=>[P,Array.isArray(I)?`{${I.join(",")}}`:`${I}`]).forEach(([P,I])=>{y.searchParams.append(P,I)})):(w="POST",b=o);const D=new Headers(this.headers);return R?D.set("Prefer",p?`count=${p},return=minimal`:"return=minimal"):p&&D.set("Prefer",`count=${p}`),new Lr({method:w,url:y,headers:D,schema:this.schemaName,body:b,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}};class zv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const o=globalThis.process;if(o){const u=o.versions;if(u&&u.node){const d=u.node,p=parseInt(d.replace(/^v/,"").split(".")[0]);return p>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${p} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${p} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`

Suggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){const u=this.getWebSocketConstructor();return new u(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Mv="2.90.1",Nv=`realtime-js/${Mv}`,o_="1.0.0",jv="2.0.0",Op=o_,$h=1e4,Dv=1e3,Uv=100;var Ia;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ia||(Ia={}));var Ve;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Ve||(Ve={}));var di;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(di||(di={}));var Xh;(function(l){l.websocket="websocket"})(Xh||(Xh={}));var js;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(js||(js={}));class Bv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return o(this._binaryEncodeUserBroadcastPush(a));let u=[a.join_ref,a.ref,a.topic,a.event,a.payload];return o(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer((o=a.payload)===null||o===void 0?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,u;const d=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var o,u;const d=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:{},_=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,_)}_encodeUserBroadcastPush(a,o,u){var d,p;const _=a.topic,w=(d=a.ref)!==null&&d!==void 0?d:"",y=(p=a.join_ref)!==null&&p!==void 0?p:"",b=a.payload.event,A=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},R=Object.keys(A).length===0?"":JSON.stringify(A);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`ref length ${w.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`topic length ${_.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const D=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+w.length+_.length+b.length+R.length,P=new ArrayBuffer(this.HEADER_LENGTH+D);let I=new DataView(P),j=0;I.setUint8(j++,this.KINDS.userBroadcastPush),I.setUint8(j++,y.length),I.setUint8(j++,w.length),I.setUint8(j++,_.length),I.setUint8(j++,b.length),I.setUint8(j++,R.length),I.setUint8(j++,o),Array.from(y,rt=>I.setUint8(j++,rt.charCodeAt(0))),Array.from(w,rt=>I.setUint8(j++,rt.charCodeAt(0))),Array.from(_,rt=>I.setUint8(j++,rt.charCodeAt(0))),Array.from(b,rt=>I.setUint8(j++,rt.charCodeAt(0))),Array.from(R,rt=>I.setUint8(j++,rt.charCodeAt(0)));var it=new Uint8Array(P.byteLength+u.byteLength);return it.set(new Uint8Array(P),0),it.set(new Uint8Array(u),P.byteLength),it.buffer}decode(a,o){if(this._isArrayBuffer(a)){let u=this._binaryDecode(a);return o(u)}if(typeof a=="string"){const u=JSON.parse(a),[d,p,_,w,y]=u;return o({join_ref:d,ref:p,topic:_,event:w,payload:y})}return o({})}_binaryDecode(a){const o=new DataView(a),u=o.getUint8(0),d=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,o,d)}_decodeUserBroadcast(a,o,u){const d=o.getUint8(1),p=o.getUint8(2),_=o.getUint8(3),w=o.getUint8(4);let y=this.HEADER_LENGTH+4;const b=u.decode(a.slice(y,y+d));y=y+d;const A=u.decode(a.slice(y,y+p));y=y+p;const R=u.decode(a.slice(y,y+_));y=y+_;const D=a.slice(y,a.byteLength),P=w===this.JSON_ENCODING?JSON.parse(u.decode(D)):D,I={type:this.BROADCAST_EVENT,event:A,payload:P};return _>0&&(I.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:I}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||((o=a?.constructor)===null||o===void 0?void 0:o.name)==="ArrayBuffer"}_pick(a,o){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([u])=>o.includes(u)))}}class l_{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ge||(ge={}));const Cp=(l,a,o={})=>{var u;const d=(u=o.skipTypes)!==null&&u!==void 0?u:[];return a?Object.keys(a).reduce((p,_)=>(p[_]=Pv(_,l,a,d),p),{}):{}},Pv=(l,a,o,u)=>{const d=a.find(w=>w.name===l),p=d?.type,_=o[l];return p&&!u.includes(p)?u_(p,_):Jh(_)},u_=(l,a)=>{if(l.charAt(0)==="_"){const o=l.slice(1,l.length);return Iv(a,o)}switch(l){case ge.bool:return Hv(a);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return qv(a);case ge.json:case ge.jsonb:return Zv(a);case ge.timestamp:return Gv(a);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Jh(a);default:return Jh(a)}},Jh=l=>l,Hv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},qv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Zv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},Iv=(l,a)=>{if(typeof l!="string")return l;const o=l.length-1,u=l[o];if(l[0]==="{"&&u==="}"){let p;const _=l.slice(1,o);try{p=JSON.parse("["+_+"]")}catch{p=_?_.split(","):[]}return p.map(w=>u_(a,w))}return l},Gv=l=>typeof l=="string"?l.replace(" ","T"):l,c_=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Dh{constructor(a,o,u={},d=$h){this.channel=a,this.event=o,this.payload=u,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var u;return this._hasReceived(a)&&o((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Rp;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Rp||(Rp={}));class Io{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},d=>{const{onJoin:p,onLeave:_,onSync:w}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Io.syncState(this.state,d,p,_),this.pendingDiffs.forEach(y=>{this.state=Io.syncDiff(this.state,y,p,_)}),this.pendingDiffs=[],w()}),this.channel._on(u.diff,{},d=>{const{onJoin:p,onLeave:_,onSync:w}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Io.syncDiff(this.state,d,p,_),w())}),this.onJoin((d,p,_)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:p,newPresences:_})}),this.onLeave((d,p,_)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:p,leftPresences:_})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,u,d){const p=this.cloneDeep(a),_=this.transformState(o),w={},y={};return this.map(p,(b,A)=>{_[b]||(y[b]=A)}),this.map(_,(b,A)=>{const R=p[b];if(R){const D=A.map(it=>it.presence_ref),P=R.map(it=>it.presence_ref),I=A.filter(it=>P.indexOf(it.presence_ref)<0),j=R.filter(it=>D.indexOf(it.presence_ref)<0);I.length>0&&(w[b]=I),j.length>0&&(y[b]=j)}else w[b]=A}),this.syncDiff(p,{joins:w,leaves:y},u,d)}static syncDiff(a,o,u,d){const{joins:p,leaves:_}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return u||(u=()=>{}),d||(d=()=>{}),this.map(p,(w,y)=>{var b;const A=(b=a[w])!==null&&b!==void 0?b:[];if(a[w]=this.cloneDeep(y),A.length>0){const R=a[w].map(P=>P.presence_ref),D=A.filter(P=>R.indexOf(P.presence_ref)<0);a[w].unshift(...D)}u(w,A,y)}),this.map(_,(w,y)=>{let b=a[w];if(!b)return;const A=y.map(R=>R.presence_ref);b=b.filter(R=>A.indexOf(R.presence_ref)<0),a[w]=b,d(w,b,y),b.length===0&&delete a[w]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(u=>o(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,u)=>{const d=a[u];return"metas"in d?o[u]=d.metas.map(p=>(p.presence_ref=p.phx_ref,delete p.phx_ref,delete p.phx_ref_prev,p)):o[u]=d,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kp;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(kp||(kp={}));var Go;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Go||(Go={}));var na;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(na||(na={}));class Nr{constructor(a,o={config:{}},u){var d,p;if(this.topic=a,this.params=o,this.socket=u,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Dh(this,di.join,this.params,this.timeout),this.rejoinTimer=new l_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(_=>_.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(_=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,_),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",_=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,_),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(di.reply,{},(_,w)=>{this._trigger(this._replyEventName(w),_)}),this.presence=new Io(this),this.broadcastEndpointURL=c_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((p=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var u,d,p;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:_,presence:w,private:y}}=this.params,b=(d=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(P=>P.filter))!==null&&d!==void 0?d:[],A=!!this.bindings[Go.PRESENCE]&&this.bindings[Go.PRESENCE].length>0||((p=this.params.config.presence)===null||p===void 0?void 0:p.enabled)===!0,R={},D={broadcast:_,presence:Object.assign(Object.assign({},w),{enabled:A}),postgres_changes:b,private:y};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(P=>a?.(na.CHANNEL_ERROR,P)),this._onClose(()=>a?.(na.CLOSED)),this.updateJoinPayload(Object.assign({config:D},R)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:P})=>{var I;if(this.socket._isManualToken()||this.socket.setAuth(),P===void 0){a?.(na.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,it=(I=j?.length)!==null&&I!==void 0?I:0,rt=[];for(let ht=0;ht<it;ht++){const J=j[ht],{filter:{event:gt,schema:Mt,table:mt,filter:ut}}=J,z=P&&P[ht];if(z&&z.event===gt&&Nr.isFilterValueEqual(z.schema,Mt)&&Nr.isFilterValueEqual(z.table,mt)&&Nr.isFilterValueEqual(z.filter,ut))rt.push(Object.assign(Object.assign({},J),{id:z.id}));else{this.unsubscribe(),this.state=Ve.errored,a?.(na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=rt,a&&a(na.SUBSCRIBED);return}}).receive("error",P=>{this.state=Ve.errored,a?.(na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{a?.(na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,o={}){return await this.send({type:"presence",event:"track",payload:a},o.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,o,u){return this.state===Ve.joined&&a===Go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,o,u)}async httpSend(a,o,u={}){var d;if(o==null)return Promise.reject("Payload is required for httpSend()");const p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const _={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})},w=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(d=u.timeout)!==null&&d!==void 0?d:this.timeout);if(w.status===202)return{success:!0};let y=w.statusText;try{const b=await w.json();y=b.error||b.message||y}catch{}return Promise.reject(new Error(y))}async send(a,o={}){var u,d;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:p,payload:_}=a,w={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(w.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:w,body:JSON.stringify({messages:[{topic:this.subTopic,event:p,payload:_,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);return await((d=b.body)===null||d===void 0?void 0:d.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(p=>{var _,w,y;const b=this._push(a.type,a,o.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(w=(_=this.params)===null||_===void 0?void 0:_.config)===null||w===void 0?void 0:w.broadcast)===null||y===void 0)&&y.ack)&&p("ok"),b.receive("ok",()=>p("ok")),b.receive("error",()=>p("error")),b.receive("timeout",()=>p("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ve.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(di.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(d=>{u=new Dh(this,di.leave,{},a),u.receive("ok",()=>{o(),d("ok")}).receive("timeout",()=>{o(),d("timed out")}).receive("error",()=>{d("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(a,o,u){const d=new AbortController,p=setTimeout(()=>d.abort(),u),_=await this.socket.fetch(a,Object.assign(Object.assign({},o),{signal:d.signal}));return clearTimeout(p),_}_push(a,o,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Dh(this,a,o,u);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Uv){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,u){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,u){var d,p;const _=a.toLocaleLowerCase(),{close:w,error:y,leave:b,join:A}=di;if(u&&[w,y,b,A].indexOf(_)>=0&&u!==this._joinRef())return;let D=this._onMessage(_,o,u);if(o&&!D)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(_)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(P=>{var I,j,it;return((I=P.filter)===null||I===void 0?void 0:I.event)==="*"||((it=(j=P.filter)===null||j===void 0?void 0:j.event)===null||it===void 0?void 0:it.toLocaleLowerCase())===_}).map(P=>P.callback(D,u)):(p=this.bindings[_])===null||p===void 0||p.filter(P=>{var I,j,it,rt,ht,J,gt,Mt;if(["broadcast","presence","postgres_changes"].includes(_))if("id"in P){const mt=P.id,ut=(I=P.filter)===null||I===void 0?void 0:I.event;return mt&&((j=o.ids)===null||j===void 0?void 0:j.includes(mt))&&(ut==="*"||ut?.toLocaleLowerCase()===((it=o.data)===null||it===void 0?void 0:it.type.toLocaleLowerCase()))&&(!(!((rt=P.filter)===null||rt===void 0)&&rt.table)||P.filter.table===((ht=o.data)===null||ht===void 0?void 0:ht.table))}else{const mt=(gt=(J=P?.filter)===null||J===void 0?void 0:J.event)===null||gt===void 0?void 0:gt.toLocaleLowerCase();return mt==="*"||mt===((Mt=o?.event)===null||Mt===void 0?void 0:Mt.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===_}).map(P=>{if(typeof D=="object"&&"ids"in D){const I=D.data,{schema:j,table:it,commit_timestamp:rt,type:ht,errors:J}=I;D=Object.assign(Object.assign({},{schema:j,table:it,commit_timestamp:rt,eventType:ht,new:{},old:{},errors:J}),this._getPayloadRecords(I))}P.callback(D,u)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,u){const d=a.toLocaleLowerCase(),p={type:d,filter:o,callback:u};return this.bindings[d]?this.bindings[d].push(p):this.bindings[d]=[p],this}_off(a,o){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(d=>{var p;return!(((p=d.type)===null||p===void 0?void 0:p.toLocaleLowerCase())===u&&Nr.isEqual(d.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const u in a)if(a[u]!==o[u])return!1;return!0}static isFilterValueEqual(a,o){return(a??void 0)===(o??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(di.close,{},a)}_onError(a){this._on(di.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(o.new=Cp(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(o.old=Cp(a.columns,a.old_record)),o}}const Uh=()=>{},Tu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vv=[1e3,2e3,5e3,1e4],Kv=1e4,Yv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $v{constructor(a,o){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$h,this.transport=null,this.heartbeatIntervalMs=Tu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uh,this.ref=0,this.reconnectTimer=null,this.vsn=Op,this.logger=Uh,this.conn=null,this.sendBuffer=[],this.serializer=new Bv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...p)=>d(...p):(...p)=>fetch(...p),!(!((u=o?.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${Xh.websocket}`,this.httpEndpoint=c_(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const o=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const a=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,o,u){this.logger(a,o,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Ia.connecting:return js.Connecting;case Ia.open:return js.Open;case Ia.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,o={config:{}}){const u=`realtime:${a}`,d=this.getChannels().find(p=>p.topic===u);if(d)return d;{const p=new Nr(`realtime:${a}`,o,this);return this.channels.push(p),p}}push(a){const{topic:o,event:u,payload:d,ref:p}=a,_=()=>{this.encode(a,w=>{var y;(y=this.conn)===null||y===void 0||y.send(w)})};this.log("push",`${o} ${u} (${p})`,d),this.isConnected()?_():this.sendBuffer.push(_)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Dv,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},Tu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply"&&o.ref&&o.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error",b)}catch(A){this.log("error","error in heartbeat callback",A)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:d,payload:p,ref:_}=o,w=_?`(${_})`:"",y=p.status||"";this.log("receive",`${y} ${u} ${d} ${w}`.trim(),p),this.channels.filter(b=>b._isMember(u)).forEach(b=>b._trigger(d,p,_)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Ia.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ia.open||this.conn.readyState===Ia.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this._terminateWorker()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(di.error))}_appendParams(a,o){if(Object.keys(o).length===0)return a;const u=a.match(/\?/)?"&":"?",d=new URLSearchParams(o);return`${a}${u}${d}`}_workerObjectUrl(a){let o;if(a)o=a;else{const u=new Blob([Yv],{type:"application/javascript"});o=URL.createObjectURL(u)}return o}_setConnectionState(a,o=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(a=null){let o,u=!1;if(a)o=a,u=!0;else if(this.accessToken)try{o=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),o=this.accessTokenValue}else o=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(d=>{const p={access_token:o,version:Nv};o&&d.updateJoinPayload(p),d.joinedOnce&&d._isJoined()&&d._push(di.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(o=>{this.log("error",`Error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(o)}catch(d){this.log("error",`error in ${a} callback`,d)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new l_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var o,u,d,p,_,w,y,b,A,R,D,P;switch(this.transport=(o=a?.transport)!==null&&o!==void 0?o:null,this.timeout=(u=a?.timeout)!==null&&u!==void 0?u:$h,this.heartbeatIntervalMs=(d=a?.heartbeatIntervalMs)!==null&&d!==void 0?d:Tu.HEARTBEAT_INTERVAL,this.worker=(p=a?.worker)!==null&&p!==void 0?p:!1,this.accessToken=(_=a?.accessToken)!==null&&_!==void 0?_:null,this.heartbeatCallback=(w=a?.heartbeatCallback)!==null&&w!==void 0?w:Uh,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:Op,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=a?.reconnectAfterMs)!==null&&b!==void 0?b:(I=>Vv[I-1]||Kv),this.vsn){case o_:this.encode=(A=a?.encode)!==null&&A!==void 0?A:((I,j)=>j(JSON.stringify(I))),this.decode=(R=a?.decode)!==null&&R!==void 0?R:((I,j)=>j(JSON.parse(I)));break;case jv:this.encode=(D=a?.encode)!==null&&D!==void 0?D:this.serializer.encode.bind(this.serializer),this.decode=(P=a?.decode)!==null&&P!==void 0?P:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Vo=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Xv(l,a,o){const u=new URL(a,l);if(o)for(const[d,p]of Object.entries(o))p!==void 0&&u.searchParams.set(d,p);return u.toString()}async function Jv(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Qv(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:o,path:u,query:d,body:p,headers:_}){const w=Xv(l.baseUrl,u,d),y=await Jv(l.auth),b=await a(w,{method:o,headers:{...p?{"Content-Type":"application/json"}:{},...y,..._},body:p?JSON.stringify(p):void 0}),A=await b.text(),R=(b.headers.get("content-type")||"").includes("application/json"),D=R&&A?JSON.parse(A):A;if(!b.ok){const P=R?D:void 0,I=P?.error;throw new Vo(I?.message??`Request failed with status ${b.status}`,{status:b.status,icebergType:I?.type,icebergCode:I?.code,details:P})}return{status:b.status,headers:b.headers,data:D}}}}function Eu(l){return l.join("")}var Fv=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:Eu(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(l,a){const o={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:o})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eu(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eu(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eu(l.namespace)}`}),!0}catch(a){if(a instanceof Vo&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(o){if(o instanceof Vo&&o.status===409)return;throw o}}};function Er(l){return l.join("")}var Wv=class{constructor(l,a="",o){this.client=l,this.prefix=a,this.accessDelegation=o}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Er(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const o={};return this.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Er(l.namespace)}/tables`,body:a,headers:o})).data.metadata}async updateTable(l,a){const o=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Er(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":o.data["metadata-location"],metadata:o.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Er(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Er(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Er(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(o){if(o instanceof Vo&&o.status===404)return!1;throw o}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(o){if(o instanceof Vo&&o.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw o}}},ty=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const o=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Qv({baseUrl:o,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Fv(this.client,a),this.tableOps=new Wv(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},Mu=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function Te(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var ey=class extends Mu{constructor(l,a,o){super(l),this.name="StorageApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qh=class extends Mu{constructor(l,a){super(l),this.name="StorageUnknownError",this.originalError=a}};const mf=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ny=()=>Response,Fh=l=>{if(Array.isArray(l))return l.map(o=>Fh(o));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([o,u])=>{const d=o.replace(/([-_][a-z])/gi,p=>p.toUpperCase().replace(/[-_]/g,""));a[d]=Fh(u)}),a},iy=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},ay=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function Ko(l){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ko(l)}function sy(l,a){if(Ko(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Ko(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function ry(l){var a=sy(l,"string");return Ko(a)=="symbol"?a:a+""}function oy(l,a,o){return(a=ry(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function Lp(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,u)}return o}function kt(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Lp(Object(o),!0).forEach(function(u){oy(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):Lp(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const Bh=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},ly=async(l,a,o)=>{l instanceof await ny()&&!o?.noResolveJson?l.json().then(u=>{const d=l.status||500,p=u?.statusCode||d+"";a(new ey(Bh(u),d,p))}).catch(u=>{a(new Qh(Bh(u),u))}):a(new Qh(Bh(l),l))},uy=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"||!u?d:(iy(u)?(d.headers=kt({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(u)):d.body=u,a?.duplex&&(d.duplex=a.duplex),kt(kt({},d),o))};async function Fo(l,a,o,u,d,p){return new Promise((_,w)=>{l(o,uy(a,u,d,p)).then(y=>{if(!y.ok)throw y;return u?.noResolveJson?y:y.json()}).then(y=>_(y)).catch(y=>ly(y,w,u))})}async function Yo(l,a,o,u){return Fo(l,"GET",a,o,u)}async function fi(l,a,o,u,d){return Fo(l,"POST",a,u,d,o)}async function Wh(l,a,o,u,d){return Fo(l,"PUT",a,u,d,o)}async function cy(l,a,o,u){return Fo(l,"HEAD",a,kt(kt({},o),{},{noResolveJson:!0}),u)}async function pf(l,a,o,u,d){return Fo(l,"DELETE",a,u,d,o)}var hy=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(Te(a))return{data:null,error:a};throw a}}};let h_;h_=Symbol.toStringTag;var fy=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[h_]="BlobDownloadBuilder",this.promise=null}asStream(){return new hy(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(Te(a))return{data:null,error:a};throw a}}};const dy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var my=class{constructor(l,a={},o,u){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.bucketId=o,this.fetch=mf(u)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,a,o,u){var d=this;try{let p;const _=kt(kt({},zp),u);let w=kt(kt({},d.headers),l==="POST"&&{"x-upsert":String(_.upsert)});const y=_.metadata;typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",_.cacheControl),y&&p.append("metadata",d.encodeMetadata(y)),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.has("cacheControl")||p.append("cacheControl",_.cacheControl),y&&!p.has("metadata")&&p.append("metadata",d.encodeMetadata(y))):(p=o,w["cache-control"]=`max-age=${_.cacheControl}`,w["content-type"]=_.contentType,y&&(w["x-metadata"]=d.toBase64(d.encodeMetadata(y))),(typeof ReadableStream<"u"&&p instanceof ReadableStream||p&&typeof p=="object"&&"pipe"in p&&typeof p.pipe=="function")&&!_.duplex&&(_.duplex="half")),u?.headers&&(w=kt(kt({},w),u.headers));const b=d._removeEmptyFolders(a),A=d._getFinalPath(b),R=await(l=="PUT"?Wh:fi)(d.fetch,`${d.url}/object/${A}`,p,kt({headers:w},_?.duplex?{duplex:_.duplex}:{}));return{data:{path:b,id:R.Id,fullPath:R.Key},error:null}}catch(p){if(d.shouldThrowOnError)throw p;if(Te(p))return{data:null,error:p};throw p}}async upload(l,a,o){return this.uploadOrUpdate("POST",l,a,o)}async uploadToSignedUrl(l,a,o,u){var d=this;const p=d._removeEmptyFolders(l),_=d._getFinalPath(p),w=new URL(d.url+`/object/upload/sign/${_}`);w.searchParams.set("token",a);try{let y;const b=kt({upsert:zp.upsert},u),A=kt(kt({},d.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&o instanceof Blob?(y=new FormData,y.append("cacheControl",b.cacheControl),y.append("",o)):typeof FormData<"u"&&o instanceof FormData?(y=o,y.append("cacheControl",b.cacheControl)):(y=o,A["cache-control"]=`max-age=${b.cacheControl}`,A["content-type"]=b.contentType),{data:{path:p,fullPath:(await Wh(d.fetch,w.toString(),y,{headers:A})).Key},error:null}}catch(y){if(d.shouldThrowOnError)throw y;if(Te(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(l,a){var o=this;try{let u=o._getFinalPath(l);const d=kt({},o.headers);a?.upsert&&(d["x-upsert"]="true");const p=await fi(o.fetch,`${o.url}/object/upload/sign/${u}`,{},{headers:d}),_=new URL(o.url+p.url),w=_.searchParams.get("token");if(!w)throw new Mu("No token returned by API");return{data:{signedUrl:_.toString(),path:l,token:w},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}}async update(l,a,o){return this.uploadOrUpdate("PUT",l,a,o)}async move(l,a,o){var u=this;try{return{data:await fi(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers}),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Te(d))return{data:null,error:d};throw d}}async copy(l,a,o){var u=this;try{return{data:{path:(await fi(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers})).Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Te(d))return{data:null,error:d};throw d}}async createSignedUrl(l,a,o){var u=this;try{let d=u._getFinalPath(l),p=await fi(u.fetch,`${u.url}/object/sign/${d}`,kt({expiresIn:a},o?.transform?{transform:o.transform}:{}),{headers:u.headers});const _=o?.download?`&download=${o.download===!0?"":o.download}`:"";return p={signedUrl:encodeURI(`${u.url}${p.signedURL}${_}`)},{data:p,error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Te(d))return{data:null,error:d};throw d}}async createSignedUrls(l,a,o){var u=this;try{const d=await fi(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:a,paths:l},{headers:u.headers}),p=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(_=>kt(kt({},_),{},{signedUrl:_.signedURL?encodeURI(`${u.url}${_.signedURL}${p}`):null})),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Te(d))return{data:null,error:d};throw d}}download(l,a){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),d=u?`?${u}`:"",p=this._getFinalPath(l),_=()=>Yo(this.fetch,`${this.url}/${o}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new fy(_,this.shouldThrowOnError)}async info(l){var a=this;const o=a._getFinalPath(l);try{return{data:Fh(await Yo(a.fetch,`${a.url}/object/info/${o}`,{headers:a.headers})),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}}async exists(l){var a=this;const o=a._getFinalPath(l);try{return await cy(a.fetch,`${a.url}/object/${o}`,{headers:a.headers}),{data:!0,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Te(u)&&u instanceof Qh){const d=u.originalError;if([400,404].includes(d?.status))return{data:!1,error:u}}throw u}}getPublicUrl(l,a){const o=this._getFinalPath(l),u=[],d=a?.download?`download=${a.download===!0?"":a.download}`:"";d!==""&&u.push(d);const p=typeof a?.transform<"u"?"render/image":"object",_=this.transformOptsToQueryString(a?.transform||{});_!==""&&u.push(_);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${w}`)}}}async remove(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async list(l,a,o){var u=this;try{const d=kt(kt(kt({},dy),a),{},{prefix:l||""});return{data:await fi(u.fetch,`${u.url}/object/list/${u.bucketId}`,d,{headers:u.headers},o),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Te(d))return{data:null,error:d};throw d}}async listV2(l,a){var o=this;try{const u=kt({},l);return{data:await fi(o.fetch,`${o.url}/object/list-v2/${o.bucketId}`,u,{headers:o.headers},a),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const f_="2.90.1",d_={"X-Client-Info":`storage-js/${f_}`};var py=class{constructor(l,a={},o,u){this.shouldThrowOnError=!1;const d=new URL(l);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=kt(kt({},d_),a),this.fetch=mf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var a=this;try{const o=a.listBucketOptionsToQueryString(l);return{data:await Yo(a.fetch,`${a.url}/bucket${o}`,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async getBucket(l){var a=this;try{return{data:await Yo(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async createBucket(l,a={public:!1}){var o=this;try{return{data:await fi(o.fetch,`${o.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}}async updateBucket(l,a){var o=this;try{return{data:await Wh(o.fetch,`${o.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}}async emptyBucket(l){var a=this;try{return{data:await fi(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},_y=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=kt(kt({},d_),a),this.fetch=mf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await fi(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async listBuckets(l){var a=this;try{const o=new URLSearchParams;l?.limit!==void 0&&o.set("limit",l.limit.toString()),l?.offset!==void 0&&o.set("offset",l.offset.toString()),l?.sortColumn&&o.set("sortColumn",l.sortColumn),l?.sortOrder&&o.set("sortOrder",l.sortOrder),l?.search&&o.set("search",l.search);const u=o.toString(),d=u?`${a.url}/bucket?${u}`:`${a.url}/bucket`;return{data:await Yo(a.fetch,d,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}from(l){var a=this;if(!ay(l))throw new Mu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const o=new ty({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(o,{get(d,p){const _=d[p];return typeof _!="function"?_:async(...w)=>{try{return{data:await _.apply(d,w),error:null}}catch(y){if(u)throw y;return{data:null,error:y}}}}})}};const _f={"X-Client-Info":`storage-js/${f_}`,"Content-Type":"application/json"};var m_=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pn(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var Ph=class extends m_{constructor(l,a,o){super(l),this.name="StorageVectorsApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gy=class extends m_{constructor(l,a){super(l),this.name="StorageVectorsUnknownError",this.originalError=a}};const gf=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),vy=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Mp=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),yy=async(l,a,o)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!o?.noResolveJson){const u=l.status||500,d=l;if(typeof d.json=="function")d.json().then(p=>{const _=p?.statusCode||p?.code||u+"";a(new Ph(Mp(p),u,_))}).catch(()=>{const p=u+"";a(new Ph(d.statusText||`HTTP ${u} error`,u,p))});else{const p=u+"";a(new Ph(d.statusText||`HTTP ${u} error`,u,p))}}else a(new gy(Mp(l),l))},by=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return u?(vy(u)?(d.headers=kt({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(u)):d.body=u,kt(kt({},d),o)):d};async function wy(l,a,o,u,d,p){return new Promise((_,w)=>{l(o,by(a,u,d,p)).then(y=>{if(!y.ok)throw y;if(u?.noResolveJson)return y;const b=y.headers.get("content-type");return!b||!b.includes("application/json")?{}:y.json()}).then(y=>_(y)).catch(y=>yy(y,w,u))})}async function Hn(l,a,o,u,d){return wy(l,"POST",a,u,d,o)}var Sy=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=kt(kt({},_f),a),this.fetch=gf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async getIndex(l,a){var o=this;try{return{data:await Hn(o.fetch,`${o.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Pn(u))return{data:null,error:u};throw u}}async listIndexes(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async deleteIndex(l,a){var o=this;try{return{data:await Hn(o.fetch,`${o.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers})||{},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Pn(u))return{data:null,error:u};throw u}}},xy=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=kt(kt({},_f),a),this.fetch=gf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var a=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Hn(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async getVectors(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async listVectors(l){var a=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await Hn(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async queryVectors(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async deleteVectors(l){var a=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Hn(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}},Ty=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=kt(kt({},_f),a),this.fetch=gf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async getBucket(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async listBuckets(l={}){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await Hn(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Pn(o))return{data:null,error:o};throw o}}},Ey=class extends Ty{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new Ay(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,o=this;return a().call(o,l)}async getBucket(l){var a=()=>super.getBucket,o=this;return a().call(o,l)}async listBuckets(l={}){var a=()=>super.listBuckets,o=this;return a().call(o,l)}async deleteBucket(l){var a=()=>super.deleteBucket,o=this;return a().call(o,l)}},Ay=class extends Sy{constructor(l,a,o,u){super(l,a,u),this.vectorBucketName=o}async createIndex(l){var a=()=>super.createIndex,o=this;return a().call(o,kt(kt({},l),{},{vectorBucketName:o.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,o=this;return a().call(o,kt(kt({},l),{},{vectorBucketName:o.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,o=this;return a().call(o,o.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,o=this;return a().call(o,o.vectorBucketName,l)}index(l){return new Oy(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Oy=class extends xy{constructor(l,a,o,u,d){super(l,a,d),this.vectorBucketName=o,this.indexName=u}async putVectors(l){var a=()=>super.putVectors,o=this;return a().call(o,kt(kt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async getVectors(l){var a=()=>super.getVectors,o=this;return a().call(o,kt(kt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,o=this;return a().call(o,kt(kt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,o=this;return a().call(o,kt(kt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,o=this;return a().call(o,kt(kt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}},Cy=class extends py{constructor(l,a={},o,u){super(l,a,o,u)}from(l){return new my(this.url,this.headers,l,this.fetch)}get vectors(){return new Ey(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _y(this.url+"/iceberg",this.headers,this.fetch)}};const p_="2.90.1",zr=30*1e3,tf=3,Hh=tf*zr,Ry="http://localhost:9999",ky="supabase.auth.token",Ly={"X-Client-Info":`gotrue-js/${p_}`},ef="X-Supabase-Api-Version",__={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,My=600*1e3;class $o extends Error{constructor(a,o,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=u}}function St(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Ny extends $o{constructor(a,o,u){super(a,o,u),this.name="AuthApiError",this.status=o,this.code=u}}function jy(l){return St(l)&&l.name==="AuthApiError"}class Ds extends $o{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class aa extends $o{constructor(a,o,u,d){super(a,u,d),this.name=o,this.status=u}}class Bn extends aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dy(l){return St(l)&&l.name==="AuthSessionMissingError"}class Ar extends aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Au extends aa{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Ou extends aa{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uy(l){return St(l)&&l.name==="AuthImplicitGrantRedirectError"}class Np extends aa{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class By extends aa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nf extends aa{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function qh(l){return St(l)&&l.name==="AuthRetryableFetchError"}class jp extends aa{constructor(a,o,u){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=u}}class af extends aa{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dp=` 	
\r=`.split(""),Py=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Dp.length;a+=1)l[Dp[a].charCodeAt(0)]=-2;for(let a=0;a<Ru.length;a+=1)l[Ru[a].charCodeAt(0)]=a;return l})();function Up(l,a,o){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(Ru[u]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(Ru[u]),a.queuedBits-=6}}function g_(l,a,o){const u=Py[l];if(u>-1)for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Bp(l){const a=[],o=_=>{a.push(String.fromCodePoint(_))},u={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},p=_=>{Zy(_,u,o)};for(let _=0;_<l.length;_+=1)g_(l.charCodeAt(_),d,p);return a.join("")}function Hy(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function qy(l,a){for(let o=0;o<l.length;o+=1){let u=l.charCodeAt(o);if(u>55295&&u<=56319){const d=(u-55296)*1024&65535;u=(l.charCodeAt(o+1)-56320&65535|d)+65536,o+=1}Hy(u,a)}}function Zy(l,a,o){if(a.utf8seq===0){if(l<=127){o(l);return}for(let u=1;u<6;u+=1)if((l>>7-u&1)===0){a.utf8seq=u;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&o(a.codepoint)}}function jr(l){const a=[],o={queue:0,queuedBits:0},u=d=>{a.push(d)};for(let d=0;d<l.length;d+=1)g_(l.charCodeAt(d),o,u);return new Uint8Array(a)}function Iy(l){const a=[];return qy(l,o=>a.push(o)),new Uint8Array(a)}function Us(l){const a=[],o={queue:0,queuedBits:0},u=d=>{a.push(d)};return l.forEach(d=>Up(d,o,u)),Up(null,o,u),a.join("")}function Gy(l){return Math.round(Date.now()/1e3)+l}function Vy(){return Symbol("auth-callback")}const an=()=>typeof window<"u"&&typeof document<"u",zs={tested:!1,writable:!1},v_=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zs.tested)return zs.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),zs.tested=!0,zs.writable=!0}catch{zs.tested=!0,zs.writable=!1}return zs.writable};function Ky(l){const a={},o=new URL(l);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((d,p)=>{a[p]=d})}catch{}return o.searchParams.forEach((u,d)=>{a[d]=u}),a}const y_=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Yy=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Mr=async(l,a,o)=>{await l.setItem(a,JSON.stringify(o))},Ms=async(l,a)=>{const o=await l.getItem(a);if(!o)return null;try{return JSON.parse(o)}catch{return o}},nn=async(l,a)=>{await l.removeItem(a)};class Nu{constructor(){this.promise=new Nu.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}Nu.promiseConstructor=Promise;function Zh(l){const a=l.split(".");if(a.length!==3)throw new af("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!zy.test(a[u]))throw new af("JWT not in base64url format");return{header:JSON.parse(Bp(a[0])),payload:JSON.parse(Bp(a[1])),signature:jr(a[2]),raw:{header:a[0],payload:a[1]}}}async function $y(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function Xy(l,a){return new Promise((u,d)=>{(async()=>{for(let p=0;p<1/0;p++)try{const _=await l(p);if(!a(p,null,_)){u(_);return}}catch(_){if(!a(p,_)){d(_);return}}})()})}function Jy(l){return("0"+l.toString(16)).substr(-2)}function Qy(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=o.length;let d="";for(let p=0;p<56;p++)d+=o.charAt(Math.floor(Math.random()*u));return d}return crypto.getRandomValues(a),Array.from(a,Jy).join("")}async function Fy(l){const o=new TextEncoder().encode(l),u=await crypto.subtle.digest("SHA-256",o),d=new Uint8Array(u);return Array.from(d).map(p=>String.fromCharCode(p)).join("")}async function Wy(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const o=await Fy(l);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Or(l,a,o=!1){const u=Qy();let d=u;o&&(d+="/PASSWORD_RECOVERY"),await Mr(l,`${a}-code-verifier`,d);const p=await Wy(u);return[p,u===p?"plain":"s256"]}const t0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e0(l){const a=l.headers.get(ef);if(!a||!a.match(t0))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function n0(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function i0(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(l){if(!a0.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ih(){const l={};return new Proxy(l,{get:(a,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s0(l,a){return new Proxy(l,{get:(o,u,d)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const p=u.toString();if(p==="Symbol(Symbol.toPrimitive)"||p==="Symbol(Symbol.toStringTag)"||p==="Symbol(util.inspect.custom)"||p==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(o,u,d)}return!a.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,u,d)}})}function Pp(l){return JSON.parse(JSON.stringify(l))}const Ns=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),r0=[502,503,504];async function Hp(l){var a;if(!Yy(l))throw new nf(Ns(l),0);if(r0.includes(l.status))throw new nf(Ns(l),l.status);let o;try{o=await l.json()}catch(p){throw new Ds(Ns(p),p)}let u;const d=e0(l);if(d&&d.getTime()>=__["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?u=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(u=o.error_code),u){if(u==="weak_password")throw new jp(Ns(o),l.status,((a=o.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(u==="session_not_found")throw new Bn}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((p,_)=>p&&typeof _=="string",!0))throw new jp(Ns(o),l.status,o.weak_password.reasons);throw new Ny(Ns(o),l.status||500,u)}const o0=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),d.body=JSON.stringify(u),Object.assign(Object.assign({},d),o))};async function Rt(l,a,o,u){var d;const p=Object.assign({},u?.headers);p[ef]||(p[ef]=__["2024-01-01"].name),u?.jwt&&(p.Authorization=`Bearer ${u.jwt}`);const _=(d=u?.query)!==null&&d!==void 0?d:{};u?.redirectTo&&(_.redirect_to=u.redirectTo);const w=Object.keys(_).length?"?"+new URLSearchParams(_).toString():"",y=await l0(l,a,o+w,{headers:p,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(y):{data:Object.assign({},y),error:null}}async function l0(l,a,o,u,d,p){const _=o0(a,u,d,p);let w;try{w=await l(o,Object.assign({},_))}catch(y){throw console.error(y),new nf(Ns(y),0)}if(w.ok||await Hp(w),u?.noResolveJson)return w;try{return await w.json()}catch(y){await Hp(y)}}function hi(l){var a;let o=null;h0(l)&&(o=Object.assign({},l),l.expires_at||(o.expires_at=Gy(l.expires_in)));const u=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:o,user:u},error:null}}function qp(l){const a=hi(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Ga(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function u0(l){return{data:l,error:null}}function c0(l){const{action_link:a,email_otp:o,hashed_token:u,redirect_to:d,verification_type:p}=l,_=zu(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),w={action_link:a,email_otp:o,hashed_token:u,redirect_to:d,verification_type:p},y=Object.assign({},_);return{data:{properties:w,user:y},error:null}}function Zp(l){return l}function h0(l){return l.access_token&&l.refresh_token&&l.expires_in}const Gh=["global","local","others"];class f0{constructor({url:a="",headers:o={},fetch:u}){this.url=a,this.headers=o,this.fetch=y_(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,o=Gh[0]){if(Gh.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gh.join(", ")}`);try{return await Rt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(u){if(St(u))return{data:null,error:u};throw u}}async inviteUserByEmail(a,o={}){try{return await Rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ga})}catch(u){if(St(u))return{data:{user:null},error:u};throw u}}async generateLink(a){try{const{options:o}=a,u=zu(a,["options"]),d=Object.assign(Object.assign({},u),o);return"newEmail"in u&&(d.new_email=u?.newEmail,delete d.newEmail),await Rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:c0,redirectTo:o?.redirectTo})}catch(o){if(St(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(a){try{return await Rt(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Ga})}catch(o){if(St(o))return{data:{user:null},error:o};throw o}}async listUsers(a){var o,u,d,p,_,w,y;try{const b={nextPage:null,lastPage:0,total:0},A=await Rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(p=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&p!==void 0?p:""},xform:Zp});if(A.error)throw A.error;const R=await A.json(),D=(_=A.headers.get("x-total-count"))!==null&&_!==void 0?_:0,P=(y=(w=A.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&y!==void 0?y:[];return P.length>0&&(P.forEach(I=>{const j=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),it=JSON.parse(I.split(";")[1].split("=")[1]);b[`${it}Page`]=j}),b.total=parseInt(D)),{data:Object.assign(Object.assign({},R),b),error:null}}catch(b){if(St(b))return{data:{users:[]},error:b};throw b}}async getUserById(a){Cr(a);try{return await Rt(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Ga})}catch(o){if(St(o))return{data:{user:null},error:o};throw o}}async updateUserById(a,o){Cr(a);try{return await Rt(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:o,headers:this.headers,xform:Ga})}catch(u){if(St(u))return{data:{user:null},error:u};throw u}}async deleteUser(a,o=!1){Cr(a);try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ga})}catch(u){if(St(u))return{data:{user:null},error:u};throw u}}async _listFactors(a){Cr(a.userId);try{const{data:o,error:u}=await Rt(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:o,error:u}}catch(o){if(St(o))return{data:null,error:o};throw o}}async _deleteFactor(a){Cr(a.userId),Cr(a.id);try{return{data:await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(o){if(St(o))return{data:null,error:o};throw o}}async _listOAuthClients(a){var o,u,d,p,_,w,y;try{const b={nextPage:null,lastPage:0,total:0},A=await Rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(p=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&p!==void 0?p:""},xform:Zp});if(A.error)throw A.error;const R=await A.json(),D=(_=A.headers.get("x-total-count"))!==null&&_!==void 0?_:0,P=(y=(w=A.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&y!==void 0?y:[];return P.length>0&&(P.forEach(I=>{const j=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),it=JSON.parse(I.split(";")[1].split("=")[1]);b[`${it}Page`]=j}),b.total=parseInt(D)),{data:Object.assign(Object.assign({},R),b),error:null}}catch(b){if(St(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(a){try{return await Rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(St(o))return{data:null,error:o};throw o}}async _getOAuthClient(a){try{return await Rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(St(o))return{data:null,error:o};throw o}}async _updateOAuthClient(a,o){try{return await Rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:o,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(St(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(a){try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(o){if(St(o))return{data:null,error:o};throw o}}async _regenerateOAuthClientSecret(a){try{return await Rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(St(o))return{data:null,error:o};throw o}}}function Ip(l={}){return{getItem:a=>l[a]||null,setItem:(a,o)=>{l[a]=o},removeItem:a=>{delete l[a]}}}const Rr={debug:!!(globalThis&&v_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class b_ extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class d0 extends b_{}async function m0(l,a,o){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async d=>{if(d){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,d.name);try{return await o()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,d.name)}}else{if(a===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new d0(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Rr.debug)try{const p=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function p0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w_(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function _0(l){return parseInt(l,16)}function g0(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}function v0(l){var a;const{chainId:o,domain:u,expirationTime:d,issuedAt:p=new Date,nonce:_,notBefore:w,requestId:y,resources:b,scheme:A,uri:R,version:D}=l;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(_&&_.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${_}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(D!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${D}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const P=w_(l.address),I=A?`${A}://${u}`:u,j=l.statement?`${l.statement}
`:"",it=`${I} wants you to sign in with your Ethereum account:
${P}

${j}`;let rt=`URI: ${R}
Version: ${D}
Chain ID: ${o}${_?`
Nonce: ${_}`:""}
Issued At: ${p.toISOString()}`;if(d&&(rt+=`
Expiration Time: ${d.toISOString()}`),w&&(rt+=`
Not Before: ${w.toISOString()}`),y&&(rt+=`
Request ID: ${y}`),b){let ht=`
Resources:`;for(const J of b){if(!J||typeof J!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${J}`);ht+=`
- ${J}`}rt+=ht}return`${it}
${rt}`}class qe extends Error{constructor({message:a,code:o,cause:u,name:d}){var p;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=(p=d??(u instanceof Error?u.name:void 0))!==null&&p!==void 0?p:"Unknown Error",this.code=o}}class ku extends qe{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function y0({error:l,options:a}){var o,u,d;const{publicKey:p}=a;if(!p)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((o=p.authenticatorSelection)===null||o===void 0?void 0:o.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((u=p.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((d=p.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new qe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return p.pubKeyCredParams.filter(w=>w.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const _=window.location.hostname;if(S_(_)){if(p.rp.id!==_)return new qe({message:`The RP ID "${p.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(p.user.id.byteLength<1||p.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function b0({error:l,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new qe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const u=window.location.hostname;if(S_(u)){if(o.rpId!==u)return new qe({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class w0{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const S0=new w0;function x0(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:o,excludeCredentials:u}=l,d=zu(l,["challenge","user","excludeCredentials"]),p=jr(a).buffer,_=Object.assign(Object.assign({},o),{id:jr(o.id).buffer}),w=Object.assign(Object.assign({},d),{challenge:p,user:_});if(u&&u.length>0){w.excludeCredentials=new Array(u.length);for(let y=0;y<u.length;y++){const b=u[y];w.excludeCredentials[y]=Object.assign(Object.assign({},b),{id:jr(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return w}function T0(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:o}=l,u=zu(l,["challenge","allowCredentials"]),d=jr(a).buffer,p=Object.assign(Object.assign({},u),{challenge:d});if(o&&o.length>0){p.allowCredentials=new Array(o.length);for(let _=0;_<o.length;_++){const w=o[_];p.allowCredentials[_]=Object.assign(Object.assign({},w),{id:jr(w.id).buffer,type:w.type||"public-key",transports:w.transports})}}return p}function E0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l;return{id:l.id,rawId:l.id,response:{attestationObject:Us(new Uint8Array(l.response.attestationObject)),clientDataJSON:Us(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function A0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l,u=l.getClientExtensionResults(),d=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Us(new Uint8Array(d.authenticatorData)),clientDataJSON:Us(new Uint8Array(d.clientDataJSON)),signature:Us(new Uint8Array(d.signature)),userHandle:d.userHandle?Us(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function S_(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Gp(){var l,a;return!!(an()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function O0(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ku("Browser returned unexpected credential type",a)}:{data:null,error:new ku("Empty credential response",a)}}catch(a){return{data:null,error:y0({error:a,options:l})}}}async function C0(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ku("Browser returned unexpected credential type",a)}:{data:null,error:new ku("Empty credential response",a)}}catch(a){return{data:null,error:b0({error:a,options:l})}}}const R0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lu(...l){const a=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),o=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),u={};for(const d of l)if(d)for(const p in d){const _=d[p];if(_!==void 0)if(Array.isArray(_))u[p]=_;else if(o(_))u[p]=_;else if(a(_)){const w=u[p];a(w)?u[p]=Lu(w,_):u[p]=Lu(_)}else u[p]=_}return u}function L0(l,a){return Lu(R0,l,a||{})}function z0(l,a){return Lu(k0,l,a||{})}class M0{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:o,friendlyName:u,signal:d},p){try{const{data:_,error:w}=await this.client.mfa.challenge({factorId:a,webauthn:o});if(!_)return{data:null,error:w};const y=d??S0.createNewAbortSignal();if(_.webauthn.type==="create"){const{user:b}=_.webauthn.credential_options.publicKey;b.name||(b.name=`${b.id}:${u}`),b.displayName||(b.displayName=b.name)}switch(_.webauthn.type){case"create":{const b=L0(_.webauthn.credential_options.publicKey,p?.create),{data:A,error:R}=await O0({publicKey:b,signal:y});return A?{data:{factorId:a,challengeId:_.id,webauthn:{type:_.webauthn.type,credential_response:A}},error:null}:{data:null,error:R}}case"request":{const b=z0(_.webauthn.credential_options.publicKey,p?.request),{data:A,error:R}=await C0(Object.assign(Object.assign({},_.webauthn.credential_options),{publicKey:b,signal:y}));return A?{data:{factorId:a,challengeId:_.id,webauthn:{type:_.webauthn.type,credential_response:A}},error:null}:{data:null,error:R}}}}catch(_){return St(_)?{data:null,error:_}:{data:null,error:new Ds("Unexpected error in challenge",_)}}}async _verify({challengeId:a,factorId:o,webauthn:u}){return this.client.mfa.verify({factorId:o,challengeId:a,webauthn:u})}async _authenticate({factorId:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},p){if(!o)return{data:null,error:new $o("rpId is required for WebAuthn authentication")};try{if(!Gp())return{data:null,error:new Ds("Browser does not support WebAuthn",null)};const{data:_,error:w}=await this.challenge({factorId:a,webauthn:{rpId:o,rpOrigins:u},signal:d},{request:p});if(!_)return{data:null,error:w};const{webauthn:y}=_;return this._verify({factorId:a,challengeId:_.challengeId,webauthn:{type:y.type,rpId:o,rpOrigins:u,credential_response:y.credential_response}})}catch(_){return St(_)?{data:null,error:_}:{data:null,error:new Ds("Unexpected error in authenticate",_)}}}async _register({friendlyName:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},p){if(!o)return{data:null,error:new $o("rpId is required for WebAuthn registration")};try{if(!Gp())return{data:null,error:new Ds("Browser does not support WebAuthn",null)};const{data:_,error:w}=await this._enroll({friendlyName:a});if(!_)return await this.client.mfa.listFactors().then(A=>{var R;return(R=A.data)===null||R===void 0?void 0:R.all.find(D=>D.factor_type==="webauthn"&&D.friendly_name===a&&D.status!=="unverified")}).then(A=>A?this.client.mfa.unenroll({factorId:A?.id}):void 0),{data:null,error:w};const{data:y,error:b}=await this._challenge({factorId:_.id,friendlyName:_.friendly_name,webauthn:{rpId:o,rpOrigins:u},signal:d},{create:p});return y?this._verify({factorId:_.id,challengeId:y.challengeId,webauthn:{rpId:o,rpOrigins:u,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:b}}catch(_){return St(_)?{data:null,error:_}:{data:null,error:new Ds("Unexpected error in register",_)}}}}p0();const N0={url:Ry,storageKey:ky,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ly,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Vp(l,a,o){return await o()}const kr={};class Xo{get jwks(){var a,o;return(o=(a=kr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(a){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,o;return(o=(a=kr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:a})}constructor(a){var o,u,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const p=Object.assign(Object.assign({},N0),a);if(this.storageKey=p.storageKey,this.instanceID=(o=Xo.nextInstanceID[this.storageKey])!==null&&o!==void 0?o:0,Xo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!p.debug,typeof p.debug=="function"&&(this.logger=p.debug),this.instanceID>0&&an()){const _=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(_),this.logDebugMessages&&console.trace(_)}if(this.persistSession=p.persistSession,this.autoRefreshToken=p.autoRefreshToken,this.admin=new f0({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=y_(p.fetch),this.lock=p.lock||Vp,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.hasCustomAuthorizationHeader=p.hasCustomAuthorizationHeader,this.throwOnError=p.throwOnError,this.lockAcquireTimeout=p.lockAcquireTimeout,p.lock?this.lock=p.lock:this.persistSession&&an()&&(!((u=globalThis?.navigator)===null||u===void 0)&&u.locks)?this.lock=m0:this.lock=Vp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new M0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(p.storage?this.storage=p.storage:v_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ip(this.memoryStorage)),p.userStorage&&(this.userStorage=p.userStorage)):(this.memoryStorage={},this.storage=Ip(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(_){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",_)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async _=>{this._debug("received broadcast notification from other tab or client",_),await this._notifyAllSubscribers(_.data.event,_.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${p_}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let o={},u="none";if(an()&&(o=Ky(window.location.href),this._isImplicitGrantCallback(o)?u="implicit":await this._isPKCECallback(o)&&(u="pkce")),an()&&this.detectSessionInUrl&&u!=="none"){const{data:d,error:p}=await this._getSessionFromURL(o,u);if(p){if(this._debug("#_initialize()","error detecting session from URL",p),Uy(p)){const y=(a=p.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:p}}return{error:p}}const{session:_,redirectType:w}=d;return this._debug("#_initialize()","detected session in URL",_,"redirect type",w),await this._saveSession(_),setTimeout(async()=>{w==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",_):await this._notifyAllSubscribers("SIGNED_IN",_)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return St(o)?this._returnResult({error:o}):this._returnResult({error:new Ds("Unexpected error during initialization",o)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var o,u,d;try{const p=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(o=a?.options)===null||o===void 0?void 0:o.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(d=a?.options)===null||d===void 0?void 0:d.captchaToken}},xform:hi}),{data:_,error:w}=p;if(w||!_)return this._returnResult({data:{user:null,session:null},error:w});const y=_.session,b=_.user;return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:b,session:y},error:null})}catch(p){if(St(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signUp(a){var o,u,d;try{let p;if("email"in a){const{email:A,password:R,options:D}=a;let P=null,I=null;this.flowType==="pkce"&&([P,I]=await Or(this.storage,this.storageKey)),p=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:D?.emailRedirectTo,body:{email:A,password:R,data:(o=D?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:D?.captchaToken},code_challenge:P,code_challenge_method:I},xform:hi})}else if("phone"in a){const{phone:A,password:R,options:D}=a;p=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:R,data:(u=D?.data)!==null&&u!==void 0?u:{},channel:(d=D?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:D?.captchaToken}},xform:hi})}else throw new Au("You must provide either an email or phone number and a password");const{data:_,error:w}=p;if(w||!_)return await nn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:w});const y=_.session,b=_.user;return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:b,session:y},error:null})}catch(p){if(await nn(this.storage,`${this.storageKey}-code-verifier`),St(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithPassword(a){try{let o;if("email"in a){const{email:p,password:_,options:w}=a;o=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:p,password:_,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:qp})}else if("phone"in a){const{phone:p,password:_,options:w}=a;o=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:p,password:_,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:qp})}else throw new Au("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const p=new Ar;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:d})}catch(o){if(St(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOAuth(a){var o,u,d,p;return await this._handleProviderSignIn(a.provider,{redirectTo:(o=a.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=a.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=a.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(p=a.options)===null||p===void 0?void 0:p.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:o}=a;switch(o){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(a){var o,u,d,p,_,w,y,b,A,R,D;let P,I;if("message"in a)P=a.message,I=a.signature;else{const{chain:j,wallet:it,statement:rt,options:ht}=a;let J;if(an())if(typeof it=="object")J=it;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")J=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof it!="object"||!ht?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=it}const gt=new URL((o=ht?.url)!==null&&o!==void 0?o:window.location.href),Mt=await J.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Mt||Mt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const mt=w_(Mt[0]);let ut=(u=ht?.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!ut){const M=await J.request({method:"eth_chainId"});ut=_0(M)}const z={domain:gt.host,address:mt,statement:rt,uri:gt.href,version:"1",chainId:ut,nonce:(d=ht?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(_=(p=ht?.signInWithEthereum)===null||p===void 0?void 0:p.issuedAt)!==null&&_!==void 0?_:new Date,expirationTime:(w=ht?.signInWithEthereum)===null||w===void 0?void 0:w.expirationTime,notBefore:(y=ht?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(b=ht?.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(A=ht?.signInWithEthereum)===null||A===void 0?void 0:A.resources};P=v0(z),I=await J.request({method:"personal_sign",params:[g0(P),mt]})}try{const{data:j,error:it}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:P,signature:I},!((R=a.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(D=a.options)===null||D===void 0?void 0:D.captchaToken}}:null),xform:hi});if(it)throw it;if(!j||!j.session||!j.user){const rt=new Ar;return this._returnResult({data:{user:null,session:null},error:rt})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:it})}catch(j){if(St(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(a){var o,u,d,p,_,w,y,b,A,R,D,P;let I,j;if("message"in a)I=a.message,j=a.signature;else{const{chain:it,wallet:rt,statement:ht,options:J}=a;let gt;if(an())if(typeof rt=="object")gt=rt;else{const mt=window;if("solana"in mt&&typeof mt.solana=="object"&&("signIn"in mt.solana&&typeof mt.solana.signIn=="function"||"signMessage"in mt.solana&&typeof mt.solana.signMessage=="function"))gt=mt.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof rt!="object"||!J?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");gt=rt}const Mt=new URL((o=J?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in gt&&gt.signIn){const mt=await gt.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},J?.signInWithSolana),{version:"1",domain:Mt.host,uri:Mt.href}),ht?{statement:ht}:null));let ut;if(Array.isArray(mt)&&mt[0]&&typeof mt[0]=="object")ut=mt[0];else if(mt&&typeof mt=="object"&&"signedMessage"in mt&&"signature"in mt)ut=mt;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ut&&"signature"in ut&&(typeof ut.signedMessage=="string"||ut.signedMessage instanceof Uint8Array)&&ut.signature instanceof Uint8Array)I=typeof ut.signedMessage=="string"?ut.signedMessage:new TextDecoder().decode(ut.signedMessage),j=ut.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in gt)||typeof gt.signMessage!="function"||!("publicKey"in gt)||typeof gt!="object"||!gt.publicKey||!("toBase58"in gt.publicKey)||typeof gt.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${Mt.host} wants you to sign in with your Solana account:`,gt.publicKey.toBase58(),...ht?["",ht,""]:[""],"Version: 1",`URI: ${Mt.href}`,`Issued At: ${(d=(u=J?.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((p=J?.signInWithSolana)===null||p===void 0)&&p.notBefore?[`Not Before: ${J.signInWithSolana.notBefore}`]:[],...!((_=J?.signInWithSolana)===null||_===void 0)&&_.expirationTime?[`Expiration Time: ${J.signInWithSolana.expirationTime}`]:[],...!((w=J?.signInWithSolana)===null||w===void 0)&&w.chainId?[`Chain ID: ${J.signInWithSolana.chainId}`]:[],...!((y=J?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${J.signInWithSolana.nonce}`]:[],...!((b=J?.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${J.signInWithSolana.requestId}`]:[],...!((R=(A=J?.signInWithSolana)===null||A===void 0?void 0:A.resources)===null||R===void 0)&&R.length?["Resources",...J.signInWithSolana.resources.map(ut=>`- ${ut}`)]:[]].join(`
`);const mt=await gt.signMessage(new TextEncoder().encode(I),"utf8");if(!mt||!(mt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=mt}}try{const{data:it,error:rt}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:Us(j)},!((D=a.options)===null||D===void 0)&&D.captchaToken?{gotrue_meta_security:{captcha_token:(P=a.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:hi});if(rt)throw rt;if(!it||!it.session||!it.user){const ht=new Ar;return this._returnResult({data:{user:null,session:null},error:ht})}return it.session&&(await this._saveSession(it.session),await this._notifyAllSubscribers("SIGNED_IN",it.session)),this._returnResult({data:Object.assign({},it),error:rt})}catch(it){if(St(it))return this._returnResult({data:{user:null,session:null},error:it});throw it}}async _exchangeCodeForSession(a){const o=await Ms(this.storage,`${this.storageKey}-code-verifier`),[u,d]=(o??"").split("/");try{if(!u&&this.flowType==="pkce")throw new By;const{data:p,error:_}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:u},xform:hi});if(await nn(this.storage,`${this.storageKey}-code-verifier`),_)throw _;if(!p||!p.session||!p.user){const w=new Ar;return this._returnResult({data:{user:null,session:null,redirectType:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign(Object.assign({},p),{redirectType:d??null}),error:_})}catch(p){if(await nn(this.storage,`${this.storageKey}-code-verifier`),St(p))return this._returnResult({data:{user:null,session:null,redirectType:null},error:p});throw p}}async signInWithIdToken(a){try{const{options:o,provider:u,token:d,access_token:p,nonce:_}=a,w=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:d,access_token:p,nonce:_,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:hi}),{data:y,error:b}=w;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!y||!y.session||!y.user){const A=new Ar;return this._returnResult({data:{user:null,session:null},error:A})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:b})}catch(o){if(St(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOtp(a){var o,u,d,p,_;try{if("email"in a){const{email:w,options:y}=a;let b=null,A=null;this.flowType==="pkce"&&([b,A]=await Or(this.storage,this.storageKey));const{error:R}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:w,data:(o=y?.data)!==null&&o!==void 0?o:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:A},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in a){const{phone:w,options:y}=a,{data:b,error:A}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:w,data:(d=y?.data)!==null&&d!==void 0?d:{},create_user:(p=y?.shouldCreateUser)!==null&&p!==void 0?p:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(_=y?.channel)!==null&&_!==void 0?_:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b?.message_id},error:A})}throw new Au("You must provide either an email or phone number.")}catch(w){if(await nn(this.storage,`${this.storageKey}-code-verifier`),St(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async verifyOtp(a){var o,u;try{let d,p;"options"in a&&(d=(o=a.options)===null||o===void 0?void 0:o.redirectTo,p=(u=a.options)===null||u===void 0?void 0:u.captchaToken);const{data:_,error:w}=await Rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:p}}),redirectTo:d,xform:hi});if(w)throw w;if(!_)throw new Error("An error occurred on token verification.");const y=_.session,b=_.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:b,session:y},error:null})}catch(d){if(St(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(a){var o,u,d,p,_;try{let w=null,y=null;this.flowType==="pkce"&&([w,y]=await Or(this.storage,this.storageKey));const b=await Rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(u=(o=a.options)===null||o===void 0?void 0:o.redirectTo)!==null&&u!==void 0?u:void 0}),!((d=a?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:w,code_challenge_method:y}),headers:this.headers,xform:u0});return!((p=b.data)===null||p===void 0)&&p.url&&an()&&!(!((_=a.options)===null||_===void 0)&&_.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(w){if(await nn(this.storage,`${this.storageKey}-code-verifier`),St(w))return this._returnResult({data:null,error:w});throw w}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)throw u;if(!o)throw new Bn;const{error:d}=await Rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(St(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const o=`${this.url}/resend`;if("email"in a){const{email:u,type:d,options:p}=a,{error:_}=await Rt(this.fetch,"POST",o,{headers:this.headers,body:{email:u,type:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}else if("phone"in a){const{phone:u,type:d,options:p}=a,{data:_,error:w}=await Rt(this.fetch,"POST",o,{headers:this.headers,body:{phone:u,type:d,gotrue_meta_security:{captcha_token:p?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:w})}throw new Au("You must provide either an email or phone number and a type")}catch(o){if(St(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async o=>o))}async _acquireLock(a,o){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await u,await o()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=o();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await a(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const o=await Ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?a=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const u=a.expires_at?a.expires_at*1e3-Date.now()<Hh:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",a.expires_at),!u){if(this.userStorage){const _=await Ms(this.userStorage,this.storageKey+"-user");_?.user?a.user=_.user:a.user=Ih()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const _={value:this.suppressGetSessionWarning};a.user=s0(a.user,_),_.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:d,error:p}=await this._callRefreshToken(a.refresh_token);return p?this._returnResult({data:{session:null},error:p}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const o=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return o.data.user&&(this.suppressGetSessionWarning=!0),o}async _getUser(a){try{return a?await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Ga}):await this._useSession(async o=>{var u,d,p;const{data:_,error:w}=o;if(w)throw w;return!(!((u=_.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(p=(d=_.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0,xform:Ga})})}catch(o){if(St(o))return Dy(o)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:o});throw o}}async updateUser(a,o={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,o))}async _updateUser(a,o={}){try{return await this._useSession(async u=>{const{data:d,error:p}=u;if(p)throw p;if(!d.session)throw new Bn;const _=d.session;let w=null,y=null;this.flowType==="pkce"&&a.email!=null&&([w,y]=await Or(this.storage,this.storageKey));const{data:b,error:A}=await Rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:w,code_challenge_method:y}),jwt:_.access_token,xform:Ga});if(A)throw A;return _.user=b.user,await this._saveSession(_),await this._notifyAllSubscribers("USER_UPDATED",_),this._returnResult({data:{user:_.user},error:null})})}catch(u){if(await nn(this.storage,`${this.storageKey}-code-verifier`),St(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Bn;const o=Date.now()/1e3;let u=o,d=!0,p=null;const{payload:_}=Zh(a.access_token);if(_.exp&&(u=_.exp,d=u<=o),d){const{data:w,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!w)return{data:{user:null,session:null},error:null};p=w}else{const{data:w,error:y}=await this._getUser(a.access_token);if(y)throw y;p={access_token:a.access_token,refresh_token:a.refresh_token,user:w.user,token_type:"bearer",expires_in:u-o,expires_at:u},await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)}return this._returnResult({data:{user:p.user,session:p},error:null})}catch(o){if(St(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async o=>{var u;if(!a){const{data:_,error:w}=o;if(w)throw w;a=(u=_.session)!==null&&u!==void 0?u:void 0}if(!a?.refresh_token)throw new Bn;const{data:d,error:p}=await this._callRefreshToken(a.refresh_token);return p?this._returnResult({data:{user:null,session:null},error:p}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(o){if(St(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async _getSessionFromURL(a,o){try{if(!an())throw new Ou("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ou(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new Np("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ou("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Np("No code detected.");const{data:ht,error:J}=await this._exchangeCodeForSession(a.code);if(J)throw J;const gt=new URL(window.location.href);return gt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",gt.toString()),{data:{session:ht.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:d,access_token:p,refresh_token:_,expires_in:w,expires_at:y,token_type:b}=a;if(!p||!w||!_||!b)throw new Ou("No session defined in URL");const A=Math.round(Date.now()/1e3),R=parseInt(w);let D=A+R;y&&(D=parseInt(y));const P=D-A;P*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${R}s`);const I=D-R;A-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,D,A):A-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,D,A);const{data:j,error:it}=await this._getUser(p);if(it)throw it;const rt={provider_token:u,provider_refresh_token:d,access_token:p,expires_in:R,expires_at:D,refresh_token:_,token_type:b,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:rt,redirectType:a.type},error:null})}catch(u){if(St(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const o=await Ms(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&o)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({error:p});const _=(u=d.session)===null||u===void 0?void 0:u.access_token;if(_){const{error:w}=await this.admin.signOut(_,a);if(w&&!(jy(w)&&(w.status===404||w.status===401||w.status===403)))return this._returnResult({error:w})}return a!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const o=Vy(),u={id:o,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:u}}}async _emitInitialSession(a){return await this._useSession(async o=>{var u,d;try{const{data:{session:p},error:_}=o;if(_)throw _;await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",p)),this._debug("INITIAL_SESSION","callback id",a,"session",p)}catch(p){await((d=this.stateChangeEmitters.get(a))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",p),console.error(p)}})}async resetPasswordForEmail(a,o={}){let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Or(this.storage,this.storageKey,!0));try{return await Rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:u,code_challenge_method:d,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(p){if(await nn(this.storage,`${this.storageKey}-code-verifier`),St(p))return this._returnResult({data:null,error:p});throw p}}async getUserIdentities(){var a;try{const{data:o,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(a=o.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var o;try{const{data:u,error:d}=await this._useSession(async p=>{var _,w,y,b,A;const{data:R,error:D}=p;if(D)throw D;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(_=a.options)===null||_===void 0?void 0:_.redirectTo,scopes:(w=a.options)===null||w===void 0?void 0:w.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Rt(this.fetch,"GET",P,{headers:this.headers,jwt:(A=(b=R.session)===null||b===void 0?void 0:b.access_token)!==null&&A!==void 0?A:void 0})});if(d)throw d;return an()&&!(!((o=a.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u?.url),this._returnResult({data:{provider:a.provider,url:u?.url},error:null})}catch(u){if(St(u))return this._returnResult({data:{provider:a.provider,url:null},error:u});throw u}}async linkIdentityIdToken(a){return await this._useSession(async o=>{var u;try{const{error:d,data:{session:p}}=o;if(d)throw d;const{options:_,provider:w,token:y,access_token:b,nonce:A}=a,R=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=p?.access_token)!==null&&u!==void 0?u:void 0,body:{provider:w,id_token:y,access_token:b,nonce:A,link_identity:!0,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:hi}),{data:D,error:P}=R;return P?this._returnResult({data:{user:null,session:null},error:P}):!D||!D.session||!D.user?this._returnResult({data:{user:null,session:null},error:new Ar}):(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("USER_UPDATED",D.session)),this._returnResult({data:D,error:P}))}catch(d){if(await nn(this.storage,`${this.storageKey}-code-verifier`),St(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(a){try{return await this._useSession(async o=>{var u,d;const{data:p,error:_}=o;if(_)throw _;return await Rt(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})})}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}}async _refreshAccessToken(a){const o=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{const u=Date.now();return await Xy(async d=>(d>0&&await $y(200*Math.pow(2,d-1)),this._debug(o,"refreshing attempt",d),await Rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:hi})),(d,p)=>{const _=200*Math.pow(2,d);return p&&qh(p)&&Date.now()+_-u<zr})}catch(u){if(this._debug(o,"error",u),St(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(o,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,o){const u=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",o,"url",u),an()&&!o.skipBrowserRedirect&&window.location.assign(u),{data:{provider:a,url:u},error:null}}async _recoverAndRefresh(){var a,o;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const d=await Ms(this.storage,this.storageKey);if(d&&this.userStorage){let _=await Ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!_&&(_={user:d.user},await Mr(this.userStorage,this.storageKey+"-user",_)),d.user=(a=_?.user)!==null&&a!==void 0?a:Ih()}else if(d&&!d.user&&!d.user){const _=await Ms(this.storage,this.storageKey+"-user");_&&_?.user?(d.user=_.user,await nn(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,d)):d.user=Ih()}if(this._debug(u,"session from storage",d),!this._isValidSession(d)){this._debug(u,"session is not valid"),d!==null&&await this._removeSession();return}const p=((o=d.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Hh;if(this._debug(u,`session has${p?"":" not"} expired with margin of ${Hh}s`),p){if(this.autoRefreshToken&&d.refresh_token){const{error:_}=await this._callRefreshToken(d.refresh_token);_&&(console.error(_),qh(_)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",_),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:_,error:w}=await this._getUser(d.access_token);!w&&_?.user?(d.user=_.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(_){console.error("Error getting user data:",_),this._debug(u,"error getting user data, skipping SIGNED_IN notification",_)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(u,"error",d),console.error(d);return}finally{this._debug(u,"end")}}async _callRefreshToken(a){var o,u;if(!a)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Nu;const{data:p,error:_}=await this._refreshAccessToken(a);if(_)throw _;if(!p.session)throw new Bn;await this._saveSession(p.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",p.session);const w={data:p.session,error:null};return this.refreshingDeferred.resolve(w),w}catch(p){if(this._debug(d,"error",p),St(p)){const _={data:null,error:p};return qh(p)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(_),_}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(p),p}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,o,u=!0){const d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",o,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:a,session:o});const p=[],_=Array.from(this.stateChangeEmitters.values()).map(async w=>{try{await w.callback(a,o)}catch(y){p.push(y)}});if(await Promise.all(_),p.length>0){for(let w=0;w<p.length;w+=1)console.error(p[w]);throw p[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await nn(this.storage,`${this.storageKey}-code-verifier`);const o=Object.assign({},a),u=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&o.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:o.user});const d=Object.assign({},o);delete d.user;const p=Pp(d);await Mr(this.storage,this.storageKey,p)}else{const d=Pp(o);await Mr(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&an()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const o=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=o,o&&typeof o=="object"&&typeof o.unref=="function"?o.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(o)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const o=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,o&&clearTimeout(o)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async o=>{const{data:{session:u}}=o;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((u.expires_at*1e3-a)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${zr}ms, refresh threshold is ${tf} ticks`),d<=tf&&await this._callRefreshToken(u.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof b_)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const o=`#_onVisibilityChanged(${a})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,o,u){const d=[`provider=${encodeURIComponent(o)}`];if(u?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&d.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[p,_]=await Or(this.storage,this.storageKey),w=new URLSearchParams({code_challenge:`${encodeURIComponent(p)}`,code_challenge_method:`${encodeURIComponent(_)}`});d.push(w.toString())}if(u?.queryParams){const p=new URLSearchParams(u.queryParams);d.push(p.toString())}return u?.skipBrowserRedirect&&d.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;return p?this._returnResult({data:null,error:p}):await Rt(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token})})}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}}async _enroll(a){try{return await this._useSession(async o=>{var u,d;const{data:p,error:_}=o;if(_)return this._returnResult({data:null,error:_});const w=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:b}=await Rt(this.fetch,"POST",`${this.url}/factors`,{body:w,headers:this.headers,jwt:(u=p?.session)===null||u===void 0?void 0:u.access_token});return b?this._returnResult({data:null,error:b}):(a.factorType==="totp"&&y.type==="totp"&&(!((d=y?.totp)===null||d===void 0)&&d.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({data:null,error:p});const _=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?E0(a.webauthn.credential_response):A0(a.webauthn.credential_response)})}:{code:a.code}),{data:w,error:y}=await Rt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:_,headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+w.expires_in},w)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",w),this._returnResult({data:w,error:y}))})}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({data:null,error:p});const _=await Rt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token});if(_.error)return _;const{data:w}=_;if(w.type!=="webauthn")return{data:w,error:null};switch(w.webauthn.type){case"create":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:x0(w.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:T0(w.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}})}async _challengeAndVerify(a){const{data:o,error:u}=await this._challenge({factorId:a.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:a.factorId,challengeId:o.id,code:a.code})}async _listFactors(){var a;const{data:{user:o},error:u}=await this.getUser();if(u)return{data:null,error:u};const d={all:[],phone:[],totp:[],webauthn:[]};for(const p of(a=o?.factors)!==null&&a!==void 0?a:[])d.all.push(p),p.status==="verified"&&d[p.factor_type].push(p);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var a,o;const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Zh(u.access_token);let _=null;p.aal&&(_=p.aal);let w=_;((o=(a=u.user.factors)===null||a===void 0?void 0:a.filter(A=>A.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(w="aal2");const b=p.amr||[];return{data:{currentLevel:_,nextLevel:w,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;return d?this._returnResult({data:null,error:d}):u?await Rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:u.access_token,xform:p=>({data:p,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}}async _approveAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:d},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!d)return this._returnResult({data:null,error:new Bn});const _=await Rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:w=>({data:w,error:null})});return _.data&&_.data.redirect_url&&an()&&!o?.skipBrowserRedirect&&window.location.assign(_.data.redirect_url),_})}catch(u){if(St(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:d},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!d)return this._returnResult({data:null,error:new Bn});const _=await Rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:w=>({data:w,error:null})});return _.data&&_.data.redirect_url&&an()&&!o?.skipBrowserRedirect&&window.location.assign(_.data.redirect_url),_})}catch(u){if(St(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;return u?this._returnResult({data:null,error:u}):o?await Rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(a){if(St(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;return d?this._returnResult({data:null,error:d}):u?(await Rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bn})})}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(a,o={keys:[]}){let u=o.keys.find(w=>w.kid===a);if(u)return u;const d=Date.now();if(u=this.jwks.keys.find(w=>w.kid===a),u&&this.jwks_cached_at+My>d)return u;const{data:p,error:_}=await Rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(_)throw _;return!p.keys||p.keys.length===0||(this.jwks=p,this.jwks_cached_at=d,u=p.keys.find(w=>w.kid===a),!u)?null:u}async getClaims(a,o={}){try{let u=a;if(!u){const{data:P,error:I}=await this.getSession();if(I||!P.session)return this._returnResult({data:null,error:I});u=P.session.access_token}const{header:d,payload:p,signature:_,raw:{header:w,payload:y}}=Zh(u);o?.allowExpired||n0(p.exp);const b=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!b){const{error:P}=await this.getUser(u);if(P)throw P;return{data:{claims:p,header:d,signature:_},error:null}}const A=i0(d.alg),R=await crypto.subtle.importKey("jwk",b,A,!0,["verify"]);if(!await crypto.subtle.verify(A,R,_,Iy(`${w}.${y}`)))throw new af("Invalid JWT signature");return{data:{claims:p,header:d,signature:_},error:null}}catch(u){if(St(u))return this._returnResult({data:null,error:u});throw u}}}Xo.nextInstanceID={};const j0=Xo,D0="2.90.1";let Zo="";typeof Deno<"u"?Zo="deno":typeof document<"u"?Zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zo="react-native":Zo="node";const U0={"X-Client-Info":`supabase-js-${Zo}/${D0}`},B0={headers:U0},P0={schema:"public"},H0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q0={};function Jo(l){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Jo(l)}function Z0(l,a){if(Jo(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Jo(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function I0(l){var a=Z0(l,"string");return Jo(a)=="symbol"?a:a+""}function G0(l,a,o){return(a=I0(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function Kp(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,u)}return o}function ke(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Kp(Object(o),!0).forEach(function(u){G0(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):Kp(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const V0=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),K0=()=>Headers,Y0=(l,a,o)=>{const u=V0(o),d=K0();return async(p,_)=>{var w;const y=(w=await a())!==null&&w!==void 0?w:l;let b=new d(_?.headers);return b.has("apikey")||b.set("apikey",l),b.has("Authorization")||b.set("Authorization",`Bearer ${y}`),u(p,ke(ke({},_),{},{headers:b}))}};function $0(l){return l.endsWith("/")?l:l+"/"}function X0(l,a){var o,u;const{db:d,auth:p,realtime:_,global:w}=l,{db:y,auth:b,realtime:A,global:R}=a,D={db:ke(ke({},y),d),auth:ke(ke({},b),p),realtime:ke(ke({},A),_),storage:{},global:ke(ke(ke({},R),w),{},{headers:ke(ke({},(o=R?.headers)!==null&&o!==void 0?o:{}),(u=w?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return l.accessToken?D.accessToken=l.accessToken:delete D.accessToken,D}function J0(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($0(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Q0=class extends j0{constructor(l){super(l)}},F0=class{constructor(l,a,o){var u,d;this.supabaseUrl=l,this.supabaseKey=a;const p=J0(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const _=`sb-${p.hostname.split(".")[0]}-auth-token`,w={db:P0,realtime:q0,auth:ke(ke({},H0),{},{storageKey:_}),global:B0},y=X0(o??{},w);if(this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(A,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=y.auth)!==null&&b!==void 0?b:{},this.headers,y.global.fetch)}this.fetch=Y0(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(A=>this.realtime.setAuth(A)).catch(A=>console.warn("Failed to set initial Realtime auth token:",A)),this.rest=new Lv(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Cy(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Av(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,o)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,o;if(l.accessToken)return await l.accessToken();const{data:u}=await l.auth.getSession();return(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:d,storageKey:p,flowType:_,lock:w,debug:y,throwOnError:b},A,R){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q0({url:this.authUrl.href,headers:ke(ke({},D),A),storageKey:p,autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:d,flowType:_,lock:w,debug:y,throwOnError:b,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new $v(this.realtimeUrl.href,ke(ke({},l),{},{params:ke(ke({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a?.access_token)})}_handleTokenChanged(l,a,o){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const W0=(l,a,o)=>new F0(l,a,o);function tb(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const a=l.version;if(a==null)return!1;const o=a.match(/^v(\d+)\./);return o?parseInt(o[1],10)<=18:!1}tb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eb="https://vkhomoxzjdmdwzswsiin.supabase.co",nb="sb_publishable_oI77V7iOjy607qi0EOInGQ_MaCTd1fH",Fn=W0(eb,nb);var Cu={exports:{}};var ib=Cu.exports,Yp;function ab(){return Yp||(Yp=1,(function(l,a){((o,u)=>{l.exports=u()})(ib,function o(){var u=typeof self<"u"?self:typeof window<"u"?window:u!==void 0?u:{},d,p=!u.document&&!!u.postMessage,_=u.IS_PAPA_WORKER||!1,w={},y=0,b={};function A(z){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(M){var $=Mt(M);$.chunkSize=parseInt($.chunkSize),M.step||M.chunk||($.chunkSize=null),this._handle=new j($),(this._handle.streamer=this)._config=$}).call(this,z),this.parseChunk=function(M,$){var st=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<st){let Ot=this._config.newline;Ot||(ot=this._config.quoteChar||'"',Ot=this._handle.guessLineEndings(M,ot)),M=[...M.split(Ot).slice(st)].join(Ot)}this.isFirstChunk&&ut(this._config.beforeFirstChunk)&&(ot=this._config.beforeFirstChunk(M))!==void 0&&(M=ot),this.isFirstChunk=!1,this._halted=!1;var st=this._partialLine+M,ot=(this._partialLine="",this._handle.parse(st,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(M=ot.meta.cursor,st=(this._finished||(this._partialLine=st.substring(M-this._baseIndex),this._baseIndex=M),ot&&ot.data&&(this._rowCount+=ot.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),_)u.postMessage({results:ot,workerId:b.WORKER_ID,finished:st});else if(ut(this._config.chunk)&&!$){if(this._config.chunk(ot,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=ot=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ot.data),this._completeResults.errors=this._completeResults.errors.concat(ot.errors),this._completeResults.meta=ot.meta),this._completed||!st||!ut(this._config.complete)||ot&&ot.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),st||ot&&ot.meta.paused||this._nextChunk(),ot}this._halted=!0},this._sendError=function(M){ut(this._config.error)?this._config.error(M):_&&this._config.error&&u.postMessage({workerId:b.WORKER_ID,error:M,finished:!1})}}function R(z){var M;(z=z||{}).chunkSize||(z.chunkSize=b.RemoteChunkSize),A.call(this,z),this._nextChunk=p?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function($){this._input=$,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),p||(M.onload=mt(this._chunkLoaded,this),M.onerror=mt(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!p),this._config.downloadRequestHeaders){var $,st=this._config.downloadRequestHeaders;for($ in st)M.setRequestHeader($,st[$])}var ot;this._config.chunkSize&&(ot=this._start+this._config.chunkSize-1,M.setRequestHeader("Range","bytes="+this._start+"-"+ot));try{M.send(this._config.downloadRequestBody)}catch(Ot){this._chunkError(Ot.message)}p&&M.status===0&&this._chunkError()}},this._chunkLoaded=function(){M.readyState===4&&(M.status<200||400<=M.status?this._chunkError():(this._start+=this._config.chunkSize||M.responseText.length,this._finished=!this._config.chunkSize||this._start>=($=>($=$.getResponseHeader("Content-Range"))!==null?parseInt($.substring($.lastIndexOf("/")+1)):-1)(M),this.parseChunk(M.responseText)))},this._chunkError=function($){$=M.statusText||$,this._sendError(new Error($))}}function D(z){(z=z||{}).chunkSize||(z.chunkSize=b.LocalChunkSize),A.call(this,z);var M,$,st=typeof FileReader<"u";this.stream=function(ot){this._input=ot,$=ot.slice||ot.webkitSlice||ot.mozSlice,st?((M=new FileReader).onload=mt(this._chunkLoaded,this),M.onerror=mt(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ot=this._input,Ot=(this._config.chunkSize&&(Ot=Math.min(this._start+this._config.chunkSize,this._input.size),ot=$.call(ot,this._start,Ot)),M.readAsText(ot,this._config.encoding));st||this._chunkLoaded({target:{result:Ot}})},this._chunkLoaded=function(ot){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ot.target.result)},this._chunkError=function(){this._sendError(M.error)}}function P(z){var M;A.call(this,z=z||{}),this.stream=function($){return M=$,this._nextChunk()},this._nextChunk=function(){var $,st;if(!this._finished)return $=this._config.chunkSize,M=$?(st=M.substring(0,$),M.substring($)):(st=M,""),this._finished=!M,this.parseChunk(st)}}function I(z){A.call(this,z=z||{});var M=[],$=!0,st=!1;this.pause=function(){A.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){A.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ot){this._input=ot,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){st&&M.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):$=!0},this._streamData=mt(function(ot){try{M.push(typeof ot=="string"?ot:ot.toString(this._config.encoding)),$&&($=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(Ot){this._streamError(Ot)}},this),this._streamError=mt(function(ot){this._streamCleanUp(),this._sendError(ot)},this),this._streamEnd=mt(function(){this._streamCleanUp(),st=!0,this._streamData("")},this),this._streamCleanUp=mt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function j(z){var M,$,st,ot,Ot=Math.pow(2,53),Nt=-Ot,ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Q=this,W=0,dt=0,ct=!1,T=!1,C=[],H={data:[],errors:[],meta:{}};function nt(pt){return z.skipEmptyLines==="greedy"?pt.join("").trim()==="":pt.length===1&&pt[0].length===0}function at(){if(H&&st&&(xt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+b.DefaultDelimiter+"'"),st=!1),z.skipEmptyLines&&(H.data=H.data.filter(function(Zt){return!nt(Zt)})),lt()){let Zt=function(ue,At){ut(z.transformHeader)&&(ue=z.transformHeader(ue,At)),C.push(ue)};var Lt=Zt;if(H)if(Array.isArray(H.data[0])){for(var pt=0;lt()&&pt<H.data.length;pt++)H.data[pt].forEach(Zt);H.data.splice(0,1)}else H.data.forEach(Zt)}function bt(Zt,ue){for(var At=z.header?{}:[],It=0;It<Zt.length;It++){var jt=It,Ee=Zt[It],Ee=((qt,se)=>(_e=>(z.dynamicTypingFunction&&z.dynamicTyping[_e]===void 0&&(z.dynamicTyping[_e]=z.dynamicTypingFunction(_e)),(z.dynamicTyping[_e]||z.dynamicTyping)===!0))(qt)?se==="true"||se==="TRUE"||se!=="false"&&se!=="FALSE"&&((_e=>{if(ae.test(_e)&&(_e=parseFloat(_e),Nt<_e&&_e<Ot))return 1})(se)?parseFloat(se):K.test(se)?new Date(se):se===""?null:se):se)(jt=z.header?It>=C.length?"__parsed_extra":C[It]:jt,Ee=z.transform?z.transform(Ee,jt):Ee);jt==="__parsed_extra"?(At[jt]=At[jt]||[],At[jt].push(Ee)):At[jt]=Ee}return z.header&&(It>C.length?xt("FieldMismatch","TooManyFields","Too many fields: expected "+C.length+" fields but parsed "+It,dt+ue):It<C.length&&xt("FieldMismatch","TooFewFields","Too few fields: expected "+C.length+" fields but parsed "+It,dt+ue)),At}var Qt;H&&(z.header||z.dynamicTyping||z.transform)&&(Qt=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(bt),Qt=H.data.length):H.data=bt(H.data,0),z.header&&H.meta&&(H.meta.fields=C),dt+=Qt)}function lt(){return z.header&&C.length===0}function xt(pt,bt,Qt,Lt){pt={type:pt,code:bt,message:Qt},Lt!==void 0&&(pt.row=Lt),H.errors.push(pt)}ut(z.step)&&(ot=z.step,z.step=function(pt){H=pt,lt()?at():(at(),H.data.length!==0&&(W+=pt.data.length,z.preview&&W>z.preview?$.abort():(H.data=H.data[0],ot(H,Q))))}),this.parse=function(pt,bt,Qt){var Lt=z.quoteChar||'"',Lt=(z.newline||(z.newline=this.guessLineEndings(pt,Lt)),st=!1,z.delimiter?ut(z.delimiter)&&(z.delimiter=z.delimiter(pt),H.meta.delimiter=z.delimiter):((Lt=((Zt,ue,At,It,jt)=>{var Ee,qt,se,_e;jt=jt||[",","	","|",";",b.RECORD_SEP,b.UNIT_SEP];for(var dn=0;dn<jt.length;dn++){for(var ln,mi=jt[dn],Ft=0,mn=0,ve=0,Me=(se=void 0,new rt({comments:It,delimiter:mi,newline:ue,preview:10}).parse(Zt)),Qe=0;Qe<Me.data.length;Qe++)At&&nt(Me.data[Qe])?ve++:(ln=Me.data[Qe].length,mn+=ln,se===void 0?se=ln:0<ln&&(Ft+=Math.abs(ln-se),se=ln));0<Me.data.length&&(mn/=Me.data.length-ve),(qt===void 0||Ft<=qt)&&(_e===void 0||_e<mn)&&1.99<mn&&(qt=Ft,Ee=mi,_e=mn)}return{successful:!!(z.delimiter=Ee),bestDelimiter:Ee}})(pt,z.newline,z.skipEmptyLines,z.comments,z.delimitersToGuess)).successful?z.delimiter=Lt.bestDelimiter:(st=!0,z.delimiter=b.DefaultDelimiter),H.meta.delimiter=z.delimiter),Mt(z));return z.preview&&z.header&&Lt.preview++,M=pt,$=new rt(Lt),H=$.parse(M,bt,Qt),at(),ct?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return ct},this.pause=function(){ct=!0,$.abort(),M=ut(z.chunk)?"":M.substring($.getCharIndex())},this.resume=function(){Q.streamer._halted?(ct=!1,Q.streamer.parseChunk(M,!0)):setTimeout(Q.resume,3)},this.aborted=function(){return T},this.abort=function(){T=!0,$.abort(),H.meta.aborted=!0,ut(z.complete)&&z.complete(H),M=""},this.guessLineEndings=function(Zt,Lt){Zt=Zt.substring(0,1048576);var Lt=new RegExp(it(Lt)+"([^]*?)"+it(Lt),"gm"),Qt=(Zt=Zt.replace(Lt,"")).split("\r"),Lt=Zt.split(`
`),Zt=1<Lt.length&&Lt[0].length<Qt[0].length;if(Qt.length===1||Zt)return`
`;for(var ue=0,At=0;At<Qt.length;At++)Qt[At][0]===`
`&&ue++;return ue>=Qt.length/2?`\r
`:"\r"}}function it(z){return z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rt(z){var M=(z=z||{}).delimiter,$=z.newline,st=z.comments,ot=z.step,Ot=z.preview,Nt=z.fastMode,ae=null,K=!1,Q=z.quoteChar==null?'"':z.quoteChar,W=Q;if(z.escapeChar!==void 0&&(W=z.escapeChar),(typeof M!="string"||-1<b.BAD_DELIMITERS.indexOf(M))&&(M=","),st===M)throw new Error("Comment character same as delimiter");st===!0?st="#":(typeof st!="string"||-1<b.BAD_DELIMITERS.indexOf(st))&&(st=!1),$!==`
`&&$!=="\r"&&$!==`\r
`&&($=`
`);var dt=0,ct=!1;this.parse=function(T,C,H){if(typeof T!="string")throw new Error("Input must be a string");var nt=T.length,at=M.length,lt=$.length,xt=st.length,pt=ut(ot),bt=[],Qt=[],Lt=[],Zt=dt=0;if(!T)return Ft();if(Nt||Nt!==!1&&T.indexOf(Q)===-1){for(var ue=T.split($),At=0;At<ue.length;At++){if(Lt=ue[At],dt+=Lt.length,At!==ue.length-1)dt+=$.length;else if(H)return Ft();if(!st||Lt.substring(0,xt)!==st){if(pt){if(bt=[],_e(Lt.split(M)),mn(),ct)return Ft()}else _e(Lt.split(M));if(Ot&&Ot<=At)return bt=bt.slice(0,Ot),Ft(!0)}}return Ft()}for(var It=T.indexOf(M,dt),jt=T.indexOf($,dt),Ee=new RegExp(it(W)+it(Q),"g"),qt=T.indexOf(Q,dt);;)if(T[dt]===Q)for(qt=dt,dt++;;){if((qt=T.indexOf(Q,qt+1))===-1)return H||Qt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:bt.length,index:dt}),ln();if(qt===nt-1)return ln(T.substring(dt,qt).replace(Ee,Q));if(Q===W&&T[qt+1]===W)qt++;else if(Q===W||qt===0||T[qt-1]!==W){It!==-1&&It<qt+1&&(It=T.indexOf(M,qt+1));var se=dn((jt=jt!==-1&&jt<qt+1?T.indexOf($,qt+1):jt)===-1?It:Math.min(It,jt));if(T.substr(qt+1+se,at)===M){Lt.push(T.substring(dt,qt).replace(Ee,Q)),T[dt=qt+1+se+at]!==Q&&(qt=T.indexOf(Q,dt)),It=T.indexOf(M,dt),jt=T.indexOf($,dt);break}if(se=dn(jt),T.substring(qt+1+se,qt+1+se+lt)===$){if(Lt.push(T.substring(dt,qt).replace(Ee,Q)),mi(qt+1+se+lt),It=T.indexOf(M,dt),qt=T.indexOf(Q,dt),pt&&(mn(),ct))return Ft();if(Ot&&bt.length>=Ot)return Ft(!0);break}Qt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:bt.length,index:dt}),qt++}}else if(st&&Lt.length===0&&T.substring(dt,dt+xt)===st){if(jt===-1)return Ft();dt=jt+lt,jt=T.indexOf($,dt),It=T.indexOf(M,dt)}else if(It!==-1&&(It<jt||jt===-1))Lt.push(T.substring(dt,It)),dt=It+at,It=T.indexOf(M,dt);else{if(jt===-1)break;if(Lt.push(T.substring(dt,jt)),mi(jt+lt),pt&&(mn(),ct))return Ft();if(Ot&&bt.length>=Ot)return Ft(!0)}return ln();function _e(ve){bt.push(ve),Zt=dt}function dn(ve){var Me=0;return Me=ve!==-1&&(ve=T.substring(qt+1,ve))&&ve.trim()===""?ve.length:Me}function ln(ve){return H||(ve===void 0&&(ve=T.substring(dt)),Lt.push(ve),dt=nt,_e(Lt),pt&&mn()),Ft()}function mi(ve){dt=ve,_e(Lt),Lt=[],jt=T.indexOf($,dt)}function Ft(ve){if(z.header&&!C&&bt.length&&!K){var Me=bt[0],Qe=Object.create(null),Va=new Set(Me);let sa=!1;for(let Wn=0;Wn<Me.length;Wn++){let pn=Me[Wn];if(Qe[pn=ut(z.transformHeader)?z.transformHeader(pn,Wn):pn]){let _n,Ne=Qe[pn];for(;_n=pn+"_"+Ne,Ne++,Va.has(_n););Va.add(_n),Me[Wn]=_n,Qe[pn]++,sa=!0,(ae=ae===null?{}:ae)[_n]=pn}else Qe[pn]=1,Me[Wn]=pn;Va.add(pn)}sa&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:bt,errors:Qt,meta:{delimiter:M,linebreak:$,aborted:ct,truncated:!!ve,cursor:Zt+(C||0),renamedHeaders:ae}}}function mn(){ot(Ft()),bt=[],Qt=[]}},this.abort=function(){ct=!0},this.getCharIndex=function(){return dt}}function ht(z){var M=z.data,$=w[M.workerId],st=!1;if(M.error)$.userError(M.error,M.file);else if(M.results&&M.results.data){var ot={abort:function(){st=!0,J(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:gt,resume:gt};if(ut($.userStep)){for(var Ot=0;Ot<M.results.data.length&&($.userStep({data:M.results.data[Ot],errors:M.results.errors,meta:M.results.meta},ot),!st);Ot++);delete M.results}else ut($.userChunk)&&($.userChunk(M.results,ot,M.file),delete M.results)}M.finished&&!st&&J(M.workerId,M.results)}function J(z,M){var $=w[z];ut($.userComplete)&&$.userComplete(M),$.terminate(),delete w[z]}function gt(){throw new Error("Not implemented.")}function Mt(z){if(typeof z!="object"||z===null)return z;var M,$=Array.isArray(z)?[]:{};for(M in z)$[M]=Mt(z[M]);return $}function mt(z,M){return function(){z.apply(M,arguments)}}function ut(z){return typeof z=="function"}return b.parse=function(z,M){var $=(M=M||{}).dynamicTyping||!1;if(ut($)&&(M.dynamicTypingFunction=$,$={}),M.dynamicTyping=$,M.transform=!!ut(M.transform)&&M.transform,!M.worker||!b.WORKERS_SUPPORTED)return $=null,b.NODE_STREAM_INPUT,typeof z=="string"?(z=(st=>st.charCodeAt(0)!==65279?st:st.slice(1))(z),$=new(M.download?R:P)(M)):z.readable===!0&&ut(z.read)&&ut(z.on)?$=new I(M):(u.File&&z instanceof File||z instanceof Object)&&($=new D(M)),$.stream(z);($=(()=>{var st;return!!b.WORKERS_SUPPORTED&&(st=(()=>{var ot=u.URL||u.webkitURL||null,Ot=o.toString();return b.BLOB_URL||(b.BLOB_URL=ot.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ot,")();"],{type:"text/javascript"})))})(),(st=new u.Worker(st)).onmessage=ht,st.id=y++,w[st.id]=st)})()).userStep=M.step,$.userChunk=M.chunk,$.userComplete=M.complete,$.userError=M.error,M.step=ut(M.step),M.chunk=ut(M.chunk),M.complete=ut(M.complete),M.error=ut(M.error),delete M.worker,$.postMessage({input:z,config:M,workerId:$.id})},b.unparse=function(z,M){var $=!1,st=!0,ot=",",Ot=`\r
`,Nt='"',ae=Nt+Nt,K=!1,Q=null,W=!1,dt=((()=>{if(typeof M=="object"){if(typeof M.delimiter!="string"||b.BAD_DELIMITERS.filter(function(C){return M.delimiter.indexOf(C)!==-1}).length||(ot=M.delimiter),typeof M.quotes!="boolean"&&typeof M.quotes!="function"&&!Array.isArray(M.quotes)||($=M.quotes),typeof M.skipEmptyLines!="boolean"&&typeof M.skipEmptyLines!="string"||(K=M.skipEmptyLines),typeof M.newline=="string"&&(Ot=M.newline),typeof M.quoteChar=="string"&&(Nt=M.quoteChar),typeof M.header=="boolean"&&(st=M.header),Array.isArray(M.columns)){if(M.columns.length===0)throw new Error("Option columns is empty");Q=M.columns}M.escapeChar!==void 0&&(ae=M.escapeChar+Nt),M.escapeFormulae instanceof RegExp?W=M.escapeFormulae:typeof M.escapeFormulae=="boolean"&&M.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(it(Nt),"g"));if(typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(z)){if(!z.length||Array.isArray(z[0]))return ct(null,z,K);if(typeof z[0]=="object")return ct(Q||Object.keys(z[0]),z,K)}else if(typeof z=="object")return typeof z.data=="string"&&(z.data=JSON.parse(z.data)),Array.isArray(z.data)&&(z.fields||(z.fields=z.meta&&z.meta.fields||Q),z.fields||(z.fields=Array.isArray(z.data[0])?z.fields:typeof z.data[0]=="object"?Object.keys(z.data[0]):[]),Array.isArray(z.data[0])||typeof z.data[0]=="object"||(z.data=[z.data])),ct(z.fields||[],z.data||[],K);throw new Error("Unable to serialize unrecognized input");function ct(C,H,nt){var at="",lt=(typeof C=="string"&&(C=JSON.parse(C)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(C)&&0<C.length),xt=!Array.isArray(H[0]);if(lt&&st){for(var pt=0;pt<C.length;pt++)0<pt&&(at+=ot),at+=T(C[pt],pt);0<H.length&&(at+=Ot)}for(var bt=0;bt<H.length;bt++){var Qt=(lt?C:H[bt]).length,Lt=!1,Zt=lt?Object.keys(H[bt]).length===0:H[bt].length===0;if(nt&&!lt&&(Lt=nt==="greedy"?H[bt].join("").trim()==="":H[bt].length===1&&H[bt][0].length===0),nt==="greedy"&&lt){for(var ue=[],At=0;At<Qt;At++){var It=xt?C[At]:At;ue.push(H[bt][It])}Lt=ue.join("").trim()===""}if(!Lt){for(var jt=0;jt<Qt;jt++){0<jt&&!Zt&&(at+=ot);var Ee=lt&&xt?C[jt]:jt;at+=T(H[bt][Ee],jt)}bt<H.length-1&&(!nt||0<Qt&&!Zt)&&(at+=Ot)}}return at}function T(C,H){var nt,at;return C==null?"":C.constructor===Date?JSON.stringify(C).slice(1,25):(at=!1,W&&typeof C=="string"&&W.test(C)&&(C="'"+C,at=!0),nt=C.toString().replace(dt,ae),(at=at||$===!0||typeof $=="function"&&$(C,H)||Array.isArray($)&&$[H]||((lt,xt)=>{for(var pt=0;pt<xt.length;pt++)if(-1<lt.indexOf(xt[pt]))return!0;return!1})(nt,b.BAD_DELIMITERS)||-1<nt.indexOf(ot)||nt.charAt(0)===" "||nt.charAt(nt.length-1)===" ")?Nt+nt+Nt:nt)}},b.RECORD_SEP="",b.UNIT_SEP="",b.BYTE_ORDER_MARK="\uFEFF",b.BAD_DELIMITERS=["\r",`
`,'"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!p&&!!u.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=",",b.Parser=rt,b.ParserHandle=j,b.NetworkStreamer=R,b.FileStreamer=D,b.StringStreamer=P,b.ReadableStreamStreamer=I,u.jQuery&&((d=u.jQuery).fn.parse=function(z){var M=z.config||{},$=[];return this.each(function(Ot){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&u.FileReader)||!this.files||this.files.length===0)return!0;for(var Nt=0;Nt<this.files.length;Nt++)$.push({file:this.files[Nt],inputElem:this,instanceConfig:d.extend({},M)})}),st(),this;function st(){if($.length===0)ut(z.complete)&&z.complete();else{var Ot,Nt,ae,K,Q=$[0];if(ut(z.before)){var W=z.before(Q.file,Q.inputElem);if(typeof W=="object"){if(W.action==="abort")return Ot="AbortError",Nt=Q.file,ae=Q.inputElem,K=W.reason,void(ut(z.error)&&z.error({name:Ot},Nt,ae,K));if(W.action==="skip")return void ot();typeof W.config=="object"&&(Q.instanceConfig=d.extend(Q.instanceConfig,W.config))}else if(W==="skip")return void ot()}var dt=Q.instanceConfig.complete;Q.instanceConfig.complete=function(ct){ut(dt)&&dt(ct,Q.file,Q.inputElem),ot()},b.parse(Q.file,Q.instanceConfig)}}function ot(){$.splice(0,1),st()}}),_&&(u.onmessage=function(z){z=z.data,b.WORKER_ID===void 0&&z&&(b.WORKER_ID=z.workerId),typeof z.input=="string"?u.postMessage({workerId:b.WORKER_ID,results:b.parse(z.input,z.config),finished:!0}):(u.File&&z.input instanceof File||z.input instanceof Object)&&(z=b.parse(z.input,z.config))&&u.postMessage({workerId:b.WORKER_ID,results:z,finished:!0})}),(R.prototype=Object.create(A.prototype)).constructor=R,(D.prototype=Object.create(A.prototype)).constructor=D,(P.prototype=Object.create(P.prototype)).constructor=P,(I.prototype=Object.create(A.prototype)).constructor=I,b})})(Cu)),Cu.exports}var sb=ab();const x_=sf(sb);let Vh=null;const $p=async()=>{if(Vh)return Vh;const l="/airport_tracker/",a=l.endsWith("/")?`${l}airports.csv`:`${l}/airports.csv`;console.log("Fetching airport database from:",a);const o=await fetch(a);if(!o.ok)throw new Error(`Failed to load airport database: ${o.statusText}`);const u=await o.text();return new Promise((d,p)=>{x_.parse(u,{header:!0,skipEmptyLines:!0,complete:_=>{console.log(`Parsed ${_.data.length} airports from database.`),Vh=_.data,d(_.data)},error:_=>p(_)})})},rb=()=>typeof window>"u"?!1:new URLSearchParams(window.location.search).has("share"),ia=yv()(Sv((l,a)=>({airports:[],user:null,isLoading:!1,focusAirportId:null,setFocusAirportId:o=>l({focusAirportId:o}),focusBounds:null,setFocusBounds:o=>l({focusBounds:o}),isSharedView:rb(),setSharedView:o=>l({isSharedView:o}),setAirports:o=>l({airports:o}),mapSettings:{detectRetina:!0,pixelated:!1},updateMapSettings:o=>l(u=>({mapSettings:{...u.mapSettings,...o}})),mapLayer:"sectional",setMapLayer:o=>l({mapLayer:o}),setUser:async o=>{const u=a().user,d=a().airports;if(l({user:o}),o){if(console.log("User signed in:",o.email),await a().syncAirports(),!u&&d.length>0){const p=a().airports,_=d.filter(w=>!p.some(y=>y.code===w.code&&y.type===w.type));if(_.length>0){console.log(`Merging ${_.length} guest airports into account...`);const w=_.map(b=>({id:b.id,user_id:o.id,code:b.code,name:b.name,lat:b.lat,lng:b.lng,type:b.type,notes:b.notes,date_visited:b.dateVisited})),{error:y}=await Fn.from("airports").insert(w);y?(console.error("Merge error:",y),alert(`Failed to sync guest data: ${y.message}`)):await a().syncAirports()}}}else u&&(console.log("User signed out, clearing local pins."),l({airports:[]}))},syncAirports:async()=>{const{user:o}=a();if(l({isSharedView:!1}),!o)return;l({isLoading:!0});const{data:u,error:d}=await Fn.from("airports").select("*").eq("user_id",o.id);if(d)console.error("Sync error:",d),alert(`Cloud Sync Failed: ${d.message}
(Please ensure you ran the SQL script in your Supabase SQL Editor)`);else{const p=u.map(_=>({id:_.id,code:_.code,name:_.name,lat:_.lat,lng:_.lng,type:_.type,notes:_.notes,dateVisited:_.date_visited}));l({airports:p})}l({isLoading:!1})},addAirport:async o=>{const{user:u}=a();if(!a().airports.some(d=>d.code===o.code&&d.type===o.type)&&(l(d=>({airports:[...d.airports,o],focusAirportId:o.id})),u)){const{error:d}=await Fn.from("airports").insert({id:o.id,user_id:u.id,code:o.code,name:o.name,lat:o.lat,lng:o.lng,type:o.type,notes:o.notes,date_visited:o.dateVisited});d&&console.error("Supabase error:",d)}},addAirports:async o=>{const{user:u}=a();if(o.length!==0){if(o.length===1)l(d=>({airports:[...d.airports,...o],focusAirportId:o[0].id,focusBounds:null}));else{const d=o.map(p=>[p.lat,p.lng]);l(p=>({airports:[...p.airports,...o],focusAirportId:null,focusBounds:d}))}if(u){const d=o.map(_=>({id:_.id,user_id:u.id,code:_.code,name:_.name,lat:_.lat,lng:_.lng,type:_.type,notes:_.notes,date_visited:_.dateVisited})),{error:p}=await Fn.from("airports").insert(d);p&&(console.error("Supabase error:",p),alert(`Failed to save to cloud: ${p.message}`))}}},removeAirport:async o=>{const{user:u,focusAirportId:d}=a();if(l(p=>({airports:p.airports.filter(_=>_.id!==o),focusAirportId:d===o?null:d})),u){const{error:p}=await Fn.from("airports").delete().eq("id",o);p&&console.error("Supabase error:",p)}},getAirportByCode:o=>a().airports.find(u=>u.code===o),addManualAirport:async(o,u)=>{const d=o.trim().toUpperCase();try{const p=await $p();let _=p.find(D=>D.ident===d||D.iata_code===d||D.local_code===d||D.gps_code===d);if(!_){const D=p.filter(P=>P.name&&P.name.toUpperCase().includes(d));if(D.length===1)_=D[0];else if(D.length>1)return{status:"ambiguous",candidates:D.slice(0,10),message:`Multiple matches found for "${o}". Please select one:`}}if(!_)return{status:"not_found",message:`No exact code or name matches for "${o}".`};const w=o.trim().toUpperCase();if(/^[A-Z]{3}$/.test(w)&&_.ident!==w)return{status:"not_found",message:`Matched ${_.name} (${_.ident}), but skipping because "${w}" is likely a VOR waypoint, not the airport itself.`};let b=_.ident;if((_.iata_code===w||_.local_code===w)&&(b=w),a().airports.find(D=>D.code===b&&D.type===u))return{status:"success",message:`Airport ${b} (${_.name}) is already in your ${u} list.`};const R={id:crypto.randomUUID(),code:b,name:_.name,lat:parseFloat(_.latitude_deg),lng:parseFloat(_.longitude_deg),type:u,dateVisited:u==="visited"?new Date().toISOString().split("T")[0]:void 0,notes:`Manually added: "${o}".`};return await a().addAirport(R),{status:"success",message:`Added ${_.name} (${b})`}}catch(p){return console.error(p),{status:"not_found",message:"Database error"}}},importFlightLog:async o=>{const{airports:u}=a(),d=[],p=new Set,_=new Set(u.map(w=>w.code));try{const w=await $p(),y=new Map,b=(A,R)=>{if(!A)return;const D=y.get(A);if(!D){y.set(A,R);return}const P=I=>{let j=0;return I.iso_country==="US"&&(j+=10),I.type==="large_airport"&&(j+=5),I.type==="medium_airport"&&(j+=3),I.type==="small_airport"&&(j+=1),I.ident===A&&(j+=20),I.type==="closed"&&(j-=100),j};P(R)>P(D)&&y.set(A,R)};return w.forEach(A=>{b(A.ident,A),b(A.icao_code,A),b(A.iata_code,A),b(A.gps_code,A),b(A.local_code,A)}),o.forEach(A=>{const R=(D,P)=>{if(!D)return;const I=D.trim().toUpperCase();if(!I)return;const j=y.get(I);if(j){if(p.has(j.ident)||_.has(j.ident)||/^[A-Z]{3}$/.test(I)&&j.ident!==I)return;let rt=j.ident;if((j.iata_code===I||j.local_code===I)&&(rt=I),_.has(rt)||p.has(rt))return;d.push({id:crypto.randomUUID(),code:rt,name:j.name,lat:parseFloat(j.latitude_deg),lng:parseFloat(j.longitude_deg),type:"visited",dateVisited:A.date,notes:"Imported from flight log.",source:P}),p.add(I),p.add(j.ident),p.add(rt)}};R(A.from,"from"),R(A.to,"to"),A.route&&A.route.split(/[\s->]+/).filter(Boolean).forEach(P=>R(P,"route"))}),d}catch(w){throw console.error("Failed to map airports",w),w}},clearAirports:async()=>{const{user:o}=a();if(l({airports:[]}),o){const{error:u}=await Fn.from("airports").delete().eq("user_id",o.id);u&&console.error("Supabase error:",u)}},loadUserAirports:async o=>{l({isLoading:!0,isSharedView:!0});const{data:u,error:d}=await Fn.from("airports").select("*").eq("user_id",o);if(d)console.error("Error loading public airports:",d);else{const p=u.map(_=>({id:_.id,code:_.code,name:_.name,lat:_.lat,lng:_.lng,type:_.type,notes:_.notes,dateVisited:_.date_visited}));l({airports:p})}l({isLoading:!1})}}),{name:"airport-storage",partialize:l=>l.isSharedView?{}:{airports:l.airports}}));const ob=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lb=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,u)=>u?u.toUpperCase():o.toLowerCase()),Xp=l=>{const a=lb(l);return a.charAt(0).toUpperCase()+a.slice(1)},T_=(...l)=>l.filter((a,o,u)=>!!a&&a.trim()!==""&&u.indexOf(a)===o).join(" ").trim(),ub=l=>{for(const a in l)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var cb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hb=Et.forwardRef(({color:l="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:p,iconNode:_,...w},y)=>Et.createElement("svg",{ref:y,...cb,width:a,height:a,stroke:l,strokeWidth:u?Number(o)*24/Number(a):o,className:T_("lucide",d),...!p&&!ub(w)&&{"aria-hidden":"true"},...w},[..._.map(([b,A])=>Et.createElement(b,A)),...Array.isArray(p)?p:[p]]));const Je=(l,a)=>{const o=Et.forwardRef(({className:u,...d},p)=>Et.createElement(hb,{ref:p,iconNode:a,className:T_(`lucide-${ob(Xp(l))}`,`lucide-${l}`,u),...d}));return o.displayName=Xp(l),o};const fb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],db=Je("check",fb);const mb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],pb=Je("list",mb);const _b=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Jp=Je("log-in",_b);const gb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vb=Je("log-out",gb);const yb=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],bb=Je("map",yb);const wb=[["path",{d:"M5 12h14",key:"1ays0h"}]],Sb=Je("minus",wb);const xb=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Tb=Je("plane",xb);const Eb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ab=Je("plus",Eb);const Ob=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cb=Je("search",Ob);const Rb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kb=Je("settings",Rb);const Lb=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],zb=Je("share-2",Lb);const Mb=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qp=Je("square-check-big",Mb);const Nb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Fp=Je("square",Nb);const jb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wp=Je("trash-2",jb);const Db=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ub=Je("upload",Db);const Bb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Pb=Je("user-plus",Bb);const Hb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qb=Je("user",Hb);const Zb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ib=Je("x",Zb),Gb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Vb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let Kb=i_.icon({iconUrl:Gb,shadowUrl:Vb,iconSize:[25,41],iconAnchor:[12,41]});i_.Marker.prototype.options.icon=Kb;const Yb=({markerRefs:l})=>{const a=s_(),{focusAirportId:o,airports:u,setFocusAirportId:d,focusBounds:p,setFocusBounds:_}=ia();return Et.useEffect(()=>{if(o){const w=u.find(b=>b.id===o),y=l.current.get(o);w&&(a.flyTo([w.lat,w.lng],12,{duration:1.5}),y&&setTimeout(()=>{y.openPopup()},500),d(null))}},[o,u,a,l,d]),Et.useEffect(()=>{p&&p.length>0&&(a.fitBounds(p,{padding:[50,50],maxZoom:12,animate:!0,duration:1.5}),_(null))},[p,a,_]),null},$b=()=>{const l=s_(),[a,o]=Li.useState(l.getZoom());Li.useEffect(()=>{const p=()=>{o(l.getZoom())};return l.on("zoomend",p),()=>{l.off("zoomend",p)}},[l]);const u=p=>{p.stopPropagation(),l.zoomIn()},d=p=>{p.stopPropagation(),l.zoomOut()};return N.jsx("div",{className:"leaflet-top leaflet-left",children:N.jsxs("div",{className:"leaflet-control leaflet-bar flex flex-col items-center bg-white shadow-md rounded-md overflow-hidden border-2 border-rgba(0,0,0,0.2) mt-2.5 ml-2.5",children:[N.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 border-b border-gray-200 transition-colors w-full flex justify-center bg-white cursor-pointer",title:"Zoom In",children:N.jsx(Ab,{className:"h-4 w-4 text-gray-700"})}),N.jsx("div",{className:"px-2 py-1 text-xs font-bold text-gray-900 bg-gray-50 flex justify-center items-center w-full select-none cursor-default",title:`Current Zoom Level: ${a}`,children:a}),N.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 border-t border-gray-200 transition-colors w-full flex justify-center bg-white cursor-pointer",title:"Zoom Out",children:N.jsx(Sb,{className:"h-4 w-4 text-gray-700"})})]})})},Xb=()=>{const{mapSettings:l}=ia();return N.jsx(ff,{attribution:'FAA VFR Sectional  <a href="https://www.faa.gov">FAA</a>',url:"https://tiles.arcgis.com/tiles/ssFJjBXIUyZDrSYZ/arcgis/rest/services/VFR_Sectional/MapServer/tile/{z}/{y}/{x}",minZoom:5,minNativeZoom:8,maxZoom:22,maxNativeZoom:11,opacity:1,zIndex:100,detectRetina:l.detectRetina,className:l.pixelated?"pixelated-tiles":""},`vfr-${l.detectRetina}-${l.pixelated}`)},Jb=()=>{const{mapSettings:l}=ia();return N.jsx(ff,{attribution:'FAA Terminal Area Charts  <a href="https://www.faa.gov">FAA</a>',url:"https://tiles.arcgis.com/tiles/ssFJjBXIUyZDrSYZ/arcgis/rest/services/VFR_Terminal/MapServer/tile/{z}/{y}/{x}",minZoom:10,maxZoom:22,maxNativeZoom:11,opacity:1,zIndex:101,detectRetina:l.detectRetina,className:l.pixelated?"pixelated-tiles":""},`tac-${l.detectRetina}-${l.pixelated}`)},Qb=()=>{const{airports:l,removeAirport:a,mapLayer:o}=ia(),u=Et.useRef(new Map);return N.jsx("div",{className:"h-full w-full relative z-0",children:N.jsxs(fv,{center:[47.5,-122.2],zoom:8,minZoom:4,maxZoom:12,scrollWheelZoom:!0,className:"h-full w-full",zoomControl:!1,children:[N.jsx(Yb,{markerRefs:u}),N.jsx($b,{}),N.jsx(ff,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",detectRetina:!0}),o==="sectional"&&N.jsxs(N.Fragment,{children:[N.jsx(Xb,{}),N.jsx(Jb,{})]}),l.map(d=>N.jsx(dv,{position:[d.lat,d.lng],ref:p=>{p?u.current.set(d.id,p):u.current.delete(d.id)},children:N.jsx(mv,{children:N.jsxs("div",{className:"min-w-[120px]",children:[N.jsxs("div",{className:"font-bold flex justify-between items-center mb-1",children:[N.jsx("span",{children:d.code}),N.jsx("span",{className:`h-2 w-2 rounded-full ${d.type==="visited"?"bg-green-500":"bg-blue-500"}`})]}),N.jsx("div",{className:"text-sm mb-2",children:d.name}),N.jsx("div",{className:"text-[10px] uppercase font-bold text-gray-500 mb-2",children:d.type}),N.jsx("button",{onClick:p=>{p.stopPropagation(),a(d.id)},className:"w-full py-1 px-2 bg-red-50 text-red-600 text-xs rounded hover:bg-red-500 hover:text-white transition-colors border border-red-100",children:"Remove Airport"})]})})},d.id))]})})},Fb=()=>{const{user:l,setUser:a}=ia(),[o,u]=Et.useState(""),[d,p]=Et.useState(""),[_,w]=Et.useState(!1),[y,b]=Et.useState("login"),[A,R]=Et.useState(!1);Et.useEffect(()=>{Fn.auth.getSession().then(({data:{session:j}})=>{a(j?.user??null)});const{data:{subscription:I}}=Fn.auth.onAuthStateChange((j,it)=>{a(it?.user??null)});return()=>I.unsubscribe()},[a]);const D=async I=>{I.preventDefault(),w(!0);try{if(y==="login"){const{error:j}=await Fn.auth.signInWithPassword({email:o,password:d});if(j)throw j;R(!1)}else{const{error:j}=await Fn.auth.signUp({email:o,password:d});if(j)throw j;alert("Check your email for the confirmation link!"),b("login")}}catch(j){alert(j.message)}finally{w(!1)}},P=async()=>{await Fn.auth.signOut(),a(null)};return l?N.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[N.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[N.jsx(qb,{className:"h-4 w-4 text-blue-500 shrink-0"}),N.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:l.email})]}),N.jsx("button",{onClick:P,className:"hover:bg-red-50 text-red-600 p-2 rounded-lg transition-colors shrink-0",title:"Sign Out",children:N.jsx(vb,{className:"h-4 w-4"})})]}):N.jsxs("div",{className:"p-3 bg-blue-50/50 rounded-xl border border-blue-100",children:[N.jsxs("button",{onClick:()=>R(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg shadow-sm flex items-center justify-center gap-2 transition-all font-medium text-sm",children:[N.jsx(Jp,{className:"h-4 w-4"})," Sign In to Cloud Sync"]}),A&&N.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:N.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[N.jsxs("div",{className:"p-8",children:[N.jsxs("div",{className:"flex justify-between items-center mb-8",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:y==="login"?"Welcome Back":"Create Account"}),N.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),N.jsxs("form",{onSubmit:D,className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),N.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"pilot@example.com",value:o,onChange:I=>u(I.target.value)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),N.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"",value:d,onChange:I=>p(I.target.value)})]}),N.jsx("button",{type:"submit",disabled:_,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-200 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:_?"Processing...":y==="login"?N.jsxs(N.Fragment,{children:[N.jsx(Jp,{className:"h-5 w-5"})," Sign In"]}):N.jsxs(N.Fragment,{children:[N.jsx(Pb,{className:"h-5 w-5"})," Create Account"]})})]}),N.jsx("div",{className:"mt-6 text-center",children:N.jsx("button",{onClick:()=>b(y==="login"?"signup":"login"),className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",children:y==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),N.jsx("div",{className:"bg-gray-50 px-8 py-4 text-center",children:N.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Cloud Sync Powered by Supabase"})})]})})]})},Wb=()=>{const{airports:l,user:a,importFlightLog:o,addAirports:u,addManualAirport:d,addAirport:p,removeAirport:_,clearAirports:w,mapLayer:y,setMapLayer:b,setFocusAirportId:A}=ia(),[R,D]=Et.useState(!0),[P,I]=Et.useState("upload"),[j,it]=Et.useState(null),[rt,ht]=Et.useState(!1),[J,gt]=Et.useState(null),[Mt,mt]=Et.useState(new Set);Li.useEffect(()=>{if(j){const C=setTimeout(()=>it(null),3e3);return()=>clearTimeout(C)}},[j]);const ut=()=>{if(!a)return;const C=`${window.location.origin}${window.location.pathname}?share=${a.id}`;navigator.clipboard.writeText(C),ht(!0),it({text:"Share link copied!",type:"success"}),setTimeout(()=>ht(!1),2e3)},[z,M]=Et.useState([]),[$,st]=Et.useState({code:"",type:"visited",lat:"",lng:"",name:""}),[ot,Ot]=Et.useState(!1),[Nt,ae]=Et.useState(!1),K=C=>{const H=C.target.files?.[0];H&&x_.parse(H,{header:!1,complete:nt=>{const at=nt.data,lt=at.findIndex(At=>At[0]?.includes("Flights Table"));if(lt===-1){alert("Could not find Flights Table in the CSV");return}const xt=lt+1,pt=at[xt],bt=pt.indexOf("Date"),Qt=pt.indexOf("From"),Lt=pt.indexOf("To"),Zt=pt.indexOf("Route");console.log(`Found columns - Date: ${bt}, From: ${Qt}, To: ${Lt}, Route: ${Zt}`);const ue=at.slice(xt+1).map(At=>({date:At[bt],from:At[Qt],to:At[Lt],route:At[Zt]})).filter(At=>At.date&&At.from&&At.to);console.log(`[V1.14] Parsed ${ue.length} valid flight entries.`),o(ue).then(At=>{if(console.log(`[V1.14] Store returned ${At.length} new airports.`),At.length===0){alert("Log processed. No new airports found to add.");return}gt(At),mt(new Set(At.map(It=>It.id)))}).catch(At=>{console.error("Import error:",At),alert("Import failed unexpectedly.")})}})},Q=async()=>{if(!J)return;const C=J.filter(H=>Mt.has(H.id));C.length>0&&(await u(C),it({text:`Successfully added ${C.length} new airports!`,type:"success"})),gt(null),mt(new Set),I("manage")},W=C=>{const H=new Set(Mt);H.has(C)?H.delete(C):H.add(C),mt(H)},dt=()=>{J&&(Mt.size===J.length?mt(new Set):mt(new Set(J.map(C=>C.id))))},ct=async C=>{if(C.preventDefault(),!$.code){alert("Airport Code is required.");return}if(Ot(!0),M([]),Nt&&$.lat&&$.lng){p({id:crypto.randomUUID(),code:$.code.toUpperCase(),name:$.name||void 0,lat:parseFloat($.lat),lng:parseFloat($.lng),type:$.type,notes:"Manually added custom airport",dateVisited:$.type==="visited"?new Date().toISOString().split("T")[0]:void 0}),it({text:`Added custom airport ${$.code}.`,type:"success"}),st(nt=>({...nt,code:"",lat:"",lng:"",name:""})),ae(!1),Ot(!1);return}const H=await d($.code,$.type);H.status==="success"?(it({text:H.message||"Added successfully",type:"success"}),st(nt=>({...nt,code:""})),ae(!1),M([])):H.status==="ambiguous"&&H.candidates?M(H.candidates):(it({text:H.message||`"${$.code}" not found.`,type:"error"}),confirm(`"${$.code}" not found. Enter manual coordinates?`)&&ae(!0)),Ot(!1)},T=async C=>{const H=await d(C.ident,$.type);H.status==="success"?(it({text:H.message||"Added successfully",type:"success"}),st(nt=>({...nt,code:""})),M([])):it({text:H.message||"Error adding airport.",type:"error"})};return N.jsxs("div",{className:`absolute bottom-8 left-4 z-[1000] bg-white p-4 rounded-lg shadow-xl w-80 transition-all ${R?"opacity-100":"opacity-90"}`,children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[N.jsx(Tb,{className:"h-5 w-5"})," Flight Log"]}),N.jsxs("div",{className:"flex items-center gap-2",children:[a&&N.jsxs("button",{onClick:ut,className:`p-1.5 rounded-full transition-all flex items-center gap-1 ${rt?"bg-green-50 text-green-600":"text-blue-600 hover:bg-blue-50"}`,title:rt?"Copied!":"Share Map",children:[rt?N.jsx(db,{className:"h-4 w-4"}):N.jsx(zb,{className:"h-4 w-4"}),rt&&N.jsx("span",{className:"text-[10px] font-bold pr-1",children:"Copied!"})]}),N.jsx("button",{onClick:()=>D(!R),className:"text-sm text-gray-500 hover:text-black",children:R?"Minimize":"Expand"})]})]}),R&&N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex border-b border-gray-200",children:[N.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${P==="upload"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>I("upload"),children:"Upload"}),N.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${P==="manual"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>I("manual"),children:"Add"}),N.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${P==="manage"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>I("manage"),children:"Manage"}),N.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${P==="settings"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>I("settings"),children:"Settings"})]}),P==="upload"?N.jsx(N.Fragment,{children:J?N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"Preview Import"}),N.jsx("button",{onClick:()=>gt(null),className:"text-gray-400 hover:text-black",children:N.jsx(Ib,{className:"h-4 w-4"})})]}),N.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["From your log: ",J.length," items found."]}),N.jsx("div",{className:"flex items-center gap-2 mb-2",children:N.jsxs("button",{onClick:dt,className:"text-[10px] flex items-center gap-1 text-blue-600 font-bold hover:underline",children:[Mt.size===J.length?N.jsx(Qp,{className:"h-3 w-3"}):N.jsx(Fp,{className:"h-3 w-3"}),Mt.size===J.length?"Deselect All":"Select All"]})}),N.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-md p-2 bg-gray-50 custom-scrollbar",children:J.map(C=>N.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border border-gray-100 cursor-pointer hover:bg-blue-50 transition-colors",onClick:()=>W(C.id),children:[Mt.has(C.id)?N.jsx(Qp,{className:"h-4 w-4 text-blue-600"}):N.jsx(Fp,{className:"h-4 w-4 text-gray-300"}),N.jsx("div",{className:"min-w-0 flex-1",children:N.jsxs("div",{className:"flex items-center justify-between gap-2",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"font-bold text-xs",children:C.code}),N.jsx("span",{className:"text-[10px] text-gray-400 truncate max-w-[120px]",children:C.name})]}),C.source&&N.jsx("span",{className:`text-[8px] uppercase px-1.5 py-0.5 rounded-full font-bold border ${C.source==="from"?"bg-blue-50 text-blue-600 border-blue-100":C.source==="to"?"bg-green-50 text-green-600 border-green-100":"bg-purple-50 text-purple-600 border-purple-100"}`,children:C.source})]})})]},C.id))}),N.jsxs("button",{onClick:Q,disabled:Mt.size===0,className:`w-full py-2 px-4 rounded-md shadow-sm text-sm font-medium text-white transition-all ${Mt.size===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:scale-95"}`,children:["Import ",Mt.size," Airports"]})]}):N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-6 flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer relative",children:[N.jsx(Ub,{className:"h-8 w-8 text-gray-400 mb-2"}),N.jsx("span",{className:"text-sm text-gray-600",children:"Upload ForeFlight CSV"}),N.jsx("input",{type:"file",accept:".csv",onChange:K,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),N.jsx("div",{className:"text-xs text-gray-400",children:N.jsx("p",{children:"Supporting ForeFlight exports."})})]})}):P==="manual"?N.jsx("div",{className:"space-y-3",children:z.length>0?N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("p",{className:"text-xs font-bold text-gray-700",children:"Did you mean?"}),N.jsx("button",{onClick:()=>M([]),className:"text-xs text-red-500 hover:underline",children:"Cancel"})]}),N.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1 border rounded-md p-1 bg-gray-50",children:z.map(C=>N.jsxs("button",{onClick:()=>T(C),className:"w-full text-left p-2 text-xs hover:bg-blue-100 rounded border-b last:border-0 border-gray-100 transition-colors",children:[N.jsx("span",{className:"font-bold block",children:C.ident}),N.jsx("span",{className:"block truncate",children:C.name}),N.jsxs("span",{className:"text-gray-500 block truncate",children:[C.municipality,", ",C.iso_region]})]},C.ident))})]}):N.jsxs("form",{onSubmit:ct,className:"space-y-3",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Airport Code or Name"}),N.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[N.jsx("input",{type:"text",placeholder:"e.g. JFK or Forks",className:"focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 border",value:$.code,onChange:C=>st({...$,code:C.target.value})}),N.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:N.jsx(Cb,{className:"h-4 w-4 text-gray-400"})})]})]}),Nt&&N.jsxs("div",{className:"p-3 bg-gray-50 rounded-md space-y-2 border border-blue-100",children:[N.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Custom Airport Details"}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Name"}),N.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm p-1 border",value:$.name,onChange:C=>st({...$,name:C.target.value})})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Lat"}),N.jsx("input",{type:"number",step:"any",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm p-1 border",value:$.lat,onChange:C=>st({...$,lat:C.target.value})})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Lng"}),N.jsx("input",{type:"number",step:"any",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm p-1 border",value:$.lng,onChange:C=>st({...$,lng:C.target.value})})]})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Type"}),N.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border bg-white",value:$.type,onChange:C=>st({...$,type:C.target.value}),children:[N.jsx("option",{value:"visited",children:"Visited (or Fuel Stop)"}),N.jsx("option",{value:"wishlist",children:"Wishlist / Planned"})]})]}),N.jsx("button",{type:"submit",disabled:ot,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${ot?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:ot?"Searching...":Nt?"Add Custom Airport":"Find & Add"}),j&&N.jsx("div",{className:`mt-2 text-xs font-medium text-center p-2 rounded ${j.type==="success"?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:j.text}),!Nt&&N.jsx("p",{className:"text-xs text-gray-500 text-center",children:"* Searches 70k+ airports by Code or Name."})]})}):N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("p",{className:"text-xs font-bold text-gray-700 uppercase tracking-widest",children:["Added Airports (",l.length,")"]}),l.length>0&&N.jsxs("button",{onClick:()=>{confirm("Are you sure you want to clear ALL airports? This cannot be undone.")&&w()},className:"text-[10px] text-gray-400 hover:text-red-500 transition-colors flex items-center gap-1",children:[N.jsx(Wp,{className:"h-3 w-3"})," Clear All"]})]}),N.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:l.length===0?N.jsxs("div",{className:"text-center py-8",children:[N.jsx(pb,{className:"h-8 w-8 text-gray-200 mx-auto mb-2"}),N.jsx("p",{className:"text-sm text-gray-400",children:"No airports added yet."})]}):l.map(C=>N.jsxs("div",{onClick:()=>A(C.id),className:"flex justify-between items-center p-2 bg-gray-50 rounded-md border border-gray-100 group cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all",children:[N.jsxs("div",{className:"min-w-0 flex-1",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"font-bold text-xs",children:C.code}),N.jsx("span",{className:`h-2 w-2 rounded-full ${C.type==="visited"?"bg-green-500":"bg-blue-500"}`})]}),N.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:C.name||"Unknown name"})]}),N.jsx("button",{onClick:H=>{H.stopPropagation(),_(C.id)},className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-all ml-2",title:"Remove",children:N.jsx(Wp,{className:"h-4 w-4"})})]},C.id))})]}),P==="settings"&&N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"space-y-3",children:[N.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[N.jsx(bb,{className:"h-4 w-4"})," Map Display"]}),N.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[N.jsx("button",{onClick:()=>b("osm"),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${y==="osm"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-blue-300"}`,children:"OpenStreetMap"}),N.jsx("button",{onClick:()=>b("sectional"),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${y==="sectional"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-blue-300"}`,children:"VFR Sectional"})]}),N.jsx("div",{className:"space-y-2 mt-2 pt-2 border-t border-gray-100",children:N.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-700 cursor-pointer",children:[N.jsx("input",{type:"checkbox",checked:ia.getState().mapSettings.pixelated,onChange:C=>ia.getState().updateMapSettings({pixelated:C.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 h-4 w-4"}),N.jsx("span",{children:"Pixelated Scaling (Sharp)"})]})})]}),N.jsxs("div",{className:"space-y-3",children:[N.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[N.jsx(kb,{className:"h-4 w-4"})," Account"]}),N.jsx(Fb,{})]})]})]})]})};function tw(){const{user:l,loadUserAirports:a,syncAirports:o,isSharedView:u,setSharedView:d,setAirports:p}=ia();Et.useEffect(()=>{console.log("[V1.24] Airport Tracker initialized")},[]),Et.useEffect(()=>{const y=new URLSearchParams(window.location.search).get("share");y?a(y):u&&(l?o():p([]),d(!1))},[l,u,a,o,d,p]);const _=new URLSearchParams(window.location.search).has("share");return N.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-gray-100 flex flex-col",children:[_&&N.jsxs("div",{className:"absolute top-4 right-4 z-[1000] bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-xl shadow-lg flex items-center gap-4 backdrop-blur-sm bg-opacity-95",children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"font-bold text-[10px] uppercase tracking-wider text-yellow-600",children:"Viewing Shared Map"}),N.jsx("a",{href:window.location.origin+window.location.pathname,className:"text-sm text-blue-600 hover:text-blue-800 font-bold transition-colors",children:"Start your own tracker "})]}),N.jsx("button",{onClick:()=>window.location.href=window.location.origin+window.location.pathname,className:"w-6 h-6 flex items-center justify-center hover:bg-yellow-200 rounded-full transition-colors text-lg",title:"Back to my map",children:""})]}),N.jsxs("div",{className:"flex-1 relative",children:[N.jsx(Qb,{}),!_&&N.jsx(Wb,{})]})]})}Xg.createRoot(document.getElementById("root")).render(N.jsx(Et.StrictMode,{children:N.jsx(tw,{})}));
